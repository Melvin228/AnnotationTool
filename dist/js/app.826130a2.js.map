{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?bdb2","webpack:///./src/components/menu/model/modal-select-savetype.vue?232d","webpack:///./src/components/prompt-restore-data/restore-data.vue?1671","webpack:///./src/components/action-bar/actions/action-opacity.vue?e4aa","webpack:///./src/assets/icons/rectangle.svg","webpack:///./src/assets/imglab_logo.png","webpack:///./src/components/menu/model/modal-get-filename.vue?561f","webpack:///./src/components/tools/toolbox.vue?8bad","webpack:///./src/components/action-bar/actions/action-feature-point.vue?feaa","webpack:///./src/assets/icons/files-white.png","webpack:///./src/App.vue?3d7a","webpack:///./src/components/action-bar/action-bar.vue?13b0","webpack:///./src/utils/tool-names.js","webpack:///./src/components/action-bar/actions/action-opacity.vue?2f91","webpack:///src/components/action-bar/actions/action-opacity.vue","webpack:///./src/components/action-bar/actions/action-opacity.vue?98bf","webpack:///./src/components/action-bar/actions/action-opacity.vue","webpack:///./src/components/action-bar/actions/action-zoom.vue?15e9","webpack:///./src/store/modules/app-config.js","webpack:///./src/store/modules/action-config.js","webpack:///./src/models/Image.js","webpack:///./src/models/FeaturePoint.js","webpack:///./src/models/Attribute.js","webpack:///./src/models/Shape.js","webpack:///./src/utils/scale-shapes.js","webpack:///./src/store/modules/image-store.js","webpack:///./src/store/modules/label-data.js","webpack:///./src/store/store.js","webpack:///./src/utils/app.js","webpack:///src/components/action-bar/actions/action-zoom.vue","webpack:///./src/components/action-bar/actions/action-zoom.vue?95f9","webpack:///./src/components/action-bar/actions/action-zoom.vue","webpack:///./src/components/action-bar/actions/action-feature-point.vue?1d8b","webpack:///src/components/action-bar/actions/action-feature-point.vue","webpack:///./src/components/action-bar/actions/action-feature-point.vue?acca","webpack:///./src/components/action-bar/actions/action-feature-point.vue","webpack:///./src/components/action-bar/config/config.js","webpack:///src/components/action-bar/action-bar.vue","webpack:///./src/components/action-bar/action-bar.vue?393a","webpack:///./src/components/action-bar/action-bar.vue","webpack:///./src/components/tools/toolbox.vue?39c2","webpack:///./src/components/tools/tools/rectangle.js","webpack:///./src/components/tools/tools/circle.js","webpack:///./src/components/tools/tools/polygon.js","webpack:///./src/components/tools/tools/point.js","webpack:///./src/components/tools/tools/move-tool.js","webpack:///./src/components/tools/tools/zoom.js","webpack:///./src/components/tools/tools/opacity.js","webpack:///./src/components/tools/config/config.js","webpack:///src/components/tools/toolbox.vue","webpack:///./src/components/tools/toolbox.vue?08d6","webpack:///./src/components/tools/toolbox.vue","webpack:///./src/components/workarea/workarea.vue?ab9a","webpack:///./src/utils/mouseCoordBus.js","webpack:///./src/components/workarea/util.js","webpack:///src/components/workarea/workarea.vue","webpack:///./src/components/workarea/workarea.vue?f23e","webpack:///./src/components/workarea/workarea.vue","webpack:///./src/components/image-slider/image-slider.vue?2692","webpack:///src/components/image-slider/image-slider.vue","webpack:///./src/components/image-slider/image-slider.vue?adad","webpack:///./src/components/image-slider/image-slider.vue","webpack:///./src/components/label-panel/label-panel.vue?7d2a","webpack:///./src/components/label-panel/panel/panel-feature-point.vue?13c7","webpack:///src/components/label-panel/panel/panel-feature-point.vue","webpack:///./src/components/label-panel/panel/panel-feature-point.vue?9433","webpack:///./src/components/label-panel/panel/panel-feature-point.vue","webpack:///./src/components/label-panel/panel/panel-tag.vue?3dd5","webpack:///src/components/label-panel/panel/panel-tag.vue","webpack:///./src/components/label-panel/panel/panel-tag.vue?ecec","webpack:///./src/components/label-panel/panel/panel-tag.vue","webpack:///./src/components/label-panel/panel/panel-attribute.vue?ed4a","webpack:///src/components/label-panel/panel/panel-attribute.vue","webpack:///./src/components/label-panel/panel/panel-attribute.vue?703c","webpack:///./src/components/label-panel/panel/panel-attribute.vue","webpack:///src/components/label-panel/label-panel.vue","webpack:///./src/components/label-panel/label-panel.vue?9c0c","webpack:///./src/components/label-panel/label-panel.vue","webpack:///./src/components/menu/menu.vue?301a","webpack:///./src/components/menu/action/nimn-format-imagestore.js","webpack:///./src/components/menu/action/nimn-format-appconfig.js","webpack:///./src/components/menu/action/nimn-format-labeldata.js","webpack:///./src/components/menu/model/modal-save.vue?bb43","webpack:///./src/components/menu/action/file-handler.js","webpack:///./src/components/menu/filetype.js","webpack:///./src/components/menu/model/modal-select-savetype.vue?8c2e","webpack:///./src/components/menu/model/modal-get-filename.vue?bbbe","webpack:///src/components/menu/model/modal-get-filename.vue","webpack:///./src/components/menu/model/modal-get-filename.vue?ecee","webpack:///./src/components/menu/model/modal-get-filename.vue","webpack:///src/components/menu/model/modal-select-savetype.vue","webpack:///./src/components/menu/model/modal-select-savetype.vue?0259","webpack:///./src/components/menu/model/modal-select-savetype.vue","webpack:///src/components/menu/model/modal-save.vue","webpack:///./src/components/menu/model/modal-save.vue?d7b9","webpack:///./src/components/menu/model/modal-save.vue","webpack:///src/components/menu/menu.vue","webpack:///./src/components/menu/menu.vue?9000","webpack:///./src/components/menu/menu.vue","webpack:///./src/components/mouse-coordinates/mouse-coordinates.vue?dcc2","webpack:///src/components/mouse-coordinates/mouse-coordinates.vue","webpack:///./src/components/mouse-coordinates/mouse-coordinates.vue?a9be","webpack:///./src/components/mouse-coordinates/mouse-coordinates.vue","webpack:///./src/components/prompt-restore-data/restore-data.vue?d5ed","webpack:///src/components/prompt-restore-data/restore-data.vue","webpack:///./src/components/prompt-restore-data/restore-data.vue?8ff9","webpack:///./src/components/prompt-restore-data/restore-data.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/plugins/svg.js","webpack:///./src/components/autocomplete-input/autocomplete-input.vue?9a22","webpack:///src/components/autocomplete-input/autocomplete-input.vue","webpack:///./src/components/autocomplete-input/autocomplete-input.vue?a41c","webpack:///./src/components/autocomplete-input/autocomplete-input.vue","webpack:///./src/main.js","webpack:///./src/assets/icons/zoomin.svg","webpack:///./src/components/action-bar/actions/action-zoom.vue?5a26","webpack:///./src/assets/icons/keyboard.svg","webpack:///./src/components/label-panel/panel/panel-attribute.vue?4c0e","webpack:///./src/assets/icons sync ^\\.\\/.*$","webpack:///./src/components/workarea/workarea.vue?7715","webpack:///./src/assets/icons/clock.svg","webpack:///./src/components/label-panel/panel/panel-feature-point.vue?4a76","webpack:///./src/assets/icons/point.svg","webpack:///./src/components/menu/menu.vue?f156","webpack:///./src/assets/icons/open.png","webpack:///./src/components/label-panel/panel/panel-tag.vue?3643","webpack:///./src/components/label-panel/label-panel.vue?eb35","webpack:///./src/assets/icons/circle.svg","webpack:///./src/components/menu/model/modal-save.vue?6910","webpack:///./src/assets/icons/polygon.svg","webpack:///./src/assets/icons/zoomout.svg","webpack:///./src/components/mouse-coordinates/mouse-coordinates.vue?d7f1","webpack:///./src/assets/icons/menu.svg","webpack:///./src/assets/icons/move.svg","webpack:///./src/components/action-bar/action-bar.vue?809e","webpack:///./src/components/image-slider/image-slider.vue?a17f","webpack:///./src/components/autocomplete-input/autocomplete-input.vue?4423"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_modal_select_savetype_vue_vue_type_style_index_0_id_66647dde_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_modal_select_savetype_vue_vue_type_style_index_0_id_66647dde_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_restore_data_vue_vue_type_style_index_0_id_0d5de786_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_restore_data_vue_vue_type_style_index_0_id_0d5de786_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_action_opacity_vue_vue_type_style_index_0_id_56f8afe0_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_action_opacity_vue_vue_type_style_index_0_id_56f8afe0_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_modal_get_filename_vue_vue_type_style_index_0_id_15fb87f9_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_modal_get_filename_vue_vue_type_style_index_0_id_15fb87f9_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_toolbox_vue_vue_type_style_index_0_id_77755cd8_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_toolbox_vue_vue_type_style_index_0_id_77755cd8_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_action_feature_point_vue_vue_type_style_index_0_id_54df26ca_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_action_feature_point_vue_vue_type_style_index_0_id_54df26ca_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_3b75a710_render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","id","_m","staticStyle","height","toolType","LABEL_TAG","CANVAS_TAG","width","margin","thumbnail-width","flex","overflow","staticRenderFns","href","margin-top","src","font-size","_v","action_barvue_type_template_id_587e921c_scoped_true_lang_html_render","action","tag","action_barvue_type_template_id_587e921c_scoped_true_lang_html_staticRenderFns","RECTANGLE","CIRCLE","POLYGON","POINT","MOVE","ZOOM","OPACITY","SHAPE","action_opacityvue_type_template_id_56f8afe0_scoped_true_lang_html_render","type","step","opacityStepSize","min","max","domProps","imageOpacity","on","change","dispatch","action_opacityvue_type_template_id_56f8afe0_scoped_true_lang_html_staticRenderFns","action_opacityvue_type_script_lang_js_","computed","objectSpread","vuex_esm","imageSelected","opacity","methods","updateImageDetail","event","target","actions_action_opacityvue_type_script_lang_js_","component","componentNormalizer","options","__file","action_opacity","action_zoomvue_type_template_id_b2b1bf94_scoped_true_lang_html_render","icon","click","zoomIn","maxlength","size","disabled","imageScale","zoomOut","zoomReset","action_zoomvue_type_template_id_b2b1bf94_scoped_true_lang_html_staticRenderFns","state","autosave","syncingInterval","enable","deleteIfExported","zoomStepSize","featurePointColor","mutations","setZoomStepSize","_ref","arguments","undefined","_ref$zoomStepSize","setOpacityStepSize","_ref2","_ref2$opacityStepSize","setFeaturePointColor","_ref3","_ref3$featurePointCol","setAutoSave","_ref4","_ref4$syncingInterval","_ref4$enable","_ref4$deleteIfExporte","init","_ref5","_ref5$autosave","_ref5$autosave$syncin","_ref5$autosave$enable","_ref5$autosave$delete","_ref5$zoomStepSize","_ref5$opacityStepSize","_ref5$featurePointCol","getters","getFeaturePointColor","getZoomStepSize","getOpacityStepSize","getAutosave","getStoreData","cloneDeepWith","require","app_config","namespaced","copiedElements","selectedTool","selectedToolDom","selected","shapes","featurePoints","lastShape","addSelectedElement","shapeID","featurePointID","setAdd","arr","item","addCopiedElement","removeSelectedElement","setRemove","setCopiedElements","_ref4$copiedElements","setSelectedTool","dom","classList","remove","add","setSelectedElements","_ref6","convertToArray","_ref7","_ref7$copiedElements","_ref7$selectedTool","_ref7$selected","Set","getCopiedElements","getSelectedTool","getSelectedShape","getSelectedShapes","getSelectedFeaturePoints","getConfig","action_config","Image","_ref$name","_ref$src","_ref$shapes","_ref$shapeIndex","shapeIndex","_ref$featurePointSize","featurePointSize","_ref$opacity","_ref$size","scaledWidth","scaledHeight","classCallCheck","FeaturePoint","_ref$cx","cx","_ref$cy","cy","_ref$id","_ref$label","label","Attribute","Shape","_ref$attributes","attributes","_ref$category","category","_ref$defaultZoomScale","defaultZoomScale","_ref$featurePoints","_ref$featurePointInde","featurePointIndex","points","rbox","_ref$tags","tags","_ref$zoomScale","zoomScale","scaleShape","_ref$scale","scale","scaleRbox","x","y","w","h","scaleShapePoints","map","point","Math","floor","scaleFeaturePoint","_ref2$scale","scaleFeaturePoints","images","imageIndex","addImageToStore","oldImage","newImage","addShapeToImage","image","shape","addPointToShape","pointID","position","prettifyID","addAttributeToShape","formatID","addTagToShape","detachShapeFromImage","imageName","index","findIndex","_shapeID","forEach","detachFeaturePoint","fpID","removeAttributeFromShape","_ref8","removeTagFromShape","_ref9","removeValueFromAttribute","_ref10","attribute","shapeAttributes","setFeaturePointSize","_ref11","setImageSelected","_ref12","setShapeCategory","_ref13","_ref13$category","updateAttribute","_ref14","oldProp","oldValue","newProp","newValue","oldID","newID","shapeAttrs","attr","updateFeaturePoint","_ref15","_ref15$newLabel","newLabel","updateFeaturePoints","_ref16","_ref16$switchPosition","switchPosition","featurePoint","scaledFeaturePoints","temp","sFP","updateShapeDetail","_ref17","_ref18","pointIndex","_ref19","_ref19$images","_ref19$shapes","_ref19$featurePoints","keys","getImages","values","getImageSelected","getImageByName","getShapeByID","getShapeAttributes","getShapeAttributeValues","_ref20","getShapeFeaturePoints","getShapeFeaturePointIDs","getFeaturePointByID","getFeaturePointSize","nextShapeHash","nextFeaturePointHash","shapeHash","split","image_store","properties","propValues","categories","addAttribute","addProperty","addCategory","addTag","addValue","setProperties","setProperty","setCategories","setTags","removeProperty","removeCategory","removeTag","removeValue","_ref14$properties","_ref14$propValues","_ref14$categories","_ref14$tags","getCategory","getProperties","getTags","getValues","label_data","Vue","use","Vuex","initializeStore","storeData","localStorage","getItem","replaceState","assign","getLocalStoreData","store","Store","app-config","appConfig","action-config","actionConfig","image-store","imageStore","label-data","labelData","getCoordinates","element","rect","getBoundingClientRect","clientX","left","clientY","top","round","val","constructor","Array","arrItem","_","el","cb","useCapture","addEventListener","off","removeEventListener","args","from","reduce","acc","cur","getSVG","svg","document","getElementById","adopt","types","hash","eid","pop","generateShapeID","generateFeaturePointID","action_zoomvue_type_script_lang_js_","oldScale","newScale","rescaleImage","rescaleShapes","_this","_this2","shortcuts","zoomKeys","includes","altKey","ctrlKey","created","beforeDestroy","actions_action_zoomvue_type_script_lang_js_","action_zoom_component","action_zoom","action_feature_pointvue_type_template_id_54df26ca_scoped_true_lang_html_render","input","setPointSize","setColorInStore","$event","switchColor","action_feature_pointvue_type_template_id_54df26ca_scoped_true_lang_html_staticRenderFns","throttle","action_feature_pointvue_type_script_lang_js_","applyFeaturePointChanges","svgFP","$svg","radius","color","_this3","fill","actions_action_feature_pointvue_type_script_lang_js_","action_feature_point_component","action_feature_point","actions","ActionOpacity","_actions","ActionZoom","ActionFeaturePoint","action_barvue_type_script_lang_js_","watch","actionable","action_bar_action_barvue_type_script_lang_js_","action_bar_component","action_bar","toolboxvue_type_template_id_77755cd8_scoped_true_lang_html_render","tools","_l","tool","ref","title","refInFor","alt","_s","_e","toolboxvue_type_template_id_77755cd8_scoped_true_lang_html_staticRenderFns","rectangle","description","drawable","isSVG","canvas","nested","addClass","resize","validate","Number","parseInt","circle","polygon","canvasOffset","node","drawPoint","_ref2$event","_ref2$position","containerOffset","parent","for","draggable","move","zoom","_LABEL_TAG","_tools","_CANVAS_TAG","toolboxvue_type_script_lang_js_","props","String","default","config_tools","currentTool","$refs","actionKeys","sTool","keyMappings","f","z","toolname","preventDefault","stopPropagation","mounted","tools_toolboxvue_type_script_lang_js_","toolbox_component","toolbox","workareavue_type_template_id_1e1bbf6c_scoped_true_lang_html_render","style","imageWidth","imageHeight","imageSrc","deselectAll","mousemove","onMouseMove","mouseleave","onMouseLeave","mousedown","mouseDown","mouseup","mouseUp","workareavue_type_template_id_1e1bbf6c_scoped_true_lang_html_staticRenderFns","MouseCoordBus","debounce","debounceUpdateShape","commit","workareavue_type_script_lang_js_","alreadyDrawing","drawingShape","selectedShapes","selectedFeaturePoints","drawCanvas","svgShape","selectize","rotationPoint","updateFeaturePointsInStore","attachEvents","dragOnMove","customDragHandler","getPoints","getFeaturePointsFromSVG","attachEventsToFeaturePoint","deepSelect","_this4","attachShapeListeners","_this5","copyShape","_this6","_featurePoints","FeaturePoint_FeaturePoint","_shape","Shape_Shape","mousestate","_mousemove","_mouseup","e","_this7","_ref$shape","_ref$featurePoint","clear","svg_default","drawShapes","drawFeaturePoints","fPoints","scaledFPoints","fPointIndex","fPoint","drawShape","currentShape","poly","console","error","_this8","flushShortcuts","flush","_this9","_svgFP$rbox","_map","_this10","box","parentSvg","calculatedPoints","vector","array","pointArray","draw","_stopDrawing","moveShape","_this11","_ref3$dx","dx","_ref3$dy","dy","workcanvas","coordinates","$emit","pasteShape","_this12","scaledShape","scaledFP","removeSelectedShapes","_this13","selectAll","_this14","mapCopyPaste","v","mapMoveShape","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","shiftKey","destroyed","workarea_workareavue_type_script_lang_js_","workarea_component","workarea","image_slidervue_type_template_id_79e1b87d_scoped_true_lang_html_render","text-align","padding","accept","multiple","readImageFiles","webkitdirectory","mozdirectory","msdirectory","odirectory","directory","slideleft","thumbnail","thumbnailWidth","data-index","loadIntoWorkArea","slideright","image_slidervue_type_template_id_79e1b87d_scoped_true_lang_html_staticRenderFns","image_slidervue_type_script_lang_js_","thumbnails","loadImage","imageData","self","onload","imageSize","readImageFile","file","startsWith","reader","FileReader","Image_Image","readAsDataURL","srcElement","files","firstThumbnail","lastThumbnail","unshift","sliderKeys","image_slider_image_slidervue_type_script_lang_js_","image_slider_component","image_slider","label_panelvue_type_template_id_58a7cf7a_scoped_true_lang_html_render","autocompleteClass","selectedShape","list","appCategories","added","placeholder","updateLabel","label_panelvue_type_template_id_58a7cf7a_scoped_true_lang_html_staticRenderFns","panel_feature_pointvue_type_template_id_a63dc77e_scoped_true_lang_html_render","forceFocusOut","model","callback","$$v","expression","class","focusInput","onClick","setFeaturePointLabel","keyup","_k","keyCode","deleteFeaturePoint","panel_feature_pointvue_type_template_id_a63dc77e_scoped_true_lang_html_staticRenderFns","panel_feature_pointvue_type_script_lang_js_","set","$store","deselectShape","deselectShapeFeaturePoints","panel_panel_feature_pointvue_type_script_lang_js_","panel_feature_point_component","panel_feature_point","panel_tagvue_type_template_id_18daf59c_scoped_true_lang_html_render","shapeTags","focused","selectedTag","removeTagByCross","tagText","onInput","removeTagByBackspace","panel_tagvue_type_template_id_18daf59c_scoped_true_lang_html_staticRenderFns","panel_tagvue_type_script_lang_js_","appTags","selectedShapeID","addTagToApp","inputNode","taginput","focus","lastTag","panel_panel_tagvue_type_script_lang_js_","panel_tag_component","panel_tag","panel_attributevue_type_template_id_87ef713a_scoped_true_lang_html_render","suggestedProperties","updateAttributeProp","suggestedValues","updateAttributeValue","removeAttribute","enterProperty","enterValue","panel_attributevue_type_template_id_87ef713a_scoped_true_lang_html_staticRenderFns","panel_attributevue_type_script_lang_js_","getSuggestedValues","addAttributeToApp","addPropertyToApp","addValueToApp","$nextTick","panel_panel_attributevue_type_script_lang_js_","panel_attribute_component","panel_attribute","label_panelvue_type_script_lang_js_","components","panel-feature-point","panel-tag","panel-attribute","addCategoryToApp","label_panel_label_panelvue_type_script_lang_js_","label_panel_component","label_panel","menuvue_type_template_id_48320780_scoped_true_lang_html_render","openFile","showModal","openSettings","close","menuvue_type_template_id_48320780_scoped_true_lang_html_staticRenderFns","nimn_format_imagestore","detail","nimn_format_appconfig","nimn_format_labeldata","modal_savevue_type_template_id_bbe00512_scoped_true_lang_html_render","save","setFileType","defaultvalues","filetype","ext","showSaveDialog","saveAs","modal_savevue_type_template_id_bbe00512_scoped_true_lang_html_staticRenderFns","dataImageStore","dataAppConfig","dataLabelData","decodeCocoJson","cocoData","_images","_annotations","annotations","_categories","file_name","annotation","image_id","category_id","segmentation","bbox","_bbox","slicedToArray","_segmentation$","concat","imagename","decodeDlibXML","convert","alwaysChildren","compact","ignoreComment","xml2js","dataset","_shapes","_imageIndex","_attributes","_ref$box","_shapeIndex","_ref2$_attributes","_text","_ref2$part","part","_featurePointIndex","_ref3$_attributes","fpHash","encodeAsNimn","nimn","nimnStore","nimnImageStore","nimnAppConfig","nimnLabelData","schemaStore","buildSchema","stringStore","stringify","encodeAsDlibXML","dlib_header","xml","_storeData$imageStor","fp","dlib_footer","encodeAsDlibPts","encodeAsCocoJson","_getStoreData","labelStore","area","calcArea","PI","indexOf","_shape$rbox","iscrowd","ignore","supercategory","JSON","encodeAsYoloV5","x1","y1","x2","y2","u","nw","nh","_storeData$imageStor2","yolo","classes","shapeId","log","join","results","coords","numCoords","nexti","abs","Ext","NIMN","DLIB_XML","DLIB_PTS","COCO_JSON","YOLO_V5","modal_select_savetypevue_type_template_id_66647dde_scoped_true_lang_html_render","role","_ext","modal_select_savetypevue_type_template_id_66647dde_scoped_true_lang_html_staticRenderFns","modal_get_filenamevue_type_template_id_15fb87f9_scoped_true_lang_html_render","showError","filename","data-dismiss","setFilename","modal_get_filenamevue_type_template_id_15fb87f9_scoped_true_lang_html_staticRenderFns","modal_get_filenamevue_type_script_lang_js_","required","validFilename","test","endsWith","model_modal_get_filenamevue_type_script_lang_js_","modal_get_filename_component","modal_get_filename","modal_select_savetypevue_type_script_lang_js_","modal-get-filename","snackbarMsg","displaySnackbar","message","fileext","model_modal_select_savetypevue_type_script_lang_js_","modal_select_savetype_component","modal_select_savetype","FileSaver","modal_savevue_type_script_lang_js_","modal-select-savetype","_defaultvalues","analyticsReport","analyticsFileType","analyticsImageStore","analyticsLabelData","$ga","eventCategory","eventAction","eventLabel","download","encoding","blobData","Blob","isSupported","saveAsNimn","saveAsDlibXml","saveAsDlibPts","saveAsCocoJSON","saveAsYolo","ptsData","dlibXML","_encodeAsYoloV","model_modal_savevue_type_script_lang_js_","modal_save_component","modal_save","menuvue_type_script_lang_js_","modal-save","initAppConfig","initImageStore","initLabelData","loadDlibXml","loadJSONFile","parse","loadProjectFile","nimnObj","dataFile","loadFpp","readAsText","open","menu_menuvue_type_script_lang_js_","menu_component","menu","mouse_coordinatesvue_type_template_id_bef24bde_lang_html_render","directives","rawName","mouse_coordinatesvue_type_template_id_bef24bde_lang_html_staticRenderFns","mouse_coordinatesvue_type_script_lang_js_","show","hideMousePosition","updateMousePosition","$on","$off","mouse_coordinates_mouse_coordinatesvue_type_script_lang_js_","mouse_coordinates_component","mouse_coordinates","restore_datavue_type_template_id_0d5de786_scoped_true_lang_html_render","clearCache","restoreData","restore_datavue_type_template_id_0d5de786_scoped_true_lang_html_staticRenderFns","restore_datavue_type_script_lang_js_","localStoreData","checkBrowserCache","cache","prompt_restore_data_restore_datavue_type_script_lang_js_","restore_data_component","restore_data","Appvue_type_script_lang_js_","image-slider","actionbar","label-panel","app-menu","prompt-restore","mouse-coord","src_Appvue_type_script_lang_js_","App_component","App","SVG","plugins_svg","install","autocomplete_inputvue_type_template_id_7c291627_scoped_true_lang_html_render","placeholer","text","blur","onInputBlur","showSuggestions","keydown","moveSelection","selectSuggestion","resetState","suggestions","tabindex","suggestion","mouseenter","autocomplete_inputvue_type_template_id_7c291627_scoped_true_lang_html_staticRenderFns","autocomplete_inputvue_type_script_lang_js_debounce","autocomplete_inputvue_type_script_lang_js_","filter","Boolean","debouncedEmitAddEvent","emitAddEvent","isValid","nextPos","$el","contains","relatedTarget","cancel","autocomplete_input_autocomplete_inputvue_type_script_lang_js_","autocomplete_input_component","autocomplete_input","VueAnalytics","svgjs","library","faBars","faChevronLeft","faChevronRight","faImages","faPlus","faSearchPlus","faSearchMinus","faTimes","faUndo","farFolderOpen","farHandRock","farLightbulb","farTrashAlt","AutocompleteInput","Draggable","FontAwesomeIcon","config","productionTip","render","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_action_zoom_vue_vue_type_style_index_0_id_b2b1bf94_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_action_zoom_vue_vue_type_style_index_0_id_b2b1bf94_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_panel_attribute_vue_vue_type_style_index_0_id_87ef713a_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_panel_attribute_vue_vue_type_style_index_0_id_87ef713a_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","./circle.svg","./clock.svg","./files-white.png","./keyboard.svg","./menu.svg","./move.svg","./open.png","./point.svg","./polygon.svg","./rectangle.svg","./zoomin.svg","./zoomout.svg","webpackContext","req","webpackContextResolve","Error","code","resolve","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_workarea_vue_vue_type_style_index_0_id_1e1bbf6c_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_workarea_vue_vue_type_style_index_0_id_1e1bbf6c_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_panel_feature_point_vue_vue_type_style_index_0_id_a63dc77e_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_panel_feature_point_vue_vue_type_style_index_0_id_a63dc77e_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_menu_vue_vue_type_style_index_0_id_48320780_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_menu_vue_vue_type_style_index_0_id_48320780_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_panel_tag_vue_vue_type_style_index_0_id_18daf59c_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_panel_tag_vue_vue_type_style_index_0_id_18daf59c_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_label_panel_vue_vue_type_style_index_0_id_58a7cf7a_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_label_panel_vue_vue_type_style_index_0_id_58a7cf7a_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_modal_save_vue_vue_type_style_index_0_id_bbe00512_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_modal_save_vue_vue_type_style_index_0_id_bbe00512_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mouse_coordinates_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_mouse_coordinates_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_action_bar_vue_vue_type_style_index_0_id_587e921c_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_action_bar_vue_vue_type_style_index_0_id_587e921c_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_image_slider_vue_vue_type_style_index_0_id_79e1b87d_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_image_slider_vue_vue_type_style_index_0_id_79e1b87d_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_autocomplete_input_vue_vue_type_style_index_0_id_7c291627_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_autocomplete_input_vue_vue_type_style_index_0_id_7c291627_lang_css_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"aACA,SAAAA,EAAAC,GAQA,IAPA,IAMAC,EAAAC,EANAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAIAM,EAAA,EAAAC,KACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAGAe,KAAAhB,GAEA,MAAAO,EAAAC,OACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,OAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,GAAA,EACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,GAAA,GAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,KAKApB,GACAqB,IAAA,GAGAZ,KAGA,SAAAS,EAAA1B,GAGA,GAAA4B,EAAA5B,GACA,OAAA4B,EAAA5B,GAAA8B,QAGA,IAAAC,EAAAH,EAAA5B,IACAK,EAAAL,EACAgC,GAAA,EACAF,YAUA,OANAhB,EAAAd,GAAAa,KAAAkB,EAAAD,QAAAC,IAAAD,QAAAJ,GAGAK,EAAAC,GAAA,EAGAD,EAAAD,QAKAJ,EAAAO,EAAAnB,EAGAY,EAAAQ,EAAAN,EAGAF,EAAAS,EAAA,SAAAL,EAAAM,EAAAC,GACAX,EAAAY,EAAAR,EAAAM,IACA1B,OAAA6B,eAAAT,EAAAM,GAA0CI,YAAA,EAAAC,IAAAJ,KAK1CX,EAAAgB,EAAA,SAAAZ,GACA,qBAAAa,eAAAC,aACAlC,OAAA6B,eAAAT,EAAAa,OAAAC,aAAwDC,MAAA,WAExDnC,OAAA6B,eAAAT,EAAA,cAAiDe,OAAA,KAQjDnB,EAAAoB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAnB,EAAAmB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,kBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAvC,OAAAwC,OAAA,MAGA,GAFAxB,EAAAgB,EAAAO,GACAvC,OAAA6B,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAnB,EAAAS,EAAAc,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAvB,EAAA2B,EAAA,SAAAtB,GACA,IAAAM,EAAAN,KAAAiB,WACA,WAA2B,OAAAjB,EAAA,YAC3B,WAAiC,OAAAA,GAEjC,OADAL,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAgB,EAAAC,GAAsD,OAAA7C,OAAAC,UAAAC,eAAAC,KAAAyC,EAAAC,IAGtD7B,EAAA8B,EAAA,IAEA,IAAAC,EAAAC,OAAA,gBAAAA,OAAA,oBACAC,EAAAF,EAAAhD,KAAA2C,KAAAK,GACAA,EAAAhD,KAAAX,EACA2D,IAAAG,QACA,QAAAvD,EAAA,EAAgBA,EAAAoD,EAAAlD,OAAuBF,IAAAP,EAAA2D,EAAApD,IACvC,IAAAU,EAAA4C,EAIA1C,EAAAR,MAAA,oBAEAU,kFCtJA,IAAA0C,EAAAnC,EAAA,QAAAoC,EAAApC,EAAA2B,EAAAQ,GAAqbC,EAAG,yFCAxb,IAAAC,EAAArC,EAAA,QAAAsC,EAAAtC,EAAA2B,EAAAU,GAAqhBC,EAAG,+HCAxhB,IAAAC,EAAAvC,EAAA,QAAAwC,EAAAxC,EAAA2B,EAAAY,GAA0fC,EAAG,uCCA7f,IAAAC,EAAAzC,EAAA,QAAA0C,EAAA1C,EAAA2B,EAAAc,GAA8gBC,EAAG,8HCAjhBrC,EAAAD,QAAiBJ,EAAA8B,EAAuB,mDCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,oECAxC,IAAAa,EAAA3C,EAAA,QAAA4C,EAAA5C,EAAA2B,EAAAgB,GAAkhBC,EAAG,uCCArhB,IAAAC,EAAA7C,EAAA,QAAA8C,EAAA9C,EAAA2B,EAAAkB,GAAqfC,EAAG,8DCAxf,IAAAC,EAAA/C,EAAA,QAAAgD,EAAAhD,EAAA2B,EAAAoB,GAAohBC,EAAG,sBCAvhB3C,EAAAD,QAAA,u7GCAI6C,EAAM,WAAgB,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,WAAqBF,EAAA,kBAAAA,EAAA,OAAiCE,YAAA,oBAA8BF,EAAA,OAAYE,YAAA,uCAAAC,OAA0DC,GAAA,aAAgBJ,EAAA,OAAYE,YAAA,2CAAqDF,EAAA,gBAAAJ,EAAAS,GAAA,GAAAT,EAAAS,GAAA,KAAAL,EAAA,OAAqDE,YAAA,MAAAI,aAA+BC,OAAA,UAAiBP,EAAA,OAAYE,YAAA,kCAAAC,OAAqDC,GAAA,aAAgBJ,EAAA,WAAgBG,OAAOK,SAAAZ,EAAAa,aAA0BT,EAAA,WAAgBE,YAAA,qBAAAC,OAAwCK,SAAAZ,EAAAc,cAA2BV,EAAA,mBAAAA,EAAA,OAAkCE,YAAA,mBAAAI,aAA4CC,OAAA,UAAiBP,EAAA,OAAAA,EAAA,aAA4BM,aAAaC,OAAA,UAAgB,GAAAP,EAAA,OAAgBM,aAAaC,OAAA,SAAgBP,EAAA,gBAAAA,EAAA,OAA+BE,YAAA,cAAAI,aAAuCC,OAAA,MAAAI,MAAA,OAAAC,OAAA,aAAkDZ,EAAA,gBAAqBG,OAAOU,kBAAA,WAA0B,KAAAb,EAAA,OAAkBE,YAAA,oCAA8CF,EAAA,eAAoBM,aAAaQ,KAAA,IAAAC,SAAA,WAA8B,YACjoCC,GAAA,WAAoC,IAAApB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iDAA2DF,EAAA,OAAYE,YAAA,oDAA8DF,EAAA,KAAUG,OAAOc,KAAA,mDAAwDjB,EAAA,OAAYM,aAAaY,aAAA,OAAmBf,OAAQgB,IAAMzE,EAAQ,QAA0B6D,OAAA,UAAmBP,EAAA,QAAaM,aAAac,YAAA,MAAAF,aAAA,SAAsCtB,EAAAyB,GAAA,oBAA4B,WAAc,IAAAzB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,qCAA+CF,EAAA,OAAYE,YAAA,iDCDlqBoB,EAAM,WAAgB,IAAA1B,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAAJ,EAAA2B,QAAsBC,IAAA,eAC3GC,yCCDSC,EAAY,OACZC,EAAS,SACTC,EAAU,UACVC,EAAQ,QACRC,EAAO,OACPC,EAAO,OACPC,EAAU,UACVvB,EAAY,QACZC,EAAa,SACbuB,EAAQ,QCTjBC,EAAM,WAAgB,IAAAtC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA2BF,EAAA,SAAcE,YAAA,cAAAC,OAAiCgC,KAAA,QAAAC,KAAAxC,EAAAyC,gBAAAC,IAAA,IAAAC,IAAA,OAAgEC,UAAW3E,MAAA+B,EAAA6C,cAAyBC,IAAKC,OAAA/C,EAAAgD,eACzRC,KCkBJC,GACAC,SAAYrH,OAAAsH,EAAA,KAAAtH,IACZA,OAAAuH,EAAA,KAAAvH,CAAA,cACA2G,gBAAA,uBAGA3G,OAAAuH,EAAA,KAAAvH,CAAA,eACAwH,cAAA,sBAMAT,aAZA,WAaA,OAAA5C,KAAAqD,cAAArD,KAAAqD,cAAAC,QAAA,KAGAC,QAAW1H,OAAAsH,EAAA,KAAAtH,IACXA,OAAAuH,EAAA,KAAAvH,CAAA,eACA2H,kBAAA,uBAOAT,SATA,SASAU,GAEAzD,KAAAqD,eACArD,KAAAwD,mBAAAF,QAAAG,EAAAC,OAAA1F,YChDsX2F,EAAA,0BCQtXC,EAAgB/H,OAAAgI,EAAA,KAAAhI,CACd8H,EACAtB,EACAW,GACF,EACA,KACA,WACA,MAIAY,EAAAE,QAAAC,OAAA,qBACe,IAAAC,EAAAJ,UCpBXK,EAAM,WAAgB,IAAAlE,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,gBAA0BF,EAAA,qBAA0BM,aAAac,YAAA,SAAoBjB,OAAQ4D,MAAA,sBAA8BrB,IAAKsB,MAAApE,EAAAqE,WAAoB,GAAAjE,EAAA,OAAAA,EAAA,SAA4BG,OAAOC,GAAA,aAAA+B,KAAA,OAAA+B,UAAA,IAAAC,KAAA,IAAAC,SAAA,IAAyE5B,UAAW3E,MAAA+B,EAAAyE,WAAA,SAA8BrE,EAAA,OAAcE,YAAA,gBAA0BF,EAAA,qBAA0BG,OAAO4D,MAAA,uBAA+BrB,IAAKsB,MAAApE,EAAA0E,YAAqB,GAAAtE,EAAA,OAAgBE,YAAA,gBAA0BF,EAAA,qBAA0BG,OAAO4D,MAAA,eAAuBrB,IAAKsB,MAAApE,EAAA2E,cAAuB,MAClrBC,KCDEC,gEACJC,UACEC,gBAAiB,IACjBC,QAAQ,EACRC,kBAAkB,GAEpBC,aAAc,GACdzC,gBAAiB,GACjB0C,kBAAmB,YAGfC,GAKJC,gBALgB,SAKAR,GAAoC,IAAAS,EAAAC,UAAA5J,OAAA,QAAA6J,IAAAD,UAAA,GAAAA,UAAA,MAAAE,EAAAH,EAA3BJ,oBAA2B,IAAAO,EAAZ,GAAYA,EAClDZ,EAAMK,aAAeA,GAMvBQ,mBAZgB,SAYGb,GAAuC,IAAAc,EAAAJ,UAAA5J,OAAA,QAAA6J,IAAAD,UAAA,GAAAA,UAAA,MAAAK,EAAAD,EAA9BlD,uBAA8B,IAAAmD,EAAZ,GAAYA,EACxDf,EAAMpC,gBAAkBA,GAO1BoD,qBApBgB,SAoBKhB,GAA+C,IAAAiB,EAAAP,UAAA5J,OAAA,QAAA6J,IAAAD,UAAA,GAAAA,UAAA,MAAAQ,EAAAD,EAAtCX,yBAAsC,IAAAY,EAAlB,UAAkBA,EAClElB,EAAMM,kBAAoBA,GAS5Ba,YA9BgB,SA+BdnB,GAEA,IAAAoB,EAAAV,UAAA5J,OAAA,QAAA6J,IAAAD,UAAA,GAAAA,UAAA,MAAAW,EAAAD,EADElB,uBACF,IAAAmB,EADoB,EACpBA,EAAAC,EAAAF,EADuBjB,cACvB,IAAAmB,KAAAC,EAAAH,EADsChB,wBACtC,IAAAmB,KACAvB,EAAMC,UACJC,kBACAC,SACAC,qBAIJoB,KAzCgB,SA0CdxB,EA1CcyB,GAqDd,IAAAC,EAAAD,EATExB,SASF0B,EAAAD,EARIxB,uBAQJ,IAAAyB,EARsB,IAQtBA,EAAAC,EAAAF,EAPIvB,cAOJ,IAAAyB,KAAAC,EAAAH,EANItB,wBAMJ,IAAAyB,KAAAC,EAAAL,EAJEpB,oBAIF,IAAAyB,EAJiB,GAIjBA,EAAAC,EAAAN,EAHE7D,uBAGF,IAAAmE,EAHoB,GAGpBA,EAAAC,EAAAP,EAFEnB,yBAEF,IAAA0B,EAFsB,UAEtBA,EACA5G,KAAK6E,UACHC,kBACAC,SACAC,oBAEFhF,KAAKiF,aAAeA,EACpBjF,KAAKwC,gBAAkBA,EACvBxC,KAAKkF,kBAAoBA,IAIvB2B,GAIJC,qBAAsB,SAAAlC,GACpB,OAAOA,EAAMM,mBAMf6B,gBAAiB,SAAAnC,GACf,OAAOA,EAAMK,cAMf+B,mBAAoB,SAAApC,GAClB,OAAOA,EAAMpC,iBAWfyE,YAAa,SAAArC,GACX,OAAOA,EAAMC,UAMfqC,aAAc,SAAAtC,GACZ,IAAIuC,EAAgBC,EAAQ,QAC5B,OAAOD,EAAcvC,KAIVyC,GACbC,YAAY,EACZ1C,QACAO,YACA0B,WCzHIjC,cACJ2C,kBACAC,aAAc,KACdC,gBAAiB,KACjBC,UACEC,UACAC,iBACAC,UAAW,QAIT1C,GAMJ2C,mBANgB,SAMGlD,EANHS,GAMuC,IAA3B0C,EAA2B1C,EAA3B0C,QAASC,EAAkB3C,EAAlB2C,eAC/BD,IACFE,IAASC,IAAKtD,EAAM8C,SAASC,OAAQQ,KAAMJ,IAC3CnD,EAAM8C,SAASG,UAAYE,GAGzBC,GACFC,IAASC,IAAKtD,EAAM8C,SAASE,cAAeO,KAAMH,KAQtDI,iBArBgB,SAqBCxD,EArBDc,GAqBkB,IAARyC,EAAQzC,EAARyC,KACxBA,GAAQvD,EAAM2C,eAAe3L,KAAKuM,IAQpCE,sBA9BgB,SA8BMzD,EA9BNiB,GA8B0C,IAA3BkC,EAA2BlC,EAA3BkC,QAASC,EAAkBnC,EAAlBmC,eAClCD,IAAYnD,EAAM8C,SAASG,WAC7BjD,EAAM8C,SAASC,OAAO/K,QAAQ,GAC9BgI,EAAM8C,SAASG,UAAYjD,EAAM8C,SAASC,OAAO5I,OAAO,GAAG,IAAM,OAEjEuJ,IAAYJ,IAAKtD,EAAM8C,SAASC,OAAQQ,KAAMJ,IAC9CO,IAAYJ,IAAKtD,EAAM8C,SAASE,cAAeO,KAAMH,MAQzDO,kBA5CgB,SA4CE3D,GAAqC,IAAAoB,EAAAV,UAAA5J,OAAA,QAAA6J,IAAAD,UAAA,GAAAA,UAAA,MAAAkD,EAAAxC,EAA5BuB,sBAA4B,IAAAiB,OACrD5D,EAAM2C,eAAiBA,GAQzBkB,gBArDgB,SAqDA7D,GAAmC,IAAAyB,EAAAf,UAAA5J,OAAA,QAAA6J,IAAAD,UAAA,GAAAA,UAAA,MAA1BoD,EAA0BrC,EAA1BqC,IAAKlB,EAAqBnB,EAArBmB,aACxB5C,EAAM4C,cAAgB5C,EAAM6C,iBAE9B7C,EAAM6C,gBAAgBkB,UAAUC,OAAO,iBAEzChE,EAAM4C,aAAeA,EACrB5C,EAAM6C,gBAAkBiB,EAEpBA,GACF9D,EAAM6C,gBAAgBkB,UAAUE,IAAI,kBASxCC,oBAvEgB,SAuEIlE,GAAuC,IAAAmE,EAAAzD,UAAA5J,OAAA,QAAA6J,IAAAD,UAAA,GAAAA,UAAA,MAA9BqC,EAA8BoB,EAA9BpB,OAAQC,EAAsBmB,EAAtBnB,cAEnChD,EAAM8C,SAASC,OAASqB,GAAerB,GACvC/C,EAAM8C,SAASE,cAAgBoB,GAAepB,GAC9ChD,EAAM8C,SAASG,UAAYjD,EAAM8C,SAASC,OAAO5I,OAAO,GAAG,IAAM,MAUnEqH,KArFgB,SAsFdxB,GASA,IAAAqE,EAAA3D,UAAA5J,OAAA,QAAA6J,IAAAD,UAAA,GAAAA,UAAA,MAAA4D,EAAAD,EAPE1B,sBAOF,IAAA2B,OAAAC,EAAAF,EANEzB,oBAMF,IAAA2B,EANiB,KAMjBA,EAAAC,EAAAH,EALEvB,gBAKF,IAAA0B,GAJIzB,OAAQ,IAAI0B,IACZzB,cAAe,IAAIyB,KAGvBD,IASEvC,GAKJyC,kBAAmB,SAAA1E,GACjB,OAAOA,EAAM2C,gBAOfgC,gBAAiB,SAAA3E,GACf,OAAOA,EAAM4C,cAOfgC,iBAAkB,SAAA5E,GAChB,OAAOA,EAAM8C,SAASG,WAOxB4B,kBAAmB,SAAA7E,GACjB,OAAOA,EAAM8C,SAASC,QAOxB+B,yBAA0B,SAAA9E,GACxB,OAAOA,EAAM8C,SAASE,eAOxB+B,UAAW,SAAA/E,GACT,OAAOA,IAIIgF,GACbtC,YAAY,EACZ1C,QACAO,YACA0B,uDC3KWgD,EACX,SAAAA,EAAAxE,GAeG,IAdD9E,EAcC8E,EAdD9E,GAcCuJ,EAAAzE,EAbD9H,YAaC,IAAAuM,EAbM,GAaNA,EAAAC,EAAA1E,EAZD/D,WAYC,IAAAyI,EAZK,GAYLA,EAAAC,EAAA3E,EAXDsC,cAWC,IAAAqC,OAAAC,EAAA5E,EAVD6E,kBAUC,IAAAD,EAVY,EAUZA,EAAAE,EAAA9E,EATD+E,wBASC,IAAAD,EATkB,EASlBA,EAAAE,EAAAhF,EARD/B,eAQC,IAAA+G,EARS,EAQTA,EAAAC,EAAAjF,EAPDf,YAOC,IAAAgG,GANCxJ,MAAO,EACPJ,OAAQ,EACR6J,YAAa,EACbC,aAAc,EACdhG,WAAY,GAEb8F,EAAAzO,OAAA4O,EAAA,KAAA5O,CAAAmE,KAAA6J,GACD7J,KAAKO,GAAKA,EACVP,KAAKzC,KAAOA,EACZyC,KAAKsB,IAAMA,EACXtB,KAAKsE,KAAOA,EACZtE,KAAK2H,OAASA,EACd3H,KAAKkK,WAAaA,EAClBlK,KAAKoK,iBAAmBA,EACxBpK,KAAKsD,QAAUA,GCxBNoH,EACX,SAAAA,IAA0D,IAAArF,EAAAC,UAAA5J,OAAA,QAAA6J,IAAAD,UAAA,GAAAA,UAAA,MAAAqF,EAAAtF,EAA5CuF,UAA4C,IAAAD,EAAvC,EAAuCA,EAAAE,EAAAxF,EAApCyF,UAAoC,IAAAD,EAA/B,EAA+BA,EAAAE,EAAA1F,EAA5B9E,UAA4B,IAAAwK,EAAvB,GAAuBA,EAAAC,EAAA3F,EAAnB4F,aAAmB,IAAAD,EAAX,GAAWA,EAAAnP,OAAA4O,EAAA,KAAA5O,CAAAmE,KAAA0K,GACxD1K,KAAK4K,GAAKA,EACV5K,KAAK8K,GAAKA,EACV9K,KAAKO,GAAKA,EACVP,KAAKiL,MAAQA,GCLJC,EACX,SAAAA,EAAA7F,GAAsC,IAAxB/G,EAAwB+G,EAAxB/G,IAAKI,EAAmB2G,EAAnB3G,SAAUV,EAASqH,EAATrH,MAASnC,OAAA4O,EAAA,KAAA5O,CAAAmE,KAAAkL,GACpClL,KAAK1B,IAAMA,EACX0B,KAAKtB,SAAWA,EAChBsB,KAAKhC,MAAQA,GCJJmN,EACX,SAAAA,IAaQ,IAAA9F,EAAAC,UAAA5J,OAAA,QAAA6J,IAAAD,UAAA,GAAAA,UAAA,MAAA8F,EAAA/F,EAZNgG,kBAYM,IAAAD,OAAAE,EAAAjG,EAXNkG,gBAWM,IAAAD,EAXK,GAWLA,EAAAE,EAAAnG,EAVNoG,wBAUM,IAAAD,EAVa,EAUbA,EAAAE,EAAArG,EATNuC,qBASM,IAAA8D,OAAAC,EAAAtG,EARNuG,yBAQM,IAAAD,EARc,EAQdA,EAPNpL,EAOM8E,EAPN9E,GAOMyK,EAAA3F,EANN4F,aAMM,IAAAD,EANE,GAMFA,EALNa,EAKMxG,EALNwG,OACAC,EAIMzG,EAJNyG,KAIMC,EAAA1G,EAHN2G,YAGM,IAAAD,OAFNzJ,EAEM+C,EAFN/C,KAEM2J,EAAA5G,EADN6G,iBACM,IAAAD,EADM,EACNA,EAAApQ,OAAA4O,EAAA,KAAA5O,CAAAmE,KAAAmL,GACNnL,KAAKO,GAAKA,EACVP,KAAKiL,MAAQA,EACbjL,KAAKsC,KAAOA,EACZtC,KAAKuL,SAAWA,EAChBvL,KAAK6L,OAASA,EACd7L,KAAK8L,KAAOA,EACZ9L,KAAKqL,WAAaA,EAClBrL,KAAKgM,KAAOA,EACZhM,KAAK4H,cAAgBA,EACrB5H,KAAK4L,kBAAoBA,EACzB5L,KAAKkM,UAAYA,EAEjBlM,KAAKyL,iBAAmBA,GCfrB,SAASU,EAAT9G,GAA2D,IAArC9E,EAAqC8E,EAArC9E,GAAI+B,EAAiC+C,EAAjC/C,KAAMwJ,EAA2BzG,EAA3ByG,KAAMD,EAAqBxG,EAArBwG,OAAqBO,EAAA/G,EAAbgH,aAAa,IAAAD,EAAL,EAAKA,EAChE,OAAO,IAAIjB,GACT5K,KACA+B,OACAwJ,KAAMQ,EAAUR,EAAMO,KACpBE,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACH5L,MAAO,EACPJ,OAAQ,GAEVmL,OAAQc,EAAiBd,EAAQQ,EAAO/J,GACxCmJ,iBAAkBY,IAWf,SAASM,EAAiBd,GAAmB,IAAXQ,EAAW/G,UAAA5J,OAAA,QAAA6J,IAAAD,UAAA,GAAAA,UAAA,GAAH,EAC/C,GAAKuG,EACL,OAAOA,EAAOe,IAAI,SAAAC,GAAA,OAASA,EAAQR,IAS9B,SAASC,EAAUR,GAAiB,IAAXO,EAAW/G,UAAA5J,OAAA,QAAA6J,IAAAD,UAAA,GAAAA,UAAA,GAAH,EACtC,GAAKwG,EAEL,OACES,EAAGO,KAAKC,MAAMjB,EAAKS,EAAIF,GACvBG,EAAGM,KAAKC,MAAMjB,EAAKU,EAAIH,GACvBzB,GAAIkC,KAAKC,OAAOjB,EAAKlB,IAAM,GAAKyB,GAChCvB,GAAIgC,KAAKC,OAAOjB,EAAKhB,IAAM,GAAKuB,GAChCI,EAAGK,KAAKC,MAAMjB,EAAKW,EAAIJ,GACvBK,EAAGI,KAAKC,MAAMjB,EAAKY,EAAIL,GACvBvL,MAAOgM,KAAKC,MAAMjB,EAAKW,EAAIJ,GAC3B3L,OAAQoM,KAAKC,MAAMjB,EAAKY,EAAIL,IAIzB,SAASW,EAATtH,GAAiD,IAApBmH,EAAoBnH,EAApBmH,MAAoBI,EAAAvH,EAAb2G,aAAa,IAAAY,EAAL,EAAKA,EACtD,OAAO,IAAIvC,GACTE,GAAIiC,EAAMjC,GAAKyB,EACfvB,GAAI+B,EAAM/B,GAAKuB,EACfpB,MAAO4B,EAAM5B,MACb1K,GAAIsM,EAAMtM,KASP,SAAS2M,EAAmBtF,GAA0B,IAAXyE,EAAW/G,UAAA5J,OAAA,QAAA6J,IAAAD,UAAA,GAAAA,UAAA,GAAH,EACxD,GAAKsC,EAEL,OAAOA,EAAcgF,IAAI,SAAAC,GACvB,OAAOG,GAAoBH,QAAOR,YCrEtC,IAAMzH,GACJuI,UACAxF,UACAC,iBACAvE,cAAe,KACf+J,WAAY,GAGRjI,GAaJkI,gBAbgB,SAaAzI,EAbAS,GAa4B,IAAnB9H,EAAmB8H,EAAnB9H,KAAM+D,EAAa+D,EAAb/D,IAAKgD,EAAQe,EAARf,KAElC,GAAKM,EAAMuI,OAAO5P,GAIX,CAEL,IAAI+P,EAAW1I,EAAMuI,OAAO5P,GAC5BqH,EAAMuI,OAAO5P,GAAb1B,OAAAsH,EAAA,KAAAtH,IACKyR,GACHhM,MACAgD,aAVqB,CACvB,IAAI/D,EAAKqE,EAAMwI,aACXG,EAAW,IAAI1D,GAAQtJ,KAAIhD,OAAM+D,MAAKgD,SAC1CM,EAAMuI,OAANtR,OAAAsH,EAAA,KAAAtH,IAAoB+I,EAAMuI,OAA1BtR,OAAA6B,EAAA,KAAA7B,IAAmC0B,EAAOgQ,MAqB9CC,gBAvCgB,SAuCA5I,EAvCAc,GAuCmC,IAA1BnF,EAA0BmF,EAA1BnF,GAAI+B,EAAsBoD,EAAtBpD,KAAMwJ,EAAgBpG,EAAhBoG,KAAMD,EAAUnG,EAAVmG,OACnC4B,EAAQ7I,EAAMvB,cAEdqK,EAAQvB,GACV5L,KACA+B,OACAwJ,OACAD,SACAQ,MAAO,EAAIoB,EAAMnJ,KAAKE,aASxB,OALAiJ,EAAMvD,aAENuD,EAAM9F,OAAO/L,KAAK2E,GAClBqE,EAAM+C,OAAN9L,OAAAsH,EAAA,KAAAtH,IAAoB+I,EAAM+C,OAA1B9L,OAAA6B,EAAA,KAAA7B,IAAmC0E,EAAKmN,IAEjCA,GASTC,gBAjEgB,SAiEA/I,EAjEAiB,GAiEuC,IAA9BkC,EAA8BlC,EAA9BkC,QAAS6F,EAAqB/H,EAArB+H,QAASC,EAAYhI,EAAZgI,SACrCH,EAAQ9I,EAAM+C,OAAOI,GACrBsE,EAAQ,EAAIzH,EAAMvB,cAAciB,KAAKE,aAEvCkJ,EAAM9B,kBAER8B,EAAM9F,cAAchM,KAAKgS,GAEzB,IAAI3C,EAAQ6C,IAAavN,GAAIqN,IAE7BhJ,EAAMgD,cAAN/L,OAAAsH,EAAA,KAAAtH,IACK+I,EAAMgD,cADX/L,OAAA6B,EAAA,KAAA7B,IAEG+R,EAAU,IAAIlD,GACbO,QACAL,GAAIiD,EAASjD,GAAKyB,EAClBvB,GAAI+C,EAAS/C,GAAKuB,EAClB9L,GAAIqN,OASVG,oBA1FgB,SA0FInJ,EA1FJoB,GA0FyC,IAA5B+B,EAA4B/B,EAA5B+B,QAASrJ,EAAmBsH,EAAnBtH,SAAUV,EAASgI,EAAThI,MAC9C,GAAKU,GAAaV,EAAlB,CAEA,IAAIM,EAAM0P,GAAStP,EAAUV,GAC7B4G,EAAM+C,OAAOI,GAASsD,WAAWzP,KAC/B,IAAIsP,GAAY5M,MAAKI,WAAUV,aASnCiQ,cAxGgB,SAwGFrJ,EAxGEyB,GAwGuB,IAAhB0B,EAAgB1B,EAAhB0B,QAASpG,EAAO0E,EAAP1E,IAC9BsG,IAASC,IAAKtD,EAAM+C,OAAOI,GAASiE,KAAM7D,KAAMxG,KAOlDuM,qBAhHgB,SAgHKtJ,EAhHLmE,GAgHoC,IAAtBoF,EAAsBpF,EAAtBoF,UAAWpG,EAAWgB,EAAXhB,QACnCxK,EAAO4Q,GAAavJ,EAAMvB,cAAc9F,KAExCoK,EAAS/C,EAAMuI,OAAO5P,GAAMoK,OAC5ByG,EAAQzG,EAAO0G,UAAU,SAAAC,GAAA,OAAYA,IAAavG,IAElDqG,EAAQ,IAEZzG,EAAO/K,OAAOwR,EAAO,GAGrBxJ,EAAM+C,OAAOI,GAASH,cAAc2G,QAAQ,SAAAvG,GAC1CpD,EAAMgD,cAAcI,QAAkBzC,IAIxCX,EAAM+C,OAAOI,QAAWxC,IAQ1BiJ,mBAxIgB,SAwIG5J,EAxIHqE,GAwIuC,IAA3BlB,EAA2BkB,EAA3BlB,QAASC,EAAkBiB,EAAlBjB,eAC/B0F,EAAQ9I,EAAM+C,OAAOI,GAErBqG,EAAQV,EAAM9F,cAAcyG,UAAU,SAAAI,GACxC,OAAOA,IAASzG,KAIH,IAAXoG,IAGJV,EAAM9F,cAAchL,OAAOwR,EAAO,GAClCxJ,EAAMgD,cAAcI,QAAkBzC,IAQxCmJ,yBA5JgB,SA4JS9J,EA5JT+J,GA4JoC,IAAlB5G,EAAkB4G,EAAlB5G,QAASqG,EAASO,EAATP,MACzCxJ,EAAM+C,OAAOI,GAASsD,WAAWzO,OAAOwR,EAAO,IAQjDQ,mBArKgB,SAqKGhK,EArKHiK,GAqK4B,IAAhB9G,EAAgB8G,EAAhB9G,QAASpG,EAAOkN,EAAPlN,IACnC2G,IAAYJ,IAAKtD,EAAM+C,OAAOI,GAASiE,KAAM7D,KAAMxG,KAQrDmN,yBA9KgB,SA8KSlK,EA9KTmK,GA8K+C,IAA7BhH,EAA6BgH,EAA7BhH,QAASiH,EAAoBD,EAApBC,UAAWhR,EAAS+Q,EAAT/Q,MAChDuC,EAAKyN,GAASjG,EAASiH,GAEvBpK,EAAMqK,gBAAgB1O,IACxB+H,IAAYJ,IAAKtD,EAAMqK,gBAAgB1O,GAAK4H,KAAMnK,KAQtDkR,oBA1LgB,SA0LItK,EA1LJuK,GA0LiC,IAApB/E,EAAoB+E,EAApB/E,iBACvBxF,EAAMvB,gBACRuB,EAAMvB,cAAc+G,iBAAmBA,IAQ3CgF,iBApMgB,SAoMCxK,EApMDyK,GAoMkB,IAAR9R,EAAQ8R,EAAR9R,KACxBA,IAASqH,EAAMvB,cAAgBuB,EAAMuI,OAAO5P,KAO9C+R,iBA5MgB,SA4MC1K,EA5MD2K,GA4MoC,IAA1BxH,EAA0BwH,EAA1BxH,QAA0ByH,EAAAD,EAAjBhE,gBAAiB,IAAAiE,EAAN,GAAMA,EAClD5K,EAAM+C,OAAOI,GAASwD,SAAWA,GAWnCkE,gBAxNgB,SAwNA7K,EAxNA8K,GAwN0D,IAAjD3H,EAAiD2H,EAAjD3H,QAAS4H,EAAwCD,EAAxCC,QAASC,EAA+BF,EAA/BE,SAAUC,EAAqBH,EAArBG,QAASC,EAAYJ,EAAZI,SAC5D,GAAKH,GAAYC,GAAaC,GAAYC,EAA1C,CAEA,IAAIC,EAAQ/B,GAAS2B,EAASC,GAC1BI,EAAQhC,GAAS6B,EAASC,GAC1BG,EAAarL,EAAM+C,OAAOI,GAASsD,WAEnC+C,EAAQ6B,EAAW5B,UAAU,SAAA6B,GAC/B,OAAOA,EAAK5R,MAAQyR,IAGtBE,EAAWrT,OACTwR,EACA,EACA,IAAIlD,GAAY5M,IAAK0R,EAAOtR,SAAUmR,EAAS7R,MAAO8R,OAU1DK,mBAhPgB,SAgPGvL,EAhPHwL,GAgPuD,IAA3CxC,EAA2CwC,EAA3CxC,QAASC,EAAkCuC,EAAlCvC,SAAkCwC,EAAAD,EAAxBE,gBAAwB,IAAAD,OAAb9K,EAAa8K,EACjEhE,EAAQ,EAAIzH,EAAMvB,cAAciB,KAAKE,WAErCqI,EAAQjI,EAAMgD,cAAcgG,GAE5BC,IACFhB,EAAMjC,GAAKiD,EAASjD,GAAKyB,EACzBQ,EAAM/B,GAAK+C,EAAS/C,GAAKuB,GAG3BiE,IAAazD,EAAM5B,MAAQqF,IAS7BC,oBAnQgB,SAoQd3L,EApQc4L,GAsQd,IADEzI,EACFyI,EADEzI,QAASH,EACX4I,EADW5I,cACX6I,EAAAD,EAD0BE,sBAC1B,IAAAD,KACI/C,EAAQ9I,EAAM+C,OAAOI,GACrBsE,EAAQ,EAAIzH,EAAMvB,cAAciB,KAAKE,WAQzC,GALAkJ,EAAM9F,cAAgBA,EAAcgF,IAAI,SAAA+D,GACtC,OAAOA,EAAapQ,MAIlBmQ,EAAJ,CAGA,IAAIE,EAAsB1D,EAAmBtF,EAAeyE,GAGxDwE,KACJD,EAAoBrC,QAAQ,SAAAuC,GAAA,OAAQD,EAAKC,EAAIvQ,IAAMuQ,IAEnDlM,EAAMgD,cAAN/L,OAAAsH,EAAA,KAAAtH,IAA2B+I,EAAMgD,cAAkBiJ,KAarDE,kBAtSgB,SAuSdnM,EAvScoM,GAySd,IADEjJ,EACFiJ,EADEjJ,QAASwD,EACXyF,EADWzF,SAAUS,EACrBgF,EADqBhF,KAAMf,EAC3B+F,EAD2B/F,MAAOY,EAClCmF,EADkCnF,OAAQC,EAC1CkF,EAD0ClF,KAAMI,EAChD8E,EADgD9E,UAE5CwB,EAAQ9I,EAAM+C,OAAOI,GACrBsE,EAAQ,EAAIzH,EAAMvB,cAAciB,KAAKE,WAEzC+G,IAAamC,EAAMnC,SAAWA,GAC9BS,IAAS0B,EAAM1B,KAAOA,GACtBf,IAAUyC,EAAMzC,MAAQA,GACxBY,IAAW6B,EAAM7B,OAASc,EAAiBd,EAAQQ,EAAOqB,EAAMpL,OAChEwJ,IAAS4B,EAAM5B,KAAOQ,EAAUR,EAAMO,IACtCH,IAAcwB,EAAMxB,UAAYA,IAclC1I,kBAhUgB,SAiUdoB,EAjUcqM,GA4Ud,IATE1T,EASF0T,EATE1T,KACAgN,EAQF0G,EARE1G,YACAC,EAOFyG,EAPEzG,aACAhG,EAMFyM,EANEzM,WACA0F,EAKF+G,EALE/G,WACAgH,EAIFD,EAJEC,WACA9G,EAGF6G,EAHE7G,iBACA9G,EAEF2N,EAFE3N,QAGEmK,EAAQ7I,EAAMvB,cAClB9F,IAASkQ,EAAMlQ,KAAOA,GACtBgN,IAAgBkD,EAAMnJ,KAAKiG,YAAcA,GACzCC,IAAiBiD,EAAMnJ,KAAKkG,aAAeA,GAC3ChG,IAAeiJ,EAAMnJ,KAAKE,WAAaA,GACvC0F,IAAeuD,EAAMvD,WAAaA,GAClCgH,IAAezD,EAAMyD,WAAaA,GAClC9G,IAAqBqD,EAAMrD,iBAAmBA,GAC9C9G,IAAYmK,EAAMnK,QAAUA,IAS9B8C,KA9VgB,SA8VXxB,EA9VWuM,GA8V0D,IAAAC,EAAAD,EAA5DhE,cAA4D,IAAAiE,OAAAC,EAAAF,EAA/CxJ,cAA+C,IAAA0J,OAAAC,EAAAH,EAAlCvJ,qBAAkC,IAAA0J,OAAdlE,EAAc+D,EAAd/D,WAC1DxI,EAAMuI,OAASA,EACfvI,EAAM+C,OAASA,EACf/C,EAAMgD,cAAgBA,EACtBhD,EAAMvB,cAAgB,KACjB+J,IAAYA,EAAavR,OAAO0V,KAAKpE,GAAQzR,QAClDkJ,EAAMwI,WAAaA,IAIjBvG,GAKJ2K,UAAW,SAAA5M,GACT,OAAO/I,OAAO4V,OAAO7M,EAAMuI,SAO7BuE,iBAAkB,SAAA9M,GAChB,OAAOA,EAAMvB,eAQfsO,eAAgB,SAAA/M,GAAA,OAAS,SAAArH,GACvB,OAAOqH,EAAMuI,OAAO5P,KAQtBqU,aAAc,SAAAhN,GAAA,OAAS,SAAAmD,GACrB,OAAOnD,EAAM+C,OAAOI,KAQtB8J,mBAAoB,SAAAjN,GAAA,OAAS,SAAAmD,GAC3B,OAAOnD,EAAM+C,OAAOI,GAASsD,aAQ/ByG,wBAAyB,SAAAlN,GAAA,OAAS,SAAAmN,GAA4B,IAAzBhK,EAAyBgK,EAAzBhK,QAASiH,EAAgB+C,EAAhB/C,UACxCzO,EAAKyN,GAASjG,EAASiH,GAC3B,OAAOpK,EAAMqK,gBAAgB1O,KAQ/ByR,sBAAuB,SAAApN,GAAA,OAAS,SAAAmD,GAC9B,OAAOnD,EAAM+C,OAAOI,GAASH,cAAcgF,IAAI,SAAA5E,GAC7C,OAAOpD,EAAMgD,cAAcI,OAS/BiK,wBAAyB,SAAArN,GAAA,OAAS,SAAAmD,GAChC,OAAOnD,EAAM+C,OAAOI,GAASH,gBAQ/BsK,oBAAqB,SAAAtN,GAAA,OAAS,SAAAoD,GAC5B,OAAOpD,EAAMgD,cAAcI,KAQ7BmK,oBAAqB,SAAAvN,GACnB,OAAQA,EAAMvB,eAAiBuB,EAAMvB,cAAc+G,kBAAqB,GAM1ElD,aAAc,SAAAtC,GACZ,IAAIuC,EAAgBC,EAAQ,QAC5B,OAAOD,EAAcvC,IAQvBwN,cAAe,SAAAxN,GAAA,OAAS,SAAArH,GACtB,IAAIkQ,EAAQlQ,EAAOqH,EAAMuI,OAAO5P,GAAQqH,EAAMvB,cAC9C,GAAIoK,EACF,OAAOA,EAAMlN,GAAK,IAAMkN,EAAMvD,aAQlCmI,qBAAsB,SAAAzN,GAAA,OAAS,SAAAmD,GAC7B,IAAI2F,EAAQ9I,EAAM+C,OAAOI,GACzB,GAAI2F,EAAO,CACT,IAAI4E,EAAY5E,EAAMnN,GAAGgS,MAAM,KAC/B,OAAOD,EAAU,GAAK,IAAM5E,EAAM9B,sBAKzB4G,GACblL,YAAY,EACZ1C,QACAO,YACA0B,WC1fIjC,GACJ6N,cACAC,cACAC,cACA3G,SAGI7G,GAMJyN,aANgB,SAMHhO,EANGS,GAMyB,IAAnB3G,EAAmB2G,EAAnB3G,SAAUV,EAASqH,EAATrH,MACzBU,GAAaV,IAClBiK,IAASC,IAAKtD,EAAM6N,WAAYtK,KAAMzJ,IAEjCkG,EAAM8N,WAAWhU,GAGpBuJ,IAASC,IAAKtD,EAAM8N,WAAWhU,GAAWyJ,KAAMnK,IAFhD4G,EAAM8N,WAAN7W,OAAAsH,EAAA,KAAAtH,IAAwB+I,EAAM8N,WAA9B7W,OAAA6B,EAAA,KAAA7B,IAA2C6C,GAAYV,OAW3D6U,YAtBgB,SAsBJjO,EAtBIc,GAsBiB,IAAZhH,EAAYgH,EAAZhH,SAEdA,IACLuJ,IAASC,IAAKtD,EAAM6N,WAAYtK,KAAMzJ,IAGlCkG,EAAM8N,WAAWhU,KAErBkG,EAAM8N,WAAN7W,OAAAsH,EAAA,KAAAtH,IAAwB+I,EAAM8N,WAA9B7W,OAAA6B,EAAA,KAAA7B,IAA2C6C,UAO7CoU,YArCgB,SAqCJlO,EArCIiB,GAqCiB,IAAZ0F,EAAY1F,EAAZ0F,SACnBA,GAAYtD,IAASC,IAAKtD,EAAM+N,WAAYxK,KAAMoD,KAOpDwH,OA7CgB,SA6CTnO,EA7CSoB,GA6CO,IAAPrE,EAAOqE,EAAPrE,IACdA,GAAOsG,IAASC,IAAKtD,EAAMoH,KAAM7D,KAAMxG,KAQzCqR,SAtDgB,SAsDPpO,EAtDOyB,GAsDqB,IAAnB3H,EAAmB2H,EAAnB3H,SAAUV,EAASqI,EAATrI,MAC1BU,GACEV,GACAiK,IAASC,IAAKtD,EAAM8N,WAAWhU,GAAWyJ,KAAMnK,KAQpDiV,cAjEgB,SAiEFrO,EAjEEmE,GAiEiC,IAA1B0J,EAA0B1J,EAA1B0J,WAAYC,EAAc3J,EAAd2J,WACjC9N,EAAM6N,WAAaA,EACnB7N,EAAM8N,WAAaA,GAQrBQ,YA3EgB,SA2EJtO,EA3EIqE,GA2EyB,IAApBvK,EAAoBuK,EAApBvK,SAAU+S,EAAUxI,EAAVwI,OACzBiB,EAAa9N,EAAM8N,WAAWhU,GAClCgU,IAAe9N,EAAM8N,WAAWhU,GAAY+S,IAO9C0B,cApFgB,SAoFFvO,EApFE+J,GAoFqB,IAAdgE,EAAchE,EAAdgE,WACrB/N,EAAM+N,WAAaA,GAOrBS,QA5FgB,SA4FRxO,EA5FQiK,GA4FS,IAAR7C,EAAQ6C,EAAR7C,KACfpH,EAAMoH,KAAOA,GAOfqH,eApGgB,SAoGDzO,EApGCmK,GAoGoB,IAAZrQ,EAAYqQ,EAAZrQ,SACtBA,GAAY4J,IAAYJ,IAAKtD,EAAM6N,WAAYtK,KAAMzJ,IACrDkG,EAAM8N,WAAWhU,QAAY6G,GAO/B+N,eA7GgB,SA6GD1O,EA7GCuK,GA6GoB,IAAZ5D,EAAY4D,EAAZ5D,SACtBA,GAAYjD,IAAYJ,IAAKtD,EAAM+N,WAAYxK,KAAMoD,KAOvDgI,UArHgB,SAqHN3O,EArHMyK,GAqHU,IAAP1N,EAAO0N,EAAP1N,IACjBA,GAAO2G,IAAYJ,IAAKtD,EAAMoH,KAAM7D,KAAMxG,KAQ5C6R,YA9HgB,SA8HJ5O,EA9HI2K,GA8HwB,IAAnB7Q,EAAmB6Q,EAAnB7Q,SAAUV,EAASuR,EAATvR,MAC7BA,GAASsK,IAAYJ,IAAKtD,EAAM8N,WAAWhU,GAAWyJ,KAAMnK,KAU9DoI,KAzIgB,SA0IdxB,EA1Ic8K,GA4Id,IAAA+D,EAAA/D,EADE+C,kBACF,IAAAgB,OAAAC,EAAAhE,EADmBgD,kBACnB,IAAAgB,OAAAC,EAAAjE,EADoCiD,kBACpC,IAAAgB,OAAAC,EAAAlE,EADqD1D,YACrD,IAAA4H,OACAhP,EAAM6N,WAAaA,EACnB7N,EAAM8N,WAAaA,EACnB9N,EAAM+N,WAAaA,EACnB/N,EAAMoH,KAAOA,IAIXnF,IACJgN,YAAa,SAAAjP,GACX,OAAOA,EAAM+N,YAGfmB,cAAe,SAAAlP,GACb,OAAOA,EAAM6N,YAGfsB,QAAS,SAAAnP,GACP,OAAOA,EAAMoH,MAGfgI,UAAW,SAAApP,GAAA,OAAS,SAAAlG,GAClB,OAAOkG,EAAM8N,WAAWhU,KAM1BwI,aAAc,SAAAtC,GACZ,IAAIuC,EAAgBC,EAAQ,QAC5B,OAAOD,EAAcvC,KAIVqP,IACb3M,YAAY,EACZ1C,QACAO,YACA0B,YCpLFqN,OAAIC,IAAIC,QAIR,IAAMjP,IAKJkP,gBALgB,SAKAzP,EALAS,GAKsB,IAAbiP,EAAajP,EAAbiP,UAClBA,IACHA,EAAYC,aAAaC,QAAQ,iBAEnCxU,KAAKyU,aAAa5Y,OAAO6Y,OAAO9P,EAAO0P,MAIrCzN,IACJ8N,kBAAmB,WACjB,OAAOJ,aAAaC,QAAQ,kBAI1BI,GAAQ,IAAIR,OAAKS,OACrB5Y,SACE6Y,aAAcC,EACdC,gBAAiBC,EACjBC,cAAeC,EACfC,aAAcC,IAEhBxO,WACA1B,eAYayP,MC1CR,SAASU,GAAe7R,EAAO8R,GACpC,IAAIC,EAAOD,EAAQE,wBACflJ,EAAI9I,EAAMiS,QAAUF,EAAKG,KACzBnJ,EAAI/I,EAAMmS,QAAUJ,EAAKK,IAC7B,OACEtJ,EAAGO,KAAKgJ,MAAMvJ,GACdC,EAAGM,KAAKgJ,MAAMtJ,IAQX,SAASxD,GAAe+M,GAC7B,OAAKA,EAEDA,EAAIC,cAAgBC,MACfF,GAGDA,MASH,SAAS9N,GAAT5C,GAAoC,IAAlB6C,EAAkB7C,EAAlB6C,IAAKC,EAAa9C,EAAb8C,KAAM7J,EAAO+G,EAAP/G,IAE7BA,IACHA,EAAM6J,GAGR,IAAIiG,EAAQlG,EAAImG,UAAU,SAAA6H,GACxB,OAAOA,IAAY5X,GAAO4X,EAAQ5X,MAAQA,KAG7B,IAAX8P,GACFlG,EAAItM,KAAKuM,GAUN,SAASG,GAAT5C,GAAuC,IAAlBwC,EAAkBxC,EAAlBwC,IAAKC,EAAazC,EAAbyC,KAAM7J,EAAOoH,EAAPpH,IAEhCA,IACHA,EAAM6J,GAGR,IAAIiG,EAAQlG,EAAImG,UAAU,SAAA6H,GACxB,OAAOA,IAAY5X,GAAO4X,EAAQ5X,MAAQA,KAG7B,IAAX8P,GAEJlG,EAAItL,OAAOwR,EAAO,GAGb,IAAM+H,IACXtT,GADe,SACZuT,EAAI9T,EAAM+T,GAAwB,IAApBC,EAAoBhR,UAAA5J,OAAA,QAAA6J,IAAAD,UAAA,IAAAA,UAAA,GACnC,OAAO8Q,EAAGG,iBAAiBjU,EAAM+T,EAAIC,IAGvCE,IALe,SAKXJ,EAAI9T,EAAM+T,GAAwB,IAApBC,EAAoBhR,UAAA5J,OAAA,QAAA6J,IAAAD,UAAA,IAAAA,UAAA,GACpC,OAAO8Q,EAAGK,oBAAoBnU,EAAM+T,EAAIC,KASrC,SAAStI,KACd,IAAI0I,EAAOT,MAAMU,KAAKrR,WACtB,OAAOoR,EAAK3X,MAAM,GAAG6X,OAAO,SAASC,EAAKC,GACxC,OAAOD,EAAM,IAAMC,GAClBJ,EAAK,IAQH,SAASK,GAATlR,GAA6B,IAAXmR,EAAWnR,EAAXmR,IAAKzW,EAAMsF,EAANtF,GACxBmI,EAAMuO,SAASC,eAAe3W,GAClC,OAAOyW,EAAIG,MAAMzO,GAQZ,SAASoF,GAAT9H,GAA4B,IAANzF,EAAMyF,EAANzF,GACvB6W,EAAQ7W,EAAGgS,MAAM,KACjB8E,EAAOD,EAAM,GAAG7E,MAAM,KACtB+E,EAAMD,EAAKE,MACf,OAAOH,EAAM,GAAK,IAAME,EAQnB,SAASE,GAATnR,GAAmC,IAAR/D,EAAQ+D,EAAR/D,KAC5B8L,EAAQwG,GAAM/N,QAAQ,+BAC1B,OAAOvE,EAAO,IAAM8L,EAQf,SAASqJ,GAAT1O,GAA6C,IAAXhB,EAAWgB,EAAXhB,QACnCqG,EAAQwG,GAAM/N,QAAQ,oCAAoCkB,GAC9D,OAAO/F,EAAQ,IAAMoM,EC3FvB,IAAAsJ,IACAxc,KADA,WAEA,OAEAmR,MAAA,MAGAnJ,SAAYrH,OAAAsH,EAAA,KAAAtH,IACZA,OAAAuH,EAAA,KAAAvH,CAAA,eACAwH,cAAA,mBACAuO,aAAA,iBAGA/V,OAAAuH,EAAA,KAAAvH,CAAA,cACAoJ,aAAA,qBAMAT,WAbA,WAcA,OAAAxE,KAAAqD,cACAyJ,KAAAC,MAAA,IAAA/M,KAAAqD,cAAAiB,KAAAE,YACA,OAGAjB,QAAW1H,OAAAsH,EAAA,KAAAtH,IACXA,OAAAuH,EAAA,KAAAvH,CAAA,0DAKAuI,OANA,WAQA,GAAApE,KAAAqD,iBAEArD,KAAAqD,cAAAiB,KAAAE,YAAA,KAEA,IAAAmT,EAAA3X,KAAAqD,cAAAiB,KAAAE,WACAoT,EAAAD,EAAA3X,KAAAiF,aAGAjF,KAAA6X,aAAAD,GACA5X,KAAA8X,cAAAH,EAAAC,KAMAnT,QAvBA,WAyBA,GAAAzE,KAAAqD,iBAEArD,KAAAqD,cAAAiB,KAAAE,YAAA,KAEA,IAAAmT,EAAA3X,KAAAqD,cAAAiB,KAAAE,WACAoT,EAAAD,EAAA3X,KAAAiF,aAGAjF,KAAA6X,aAAAD,GACA5X,KAAA8X,cAAAH,EAAAC,KAOAlT,UAzCA,WAyCA,IAAAqT,EAAA/X,KAEAA,KAAAqD,gBAGArD,KAAA6X,aAAA,GAEA7X,KAAAqD,cAAAsE,OAAA4G,QAAA,SAAAxG,GACA,IAAA2F,EAAAqK,EAAAnG,aAAA7J,GACAgQ,EAAAhH,mBACAhJ,QAAA2F,EAAAnN,GACA2L,UAAAwB,EAAAjC,uBAUAqM,cA9DA,SA8DAH,EAAAC,GAAA,IAAAI,EAAAhY,KAEAA,KAAAqD,cAAAsE,OAAA4G,QAAA,SAAAxG,GACA,IAAA2F,EAAAsK,EAAApG,aAAA7J,GACAiQ,EAAAjH,mBACAhJ,QAAA2F,EAAAnN,GACA2L,UAAAwB,EAAAxB,UAAA0L,EAAAD,OASAE,aA7EA,SA6EAD,GACA5X,KAAAwD,mBACA+G,YAAAuC,KAAAC,MAAA/M,KAAAqD,cAAAiB,KAAAxD,MAAA8W,GACApN,aAAAsC,KAAAC,MAAA/M,KAAAqD,cAAAiB,KAAA5D,OAAAkX,GACApT,WAAAoT,KAQAK,UAzFA,SAyFAxU,GACA,IAAAnF,EAAAmF,EAAAnF,IACA4Z,GAAA,SACAA,EAAAC,SAAA7Z,IACAmF,EAAA2U,SAAA3U,EAAA4U,UACA,MAAA/Z,EAAA0B,KAAAoE,SAAApE,KAAAyE,cAIA6T,QA5HA,WA6HInC,GAAJtT,GAAAoU,SAAA,UAAAjX,KAAAiY,YAEAM,cA/HA,WAgIIpC,GAAJK,IAAAS,SAAA,UAAAjX,KAAAiY,aC5KmXO,GAAA,GCQ/WC,cAAY5c,OAAAgI,EAAA,KAAAhI,CACd2c,GACAvU,EACAU,GACF,EACA,KACA,WACA,OAIA8T,GAAS3U,QAAAC,OAAA,kBACM,IAAA2U,GAAAD,WCpBXE,GAAM,WAAgB,IAAA5Y,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,mBAA6BF,EAAA,OAAYE,YAAA,iBAA2BF,EAAA,SAAcE,YAAA,cAAAC,OAAiCgC,KAAA,QAAAC,KAAA,IAAAE,IAAA,IAAAC,IAAA,OAAgDC,UAAW3E,MAAA+B,EAAAqK,kBAA6BvH,IAAK+V,MAAA7Y,EAAA8Y,kBAA0B1Y,EAAA,OAAcE,YAAA,gBAA0BF,EAAA,SAAcG,OAAOgC,KAAA,QAAA/B,GAAA,cAAAhD,KAAA,eAAuDoF,UAAW3E,MAAA+B,EAAAmF,mBAA8BrC,IAAKC,OAAA/C,EAAA+Y,gBAAAF,MAAA,SAAAG,GAAsDhZ,EAAAiZ,YAAAD,EAAArV,OAAA1F,gBACxiBib,MC8BJC,cAAArc,EAAA,SAKAsc,IACAjW,SAAYrH,OAAAsH,EAAA,KAAAtH,IAIZA,OAAAuH,EAAA,KAAAvH,CAAA,eACAwH,cAAA,mBACA+G,iBAAA,sBACA4H,sBAAA,wBACAJ,aAAA,iBAGA/V,OAAAuH,EAAA,KAAAvH,CAAA,cACAqJ,kBAAA,0BAGA3B,QAAW1H,OAAAsH,EAAA,KAAAtH,IACXA,OAAAuH,EAAA,KAAAvH,CAAA,eACAqT,oBAAA,wBAGArT,OAAAuH,EAAA,KAAAvH,CAAA,cACA+J,qBAAA,0BAOAwT,yBAbA,SAaA/C,GAAA,IAAA0B,EAAA/X,KACA,GAAAA,KAAAqD,cAAA,CAEA,IAAAsE,EAAA3H,KAAAqD,cAAAsE,OAAAiF,IAAA,SAAA7E,GACA,OAAAgQ,EAAAnG,aAAA7J,KAGAJ,EAAA4G,QAAA,SAAAb,GACAA,EAAA9F,cAAA2G,QAAA8H,OAQAyC,gBA7BA,SA6BArV,GACAzD,KAAAkF,oBAAAzB,EAAAC,OAAA1F,OACAgC,KAAA4F,sBAAAV,kBAAAzB,EAAAC,OAAA1F,SAOA6a,aAAAK,GAAA,SAAAzV,GAAA,IAAAuU,EAAAhY,KACAA,KAAAkP,qBAAA9E,iBAAA3G,EAAAC,OAAA1F,QAEAgC,KAAAoZ,yBAAA,SAAApR,GACA,IAAAqR,EAAAtC,IAAAC,IAAAgB,EAAAsB,KAAA/Y,GAAAyH,IACAqR,EAAAE,OAAA9V,EAAAC,OAAA1F,UAEA,IAMAgb,YAAAE,GAAA,SAAAM,GAAA,IAAAC,EAAAzZ,KACAA,KAAAqD,eAEArD,KAAAoZ,yBAAA,SAAApR,GACA,IAAAqR,EAAAtC,IAAAC,IAAAyC,EAAAH,KAAA/Y,GAAAyH,IACAqR,EAAAK,KAAAF,MAEA,OC9G4XG,GAAA,GCQxXC,cAAY/d,OAAAgI,EAAA,KAAAhI,CACd8d,GACAhB,GACAM,IACF,EACA,KACA,WACA,OAIAW,GAAS9V,QAAAC,OAAA,2BACM,OAAA8V,GAAAD,WCfFE,4BACV3X,EAAU4X,GADAle,OAAA6B,EAAA,KAAA7B,CAAAme,GAEV9X,EAAO+X,IAFGpe,OAAA6B,EAAA,KAAA7B,CAAAme,GAGVhY,EAAQkY,IAHEF,ICObG,IACAjf,KADA,WAEA,OAEA4e,WAEApY,OAAA,OAGAwB,SAAYrH,OAAAsH,EAAA,KAAAtH,IACZA,OAAAuH,EAAA,KAAAvH,CAAA,iBACA2L,aAAA,qBAGA4S,OACA5S,aADA,WAGAxH,KAAAwH,cAAAxH,KAAAwH,aAAA6S,WAEAra,KAAA0B,OAAA1B,KAAA8Z,QAAA9Z,KAAAwH,aAAAlF,MAGAtC,KAAA0B,OAAA,QClCmW4Y,GAAA,GCQ/VC,cAAY1e,OAAAgI,EAAA,KAAAhI,CACdye,GACA7Y,EACAG,GACF,EACA,KACA,WACA,OAIA2Y,GAASzW,QAAAC,OAAA,iBACM,IAAAyW,GAAAD,WCpBXE,GAAM,WAAgB,IAAA1a,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAF,EAAA2a,MAAA3a,EAAAY,UAAAR,EAAA,MAAAJ,EAAA4a,GAAA5a,EAAA2a,MAAA3a,EAAAY,UAAA,SAAAia,EAAAxM,GAAgG,OAAAjO,EAAA,OAAiB7B,IAAA8P,EAAAyM,IAAAD,EAAAE,MAAAC,UAAA,EAAA1a,YAAA,cAAAC,OAAwEC,GAAAqa,EAAAE,OAAgBjY,IAAKsB,MAAA,SAAA4U,GAAyBhZ,EAAAgD,SAAA6X,OAAqBA,EAAA1W,KAAA,MAAA/D,EAAA,OAA8BG,OAAOgB,IAAMzE,EAAA,OAAAA,CAAQ,KAAqB+d,EAAA1W,KAAA3G,MAAkByd,IAAAJ,EAAAE,SAAmB3a,EAAA,qBAA0BM,aAAac,YAAA,SAAoBjB,OAAQ4D,MAAA0W,EAAA1W,KAAA5B,KAAAsY,EAAA1W,KAAA3G,SAAyC4C,EAAA,OAAAJ,EAAAyB,GAAA,WAAAzB,EAAAkb,GAAAL,EAAAE,OAAA,mBAAiE/a,EAAAmb,MAC3mBC,MCESC,mCACX9Y,KAAMF,EACN0Y,MAAOjZ,EACPwZ,YAAa,0BACbC,UAAU,EACVjB,YAAY,EACZnW,MACEqX,OAAO,EACPhe,KAAM,iBAERc,OAAQ,SAAAgH,GAAqB,IAAVmW,EAAUnW,EAAVmW,OACbjb,EAAKiX,IAAkBlV,KAAMT,IAC7B2T,EAAOgG,EACRC,SACAjG,OACAjV,GAAGA,GACHmb,SAAS,kBACTC,SACH,OAAOnG,GAEToG,SAAU,SAASxF,GACjB,OAAOyF,OAAOC,SAAS1F,EAAGlG,KAAK,UAAY,KCrBlC6L,IACXzZ,KAAMF,EACN0Y,MAAOhZ,EACPuZ,YAAa,gBACbC,UAAU,EACVjB,YAAY,EACZnW,MACEqX,OAAO,EACPhe,KAAM,cAERc,OAAQ,SAAAgH,GAAqB,IAAVmW,EAAUnW,EAAVmW,OACbjb,EAAKiX,IAAkBlV,KAAMR,IAC7Bia,EAASP,EACVC,SACAM,SACAxC,SACAhZ,GAAGA,GACHmb,SAAS,qBACTC,SACH,OAAOI,GAETH,SAAU,SAASxF,GACjB,OAAOyF,OAAOC,SAAS1F,EAAGlG,KAAK,MAAQ,ICtB9B8L,IACX1Z,KAAMF,EACN0Y,MAAO/Y,EACPsZ,YAAa,iBACbC,UAAU,EACVjB,YAAY,EACZnW,MACEqX,OAAO,EACPhe,KAAM,eAERc,OAAQ,SAAAgH,GAAqB,IAAVmW,EAAUnW,EAAVmW,OACbjb,EAAKiX,IAAkBlV,KAAMP,IAC7Bia,EAAUR,EACXC,SACAO,UACAzb,GAAGA,GACHmb,SAAS,sBACTC,SACH,OAAOK,GAETJ,SAAU,WACR,OAAO,ICrBE/O,IACXvK,KAAMN,EACN8Y,MAAO9Y,EACPqZ,YAAa,eACbC,UAAU,EACVjB,YAAY,EACZnW,MACEqX,OAAO,EACPhe,KAAM,aAURc,OAAQ,SAAAgH,GAML,IALDmW,EAKCnW,EALDmW,OACA/X,EAIC4B,EAJD5B,MACAiK,EAGCrI,EAHDqI,MACAtD,EAEC/E,EAFD+E,iBACAlF,EACCG,EADDH,kBAEI+W,EAAeT,EAAOU,KAAKzG,wBAC3B5I,EAAQsP,IACV1Y,QACAiK,QACAuO,eACA7R,mBACAlF,sBAEF,OAAO2H,GAET+O,SAAU,WACR,OAAO,IAaJ,SAASO,GAATzW,GAOJ,IAAA0W,EAAA1W,EANDjC,aAMC,IAAA2Y,OAAAC,EAAA3W,EALDmI,gBAKC,IAAAwO,OAJD3O,EAIChI,EAJDgI,MACAuO,EAGCvW,EAHDuW,aACA7R,EAEC1E,EAFD0E,iBACAlF,EACCQ,EADDR,kBAEI3E,EAAKkX,IAAyB1P,QAAS2F,EAAMnN,OAE7C+b,GACF/P,EAAGuP,SAASpO,EAAM6O,SAASrM,KAAK,KAAM,KAAO,EAC7C1D,EAAGsP,SAASpO,EAAM6O,SAASrM,KAAK,KAAM,KAAO,GAG3CrD,EAAQa,EACT6O,SACAR,SACAxC,OAAOnP,GACP7J,GAAGA,GACHmb,SAAS,cACTxL,MACCsM,IAAK9O,EAAMwO,KAAK3b,GAChBqK,IAAKnH,EAAM8I,GAAKsB,EAASjD,IAAMqR,EAAa1P,EAAI+P,EAAgB/P,EAChEzB,IAAKrH,EAAM+I,GAAKqB,EAAS/C,IAAMmR,EAAazP,EAAI8P,EAAgB9P,EAChEkN,KAAMxU,IAEPuX,YAGH,OADA5P,EAAMvK,KAAON,EACN6K,EChFF,aAAM6P,IACXpa,KAAML,EACN6Y,MAAO7Y,EACPoZ,YAAa,wBACbC,UAAU,EACVjB,YAAY,EACZnW,MACEqX,OAAO,EACPhe,KAAM,YACN+E,KAAM,QCTGqa,IACXra,KAAMJ,EACN4Y,MAAO5Y,EACPmZ,YAAa,sBACbC,UAAU,EACVjB,YAAY,EACZnW,MACEqX,OAAO,EACPhe,KAAM,cACN+E,KAAM,QCTGgB,IACXhB,KAAMH,EACN2Y,MAAO3Y,EACPkZ,YAAa,uBACbC,UAAU,EACVjB,YAAY,EACZnW,MACEqX,OAAO,EACPhe,KAAM,YACN+E,KAAM,QCQGoY,IAAKA,MAALA,kBACV9Z,GADUgc,MAAA/gB,OAAA6B,EAAA,KAAA7B,CAAA+gB,GAER5a,EAAQ6K,IAFAhR,OAAA6B,EAAA,KAAA7B,CAAA+gB,GAGR/a,EAAYuZ,IAHJvf,OAAA6B,EAAA,KAAA7B,CAAA+gB,GAIR9a,EAASia,IAJDlgB,OAAA6B,EAAA,KAAA7B,CAAA+gB,GAKR7a,EAAUia,IALFY,KAAA/gB,OAAA6B,EAAA,KAAA7B,CAAAghB,GAOVhc,GAPUic,MAAAjhB,OAAA6B,EAAA,KAAA7B,CAAAihB,GAQR7a,EAAOya,IARC7gB,OAAA6B,EAAA,KAAA7B,CAAAihB,GASR5a,EAAOya,IATC9gB,OAAA6B,EAAA,KAAA7B,CAAAihB,GAUR3a,EAAUmB,IAVFwZ,KAAAD,IC6BbE,IACAC,OACArc,UACA2B,KAAA2a,OACAC,QAAAtc,IAGA1F,KAPA,WAQA,OAEAwf,MAAAyC,KAGAja,SAAYrH,OAAAsH,EAAA,KAAAtH,IACZA,OAAAuH,EAAA,KAAAvH,CAAA,iBACA2L,aAAA,qBAGAjE,QAAW1H,OAAAsH,EAAA,KAAAtH,IACXA,OAAAuH,EAAA,KAAAvH,CAAA,iBACA4M,gBAAA,qBAOA1F,SATA,SASA6X,GACA,IAAAwC,EAAApd,KAAAqd,MAAAzC,EAAAE,OAAA,GAEA9a,KAAAwH,cAAAoT,EAAAE,QAAA9a,KAAAwH,aAAAsT,MAEA9a,KAAAyI,kBAGAzI,KAAAyI,iBACAC,IAAA0U,EACA5V,aAAAoT,KASA3C,UA5BA,SA4BAxU,GACA,IAAAnF,EAAAmF,EAAAnF,IAEAgf,GAAA,SACA,GAAAA,EAAAnF,SAAA7Z,IAAAmF,EAAA2U,OAAA,CACA,IAAAmF,EAAAvd,KAAAwH,aACA,GAAA+V,KAAAzC,QAAA5Y,EAAA,OACA5D,EAAA,IAGA,IAAAiT,GAAA,6BACAiM,GACAC,EAAAzb,EACAnE,EAAAgE,EACAxE,EAAAyE,EACAnD,EAAAoD,EACA3E,EAAA6E,EACAyb,EAAAxb,EACA/E,EAAAgF,GAGA,GAAAoP,EAAA4G,SAAA7Z,GAAA,CAEA,IAAAqf,EAAAH,EAAAlf,GACAoc,EAAA7e,OAAA0V,KAAAvR,KAAA0a,MAAA1a,KAAAW,WACA+Z,EAAAvC,SAAAwF,IAEAla,EAAA2U,SAAA3U,EAAA4U,UACA5U,EAAAma,iBACAna,EAAAoa,kBACA7d,KAAAqd,MAAAM,GAAA,GAAAxZ,aAIA2Z,QAhFA,WAoFI3H,GAAJtT,GAAAoU,SAAA,UAAAjX,KAAAiY,YAEAM,cAtFA,WA0FIpC,GAAJK,IAAAS,SAAA,UAAAjX,KAAAiY,aC1IgW8F,GAAA,GCQ5VC,cAAYniB,OAAAgI,EAAA,KAAAhI,CACdkiB,GACAtD,GACAU,IACF,EACA,KACA,WACA,OAIA6C,GAASla,QAAAC,OAAA,cACM,IAAAka,GAAAD,WCpBXE,GAAM,WAAgB,IAAAne,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBG,OAAOC,GAAA,sBAAyBJ,EAAA,OAAYE,YAAA,iBAAA8d,OAAqCrd,MAAAf,EAAAqe,WAAA,QAAA1d,OAAAX,EAAAse,YAAA,WAA+Ele,EAAA,OAAYge,OAAQrd,MAAAf,EAAAqe,WAAA,KAAA1d,OAAAX,EAAAse,YAAA,KAAA/a,QAAAvD,EAAA6C,cAA2FtC,OAASC,GAAA,MAAAe,IAAAvB,EAAAue,YAA+Bne,EAAA,OAAY0a,IAAA,aAAAsD,OAAyBrd,MAAAf,EAAAqe,WAAA,KAAA1d,OAAAX,EAAAse,YAAA,MAA+D/d,OAASC,GAAA,eAAmBsC,IAAKsB,MAAApE,EAAAwe,YAAAC,UAAAze,EAAA0e,YAAAC,WAAA3e,EAAA4e,aAAAC,UAAA7e,EAAA8e,UAAAC,QAAA/e,EAAAgf,gBACliBC,8BCCSC,GAAgB,IAAI/K,OCA3BgL,GAAW9X,EAAQ,QAEd+X,GAAsBD,GAAS,SAAA7Z,GAKvC,IAJD0C,EAIC1C,EAJD0C,QACA+D,EAGCzG,EAHDyG,KACAD,EAECxG,EAFDwG,OACAjE,EACCvC,EADDuC,cAEAgN,GAAMwK,OAAO,mCAAqCrX,UAASH,kBAC3DgN,GAAMwK,OAAO,iCAAmCrX,UAAS+D,OAAMD,YAEjE,KCqDAwT,IACAnkB,KADA,WAEA,OAEAokB,gBAAA,EAEA9D,OAAA,KAEA+D,aAAA,OAGArc,SAAYrH,OAAAsH,EAAA,KAAAtH,IAEZA,OAAAuH,EAAA,KAAAvH,CAAA,iBACA0L,eAAA,oBACAC,aAAA,kBACAgY,eAAA,oBACAC,sBAAA,6BAIA5jB,OAAAuH,EAAA,KAAAvH,CAAA,eACAwH,cAAA,mBACAuO,aAAA,eACAI,sBAAA,wBACAE,oBAAA,sBACA9H,iBAAA,wBAGAvO,OAAAuH,EAAA,KAAAvH,CAAA,cACAqJ,kBAAA,0BAIAkZ,WAvBA,WAwBA,OAAApe,KAAAqD,cAAArD,KAAAqD,cAAAiB,KAAAiG,YAAA,GAIA8T,YA5BA,WA6BA,OAAAre,KAAAqD,cAAArD,KAAAqD,cAAAiB,KAAAkG,aAAA,GAIA5H,aAjCA,WAkCA,OAAA5C,KAAAqD,cAAArD,KAAAqD,cAAAC,QAAA,GAIAgb,SAtCA,WAuCA,OAAAte,KAAAqD,cAAArD,KAAAqD,cAAA/B,IAAA,IAIAkD,WA3CA,WA4CA,OAAAxE,KAAAqD,cAAArD,KAAAqD,cAAAiB,KAAAE,WAAA,KAGA4V,OAIA/W,cAJA,WAKArD,KAAA8I,sBACA9I,KAAA0f,cAMAlb,WAZA,WAaAxE,KAAA0f,cAMAF,eAnBA,WAmBA,IAAAzH,EAAA/X,KACAA,KAAAwf,eAAAjR,QAAA,SAAAxG,GACA,IAAA4X,EAAA5I,IACAC,IAAAe,EAAAuB,KACA/Y,GAAAwH,IAEA4X,EAAAC,WACAC,eAAA,OAQAJ,sBAlCA,WAkCA,IAAAzH,EAAAhY,KACAA,KAAAyf,sBAAAlR,QAAA,SAAAvG,GACA,IAAAqR,EAAAtC,IACAC,IAAAgB,EAAAsB,KACA/Y,GAAAyH,IAEAqR,EAAAuG,WACAC,eAAA,EACAhU,gBAKAtI,QAAW1H,OAAAsH,EAAA,KAAAtH,IACXA,OAAAuH,EAAA,KAAAvH,CAAA,iBACA,oBACA,qBACA,mBACA,wBAGAA,OAAAuH,EAAA,KAAAvH,CAAA,eACA,kBACA,kBACA,kBACA,uBACA,qBACA,sBAGAA,OAAAuH,EAAA,KAAAvH,CAAA,eACAikB,2BAAA,yBAOAC,aAzBA,SAyBArS,GAAA,IAAA+L,EAAAzZ,KAEAA,KAAAggB,WAAAtS,GAGA1N,KAAAigB,kBAAAvS,EAAA6O,SAAA,WACA9C,EAAAjS,cAAAiS,EAAAjS,aAAAlF,OAAAL,IACAwX,EAAA1I,mBACAhJ,QAAA2F,EAAAwO,KAAA3b,GACAuL,KAAA4B,EAAA5B,KAAA2N,EAAA+B,QACA3P,OAAA4N,EAAAyG,UAAAxS,KAGA+L,EAAAqG,4BACA/X,QAAA2F,EAAAnN,KACAqH,cAAA6R,EAAA0G,wBAAAzS,EAAAnN,WAMAmN,EAAA7K,GAAA,iBAAAY,GAGA,GAFAA,EAAAoa,kBAEApE,EAAAjS,cAAA,UAAAiS,EAAAjS,aAAAlF,KAAA,CAEA,IAAAuK,EAAAsP,IACA1Y,QACAiK,QACAuO,aAAAxC,EAAA+B,OAAAU,KAAAzG,wBACArL,iBAAAqP,EAAArP,iBACAlF,kBAAAuU,EAAAvU,oBAGAuU,EAAA9L,iBACA5F,QAAA2F,EAAAwO,KAAA3b,GACAqN,QAAAf,EAAAqP,KAAA3b,GACAsN,SAAAhB,EAAAf,KAAA2N,EAAA+B,UAEA/B,EAAA2G,2BAAAvT,EAAAa,QACAjK,EAAA2U,QAEAqB,EAAA8E,cACA7Q,EAAAkS,WACAC,eAAA,EACAQ,YAAA,IAEA5G,EAAA3R,oBACAC,QAAA2F,EAAAnN,SAGAkD,EAAA4U,SAEAoB,EAAA8E,cAGA7Q,EAAAkS,WACAC,eAAA,IAGApG,EAAA3R,oBACAC,QAAA2F,EAAAnN,WAWA6f,2BAjGA,SAiGAzP,EAAAjD,GAAA,IAAA4S,EAAAtgB,KACAA,KAAAggB,WAAArP,GAEA3Q,KAAAigB,kBAAAtP,EAAA,WACA2P,EAAAnQ,oBACApI,QAAA2F,EAAAnN,KACAqN,QAAA+C,EAAApQ,KACAsN,SAAA8C,EAAA7E,KAAAwU,EAAA9E,YAIA7K,EAAA9N,GAAA,iBAAAY,GACAiK,EAAAkS,WAAA,GAEAnc,EAAA4U,SAEAiI,EAAA/B,aACA7Q,OAAA,IAIAiD,EAAAiP,WACAC,eAAA,EACAhU,YAGAyU,EAAAxY,oBACAC,QAAA2F,EAAAnN,KACAyH,eAAA2I,EAAApQ,OAGAkD,EAAAoa,qBAQA0C,qBAxIA,SAwIA7S,GAAA,IAAA8S,EAAAxgB,KAEA0N,EAAA7K,GAAA,sBAEA2d,EAAAlB,gBAAA,EACAkB,EAAAjB,aAAA,KAKAiB,EAAAhZ,aAAAoU,SAAAlO,IAKAA,EAAA6O,SAAAE,YAEA+D,EAAAhT,iBACAjN,GAAAmN,EAAAwO,KAAA3b,GACA+B,KAAAoL,EAAApL,KACAwJ,KAAA4B,EAAA5B,KAAA0U,EAAAhF,QACA3P,OAAA2U,EAAAN,UAAAxS,KAGA8S,EAAAT,aAAArS,KAbAA,EAAA6O,SAAA3T,SACA8E,EAAA9E,YAiBA8E,EAAA7K,GAAA,wBACQsc,IACRpX,QAAA2F,EAAAwO,KAAA3b,GACAuL,KAAA4B,EAAA5B,KAAA0U,EAAAhF,QACA3P,OAAA2U,EAAAN,UAAAxS,QAQA+S,UAjLA,WAiLA,IAAAC,EAAA1gB,KAEAA,KAAAuI,oBAEAvI,KAAAwf,eAAAjR,QAAA,SAAAxG,GACA,IAAA2F,EAAAgT,EAAA9O,aAAA7J,GAEA4Y,KACAjT,EAAA9F,cAAA2G,QAAA,SAAAX,GACA,IAAA+C,EAAA+P,EAAAxO,oBAAAtE,GACA+S,EAAA/kB,KAAA,IAAAglB,EAAAjQ,MAIA,IAAAkQ,EAAA,IAAAC,EAAApT,GACAmT,EAAAjZ,cAAA+Y,EAEAD,EAAAtY,kBAAAD,KAAA0Y,OASAZ,kBA3MA,SA2MA7J,EAAAC,GACA,IAAA0K,EAAA,EACA3K,EAAAvT,GAAA,uBACAke,EAAA,EAEA,IAAAC,EAAA,WACAD,EAAA,GAGAE,EAAA,SAAAA,EAAAC,GACA,IAAAH,GACA1K,KAAA6K,GAEAH,EAAA,EAEA3K,EAAAI,IAAA,YAAAwK,GACA5K,EAAAI,IAAA,UAAAyK,IAGA7K,EAAAvT,GAAA,YAAAme,GACA5K,EAAAvT,GAAA,UAAAoe,MAUA1C,YAzOA,WAyOA,IAAA4C,EAAAnhB,KAAAqF,EAAAC,UAAA5J,OAAA,QAAA6J,IAAAD,UAAA,GAAAA,UAAA,MAAA8b,EAAA/b,EAAAqI,aAAA,IAAA0T,KAAAC,EAAAhc,EAAAsL,oBAAA,IAAA0Q,KAEArhB,KAAAwf,eAAAjR,QAAA,SAAAxG,GACA,IAAA4X,EAAA5I,IACAC,IAAAmK,EAAA7H,KACA/Y,GAAAwH,IAEA4X,EAAAC,WAAA,KAGA5f,KAAAyf,sBAAAlR,QAAA,SAAAvG,GACA,IAAAqR,EAAAtC,IACAC,IAAAmK,EAAA7H,KACA/Y,GAAAyH,IAEAqR,EAAAuG,WAAA,KAIA5f,KAAA8I,qBACAnB,OAAA+F,EAAA1N,KAAAwf,kBACA5X,cAAA+I,EAAA3Q,KAAAyf,4BAQAO,WAtQA,SAsQAtS,GACAA,EAAA7K,GACA,YACA,SAAAY,GACAzD,KAAAwH,cAAA,SAAAxH,KAAAwH,aAAAlF,OACAmB,EAAAma,iBACAna,EAAAoa,oBAGA7d,OAOA0f,WAtRA,WAuRA1f,KAAAwb,SAEAxb,KAAAwb,OAAA8F,QACAthB,KAAAwb,OAAA5S,UAEA5I,KAAAwb,OAAA+F,KAAA,eAEAvhB,KAAAwhB,cASAC,kBAvSA,SAuSAC,EAAAhU,GACA,IAAAiU,EAAAzU,EACAwU,EACA1hB,KAAAqD,cAAAiB,KAAAE,YAEA,QAAAod,KAAAD,EAAA,CACA,IAAAE,EAAA1F,IACAtO,SAAA8T,EAAAC,GACA3F,cACA1P,EAAA,EACAC,EAAA,GAEAkB,QACAtD,iBAAApK,KAAAoK,iBACAlF,kBAAAlF,KAAAkF,oBAEA2c,EAAAthB,GAAAohB,EAAAC,GAAArhB,IACAP,KAAAogB,2BAAAyB,EAAAnU,KAQAoU,UAhUA,SAgUApU,GACA,GAAAA,EAAA,CACA,IACAqU,EADA1V,EAAArM,KAAAwE,WAEA,OAAAkJ,EAAApL,MACA,KAAAT,EACA,IAAA2T,EAAAxV,KAAAwb,OACAC,SACAjG,KAAA9H,EAAA7B,OAAA,GAAAQ,EAAAqB,EAAA7B,OAAA,GAAAQ,GACAqQ,KAAAhP,EAAA7B,OAAA,GAAAQ,EAAAqB,EAAA7B,OAAA,GAAAQ,GACA9L,GAAAmN,EAAAnN,IACAmb,SAAA,kBACAC,SACAnG,EAAA+G,SAAAE,YACAsF,EAAAvM,EACA,MAEA,KAAA1T,EACA,IAAAia,EAAA/b,KAAAwb,OACAC,SACAM,SACAxC,OAAA7L,EAAA7B,OAAA,GAAAQ,GACA6D,MACAtF,GAAA8C,EAAA7B,OAAA,GAAAQ,EACAvB,GAAA4C,EAAA7B,OAAA,GAAAQ,IAEA9L,GAAAmN,EAAAnN,IACAmb,SAAA,qBACAC,SACAI,EAAAQ,SAAAE,YAEAsF,EAAAhG,EACA,MAEA,KAAAha,EACA,IAAAigB,EAAAhiB,KAAAwb,OACAC,SACAO,QAAArP,EAAAe,EAAA7B,OAAAQ,EAAAqB,EAAApL,OACA/B,GAAAmN,EAAAnN,IACAmb,SAAA,sBACAC,SACAqG,EAAAzF,SAAAE,YACAsF,EAAAC,EACA,MAEA,QACAC,QAAAC,MAAAxU,EAAApL,KAAA,mBAKAyf,IACA/hB,KAAA+f,aAAAgC,GACA/hB,KAAAugB,qBAAAwB,GACA/hB,KAAAyhB,kBACAzhB,KAAAgS,sBAAA+P,EAAAxhB,MACAwhB,MAQAP,WAhYA,WAgYA,IAAAW,EAAAniB,KACAA,KAAAqD,eACArD,KAAAqD,cAAAsE,OAAA4G,QAAA,SAAAxG,GACA,IAAA2F,EAAAyU,EAAAvQ,aAAA7J,GACAoa,EAAAL,UAAApU,MASA0U,eA7YA,SA6YA3e,GAEA,cAAAA,EAAAnF,KACA,YAAAmF,EAAAnF,KACA,eAAAmF,EAAAnF,KACA,cAAAmF,EAAAnF,KAEQ6gB,GAARkD,SAQAlC,wBA5ZA,SA4ZApY,GAAA,IAAAua,EAAAtiB,KACA4H,KASA,OARA5H,KAAAgS,sBAAAjK,GAAAwG,QAAA,SAAA7I,GAAA,IAAAnF,EAAAmF,EAAAnF,GAAA0K,EAAAvF,EAAAuF,MACAoO,EAAAtC,IACAC,IAAAsL,EAAAhJ,KACA/Y,OAHAgiB,EAKAlJ,EAAAvN,KAAAwW,EAAA9G,QAAA5Q,EALA2X,EAKA3X,GAAAE,EALAyX,EAKAzX,GACAlD,EAAAhM,KAAA,IAAAglB,GAAArgB,KAAAqK,KAAAE,KAAAG,aAEArD,GASAsY,UA/aA,SA+aAxS,GAAA,IAAA8U,EAAAC,EAAAziB,KAEA4M,GAAA4V,KAAA3mB,OAAA6B,EAAA,KAAA7B,CAAA2mB,EACA3gB,EAAA,WAEA,IAAA6gB,EAAAhV,EAAA5B,KAAA2W,EAAAjH,QACA,OAAAkH,EAAAnW,EAAAmW,EAAAlW,EAAAkW,EAAAjW,EAAAiW,EAAAhW,KAJA7Q,OAAA6B,EAAA,KAAA7B,CAAA2mB,EAMA1gB,EAAA,WAEA,IAAA4gB,EAAAhV,EAAA5B,KAAA2W,EAAAjH,QACA,OAAAkH,EAAA9X,GAAA8X,EAAA5X,GAAA4C,EAAAwC,KAAA,QATArU,OAAA6B,EAAA,KAAA7B,CAAA2mB,EAWAzgB,EAAA,WAKA,IAAA4gB,EAAAjV,EAAA6O,SACAqG,KAEAC,GACAtW,EAAAuP,SAAA6G,EAAAzS,KAAA,YACA1D,EAAAsP,SAAA6G,EAAAzS,KAAA,aAUA,OAPAxC,EAAAoV,QAAA9kB,MAAAuQ,QAAA,SAAAwU,GACAH,EAAAhnB,KACAmnB,EAAA,GAAAF,EAAAtW,EACAwW,EAAA,GAAAF,EAAArW,KAIAoW,IA/BAJ,GAkCA,OAAA5V,EAAAc,EAAApL,SAOAuc,UA1dA,SA0dApb,GAOA,GALAzD,KAAAue,cAKAve,KAAAwH,eACAxH,KAAAsf,gBACAtf,KAAAwH,aAAAlF,OAAAF,EAAA,CAEApC,KAAAsf,gBAAA,EAGA,IAAA5R,EAAA1N,KAAAwH,aAAAnJ,QACAmd,OAAAxb,KAAAwb,OACA/X,UAGAzD,KAAAwH,aAAAsT,QAAA/Y,EAEA2L,EAAAsV,KAAAvf,GAGAiK,EAAA7K,GAAA,uBACUsT,GAAVtT,GAAAoU,SAAA,mBAAAgM,EAAA/B,GACA,UAAAA,EAAA5iB,MAEAoP,EAAAsV,KAAA,QACAtV,EAAA8I,IAAA,aAEA9I,EAAA6O,SAAAE,YAEctG,GAAdK,IAAAS,SAAA,UAAAgM,QAMAjjB,KAAAuf,aAAA7R,EAEA1N,KAAAugB,qBAAA7S,KAQAwV,UA3gBA,WA2gBA,IAAAC,EAAAnjB,KAAA6F,EAAAP,UAAA5J,OAAA,QAAA6J,IAAAD,UAAA,GAAAA,UAAA,MAAA8d,EAAAvd,EAAAwd,UAAA,IAAAD,EAAA,EAAAA,EAAAE,EAAAzd,EAAA0d,UAAA,IAAAD,EAAA,EAAAA,EACAtjB,KAAAwf,eAAAjR,QAAA,SAAAxG,GACA,IAAA4X,EAAA5I,IACAC,IAAAmM,EAAA7J,KACA/Y,GAAAwH,IAEA4X,EACApD,SACA8G,MACAE,MACQpE,IACRpX,UACA+D,KAAA6T,EAAA7T,KAAAqX,EAAA3H,QACA3P,OAAAsX,EAAAjD,UAAAP,GACA/X,cAAAub,EAAAhD,wBAAApY,QASAgX,QAliBA,SAkiBAtb,GACAzD,KAAAuf,cAEAvf,KAAAuf,aAAAyD,KAAAvf,IAQAgb,YA7iBA,SA6iBAhb,GACA,IAAA+f,EAAAxjB,KAAAqd,MAAAmG,WACAC,EAAAnO,GAAA7R,EAAA+f,GAMMvE,GAANyE,MAAA,aAAAD,EAAAlX,EAAAkX,EAAAjX,IAMAmS,aA3jBA,WA+jBMM,GAANyE,MAAA,gBAMAC,WArkBA,WAqkBA,IAAAC,EAAA5jB,KAEAA,KAAA8I,sBAEA9I,KAAAuH,eAAAgH,QAAA,SAAAb,GAEA,IAAA3F,EAAAyP,IAAAlV,KAAAoL,EAAApL,OAEA+J,EAAAuX,EAAApf,WAAAkJ,EAAAxB,UACA2X,EAAA1X,EAAAtQ,OAAAsH,EAAA,KAAAtH,IAAA6R,GAAArB,WAEAuX,EAAApW,gBAAA3R,OAAAsH,EAAA,KAAAtH,IACAgoB,GACAtjB,GAAAwH,KAGA6b,EAAA9b,oBAAAC,YAEA2F,EAAA9F,cAAA2G,QAAA,SAAA1B,GACA,IAAAe,EAAA6J,IAAA1P,YAEA+b,EAAA9W,GAAAH,QAAAR,UACAuX,EAAAjW,iBACA5F,UACA6F,UACAC,UACAjD,GAAAkZ,EAAAlZ,GACAE,GAAAgZ,EAAAhZ,UAMA9K,KAAA0f,cAMAqE,qBA5mBA,WA4mBA,IAAAC,EAAAhkB,KAEAA,KAAAwf,eAAAjR,QAAA,SAAAxG,GACA,IAAA4X,EAAA5I,IACAC,IAAAgN,EAAA1K,KACA/Y,GAAAwH,IAGA4X,EAAAC,WAAA,GAEAoE,EAAA9V,sBAAAnG,YAEA4X,EAAApD,SAAA+E,QACA3B,EAAA/W,WAGA5I,KAAA8I,uBAMAmb,UAloBA,WAkoBA,IAAAC,EAAAlkB,KACAA,KAAAqD,eACArD,KAAAqD,cAAAsE,OAAA4G,QAAA,SAAAxG,GACA,IAAA2F,EAAAqJ,IACAC,IAAAkN,EAAA5K,KACA/Y,GAAAwH,IAEA2F,EAAAkS,WACAC,eAAA,IAEAqE,EAAApc,oBACAC,eASAkQ,UAtpBA,SAspBAxU,GACA,WAAAA,EAAAnF,KACAmF,EAAAma,iBACAna,EAAAoa,kBAEA7d,KAAA+jB,wBACA,MAAAtgB,EAAAnF,KAAAmF,EAAA2U,SACA3U,EAAAma,iBACAna,EAAAoa,kBAEA7d,KAAAikB,aAIA,IAAAE,GACA9mB,EAAA2C,KAAAygB,UACA2D,EAAApkB,KAAA2jB,YAIA,GAAAQ,EAAA1gB,EAAAnF,MAAAmF,EAAA4U,QAKA,OAJA5U,EAAAma,iBACAna,EAAAoa,uBAEAsG,EAAA1gB,EAAAnF,OAKA,IAAA+lB,GACAC,WAAAjB,IAAA,GACAkB,YAAAlB,GAAA,GACAmB,SAAAjB,IAAA,GACAkB,WAAAlB,GAAA,IAIA,OAAAc,EAAA5gB,EAAAnF,MAAAmF,EAAA4U,SAAA5U,EAAAihB,UACAjhB,EAAAma,iBACAna,EAAAoa,uBAEA7d,KAAAkjB,UAAAmB,EAAA5gB,EAAAnF,YAJA,KASAwf,QA7yBA,WA+yBA9d,KAAAwb,OAAA+F,KAAA,eACAvhB,KAAA0f,aACIvJ,GAAJtT,GAAAoU,SAAA,UAAAjX,KAAAiY,WACI9B,GAAJtT,GAAAoU,SAAA,QAAAjX,KAAAoiB,iBAEAuC,UApzBA,WAszBA3kB,KAAAwb,OAAA8F,QACAthB,KAAAwb,OAAA5S,SACIuN,GAAJK,IAAAS,SAAA,UAAAjX,KAAAiY,WACI9B,GAAJK,IAAAS,SAAA,QAAAjX,KAAAoiB,kBC33BiWwC,GAAA,GCQ7VC,cAAYhpB,OAAAgI,EAAA,KAAAhI,CACd+oB,GACA1G,GACAc,IACF,EACA,KACA,WACA,OAIA6F,GAAS/gB,QAAAC,OAAA,eACM,IAAA+gB,GAAAD,WCpBXE,GAAM,WAAgB,IAAAhlB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,oBAA8BF,EAAA,OAAYE,YAAA,2BAAqCF,EAAA,OAAYE,YAAA,UAAoBF,EAAA,OAAYM,aAAaK,MAAA,OAAAkkB,aAAA,SAAAC,QAAA,UAAuD9kB,EAAA,SAAAA,EAAA,qBAAsCM,aAAac,YAAA,SAAoBjB,OAAQ4D,KAAA,YAAiB/D,EAAA,SAAc0a,IAAA,aAAAxa,YAAA,aAAAC,OAAiDgC,KAAA,OAAA4iB,OAAA,UAAAC,SAAA,IAA+CtiB,IAAKC,OAAA/C,EAAAqlB,mBAA6B,GAAAjlB,EAAA,SAAAA,EAAA,qBAA0CM,aAAac,YAAA,SAAoBjB,OAAQ4D,MAAA,wBAA+B/D,EAAA,SAAc0a,IAAA,eAAAva,OAA0BgC,KAAA,OAAA+iB,gBAAA,GAAAC,aAAA,GAAAC,YAAA,GAAAC,WAAA,GAAAC,UAAA,IAAqG5iB,IAAKC,OAAA/C,EAAAqlB,mBAA6B,OAAAjlB,EAAA,OAAoBE,YAAA,UAAoBF,EAAA,OAAYM,aAAaC,OAAA,OAAAskB,aAAA,UAAsC1kB,OAAQC,GAAA,cAAkBsC,IAAKsB,MAAApE,EAAA2lB,aAAuBvlB,EAAA,QAAaM,aAAaK,MAAA,OAAAJ,OAAA,UAAgCP,EAAA,qBAA0BM,aAAac,YAAA,SAAoBjB,OAAQ4D,KAAA,mBAAuB,OAAA/D,EAAA,OAAoBE,YAAA,UAAoBF,EAAA,OAAYE,YAAA,oBAAAI,aAA6CC,OAAA,OAAAI,MAAA,OAAAI,SAAA,YAAoDf,EAAA,OAAY0a,IAAA,YAAAxa,YAAA,sCAAAI,aAA+EC,OAAA,QAAgBJ,OAAQC,GAAA,cAAkBR,EAAA4a,GAAA5a,EAAA,oBAAA4lB,EAAAvX,GAAmD,OAAAjO,EAAA,OAAiB7B,IAAAqnB,EAAApoB,KAAA6Q,EAAA/N,YAAA,YAAAC,OAA0DC,GAAA,aAAA6N,EAAA9M,IAAAqkB,EAAArkB,IAAA2J,MAAA0a,EAAApoB,KAAAud,MAAA6K,EAAApoB,KAAAuD,MAAAf,EAAA6lB,eAAAC,aAAAzX,GAA0IvL,IAAKsB,MAAA,SAAA4U,GAAyBhZ,EAAA+lB,iBAAA1X,cAAgCjO,EAAA,OAAiBE,YAAA,UAAoBF,EAAA,OAAYM,aAAaC,OAAA,OAAAskB,aAAA,UAAsC1kB,OAAQC,GAAA,eAAmBsC,IAAKsB,MAAApE,EAAAgmB,cAAwB5lB,EAAA,QAAaM,aAAaK,MAAA,OAAAJ,OAAA,UAAgCP,EAAA,qBAA0BM,aAAac,YAAA,SAAoBjB,OAAQ4D,KAAA,oBAAwB,YACx/D8hB,MC8EJC,eACAjJ,OAKA4I,gBACAtjB,KAAA2a,OACAC,QAAA,SAGAhiB,KAXA,WAYA,OAEAgrB,gBAGAhjB,SAAYrH,OAAAsH,EAAA,KAAAtH,IACZA,OAAAuH,EAAA,KAAAvH,CAAA,eACAsR,OAAA,eAGA5J,QAAW1H,OAAAsH,EAAA,KAAAtH,IAIXA,OAAAuH,EAAA,KAAAvH,CAAA,uDAMAsqB,UAVA,SAUAC,GACA,IAAAC,EAAArmB,KACAyN,EAAA,IAAA5D,MAEA4D,EAAA6Y,OAAA,WAKA,IAAAC,GACAzlB,MAAAd,KAAAc,MACAJ,OAAAV,KAAAU,OACA6J,YAAAvK,KAAAc,MACA0J,aAAAxK,KAAAU,OACA8D,WAAA,GAGA6hB,EAAAhZ,iBACA/L,IAAA8kB,EAAA9kB,IACA/D,KAAA6oB,EAAA7oB,KACA+G,KAAAiiB,KAIA9Y,EAAAnM,IAAA8kB,EAAA9kB,KAOAwkB,iBAzCA,SAyCA1X,GACA,IAAA/K,EAAArD,KAAAkmB,WAAA9X,GACApO,KAAAoP,iBAAA/L,IAQAmjB,cAnDA,SAmDAC,GAAA,IAAA1O,EAAA/X,KACA,GAAAymB,EAAAnkB,KAAAokB,WAAA,UACA,IAAAC,EAAA,IAAAC,WACAD,EAAAL,OAAA,SAAApF,GACA,IAAAzT,EAAA,IAAAoZ,GAAAtpB,KAAAkpB,EAAAlpB,KAAA+D,IAAA4f,EAAAxd,OAAAnH,SACAwb,EAAAoO,UAAA1Y,GACAsK,EAAAmO,WAAAtqB,KAAA6R,IAEAkZ,EAAAG,cAAAL,KAQArB,eAnEA,SAmEAlE,GACA,IAAAtI,EAAAsI,EAAA6F,YAAA7F,EAAAxd,OAEA,GAAAkV,EAAAoO,OAAApO,EAAAoO,MAAA,GACA,QAAAxrB,EAAA,EAAAA,EAAAod,EAAAoO,MAAAtrB,OAAAF,IACAwE,KAAAwmB,cAAA5N,EAAAoO,MAAAxrB,KAQAkqB,UAhFA,WAiFA,GAAA1lB,KAAAkmB,YAAA,IAAAlmB,KAAAkmB,WAAAxqB,OAAA,CACA,IAAAurB,EAAAjnB,KAAAkmB,WAAA/pB,QACA6D,KAAAkmB,WAAAtqB,KAAAqrB,KAMAlB,WAzFA,WA0FA,GAAA/lB,KAAAkmB,YAAA,IAAAlmB,KAAAkmB,WAAAxqB,OAAA,CACA,IAAAwrB,EAAAlnB,KAAAkmB,WAAA3O,MACAvX,KAAAkmB,WAAAiB,QAAAD,KAOAjP,UAnGA,SAmGAxU,GAEA,IAAA2jB,GAAA,SACA9oB,EAAAmF,EAAAnF,IACA8oB,EAAAjP,SAAA7Z,IAAAmF,EAAA4U,SAAA5U,EAAA2U,SACA3U,EAAAma,iBACAna,EAAAoa,kBACA,MAAAvf,EAAA0B,KAAA0lB,YAAA1lB,KAAA+lB,iBAcA3L,OAKAjN,OALA,SAKA4I,GACA/V,KAAAkmB,WAAAnQ,IAGA+H,QAvJA,WA2JI3H,GAAJtT,GAAAoU,SAAA,UAAAjX,KAAAiY,YAEAM,cA7JA,WAiKIpC,GAAJK,IAAAS,SAAA,UAAAjX,KAAAiY,cChPqWoP,GAAA,GCQjWC,cAAYzrB,OAAAgI,EAAA,KAAAhI,CACdwrB,GACAtC,GACAiB,IACF,EACA,KACA,WACA,OAIAsB,GAASxjB,QAAAC,OAAA,mBACM,IAAAwjB,GAAAD,WCpBXE,GAAM,WAAgB,IAAAznB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAF,EAAA,cAAAI,EAAA,OAAAA,EAAA,OAA+CE,YAAA,uBAAiCF,EAAA,OAAYE,YAAA,cAAwBN,EAAAyB,GAAA,iCAAArB,EAAA,sBAAmEE,YAAA,aAAAC,OAAgCmnB,mBAAA,gBAAAzpB,MAAA+B,EAAA2nB,cAAAnc,SAAAoc,KAAA5nB,EAAA6nB,eAAiG/kB,IAAKglB,MAAA9nB,EAAA+S,YAAApL,SAAA3H,EAAA+S,gBAAoD,GAAA3S,EAAA,OAAgBE,YAAA,cAAwBN,EAAAyB,GAAA,8BAAArB,EAAA,SAAmDE,YAAA,kBAAAC,OAAqCgC,KAAA,OAAAwlB,YAAA,uCAAkEnlB,UAAW3E,MAAA+B,EAAA2nB,cAAAzc,OAAgCpI,IAAKC,OAAA/C,EAAAgoB,iBAA0B5nB,EAAA,mBAAAA,EAAA,aAAAA,EAAA,6BAAAJ,EAAAmb,MACltB8M,MCDAC,GAAM,WAAgB,IAAAloB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAF,EAAA,cAAAI,EAAA,OAAqC0C,IAAIsB,MAAA,SAAA4U,GAAkD,OAAzBA,EAAA8E,kBAAyB9d,EAAAmoB,cAAAnP,OAAmC5Y,EAAA,KAAUE,YAAA,SAAmBF,EAAA,SAAAJ,EAAAyB,GAAA,wBAAAzB,EAAAkb,GAAAlb,EAAA6H,cAAAlM,QAAA,cAAAyE,EAAA,OAAsGG,OAAOC,GAAA,yBAA4BJ,EAAA,MAAWG,OAAOC,GAAA,kBAAqBJ,EAAA,MAAWE,YAAA,2BAAqCF,EAAA,aAAkBgoB,OAAOnqB,MAAA+B,EAAA,cAAAqoB,SAAA,SAAAC,GAAmDtoB,EAAA6H,cAAAygB,GAAsBC,WAAA,kBAA6BvoB,EAAA4a,GAAA5a,EAAA,uBAAA4Q,GAAmD,OAAAxQ,EAAA,OAAiB7B,IAAAqS,EAAApQ,GAAAF,YAAA,8BAA4DF,EAAA,SAAc0a,IAAAlK,EAAApQ,GAAAwa,UAAA,EAAA1a,YAAA,eAAAkoB,OAAoEC,WAAAzoB,EAAA0f,sBAAAtH,SAAAxH,EAAApQ,KAAmEE,aAAcK,MAAA,SAAgBR,OAAQgC,KAAA,OAAAwlB,YAAA,2BAAsDnlB,UAAW3E,MAAA2S,EAAA1F,OAA2BpI,IAAKsB,MAAA,SAAA4U,GAAyBA,EAAA8E,kBAAyB9d,EAAA0oB,QAAA1P,EAAApI,IAAkC7N,OAAA,SAAAiW,GAA2BhZ,EAAA2oB,qBAAA3P,EAAApI,IAA+CgY,MAAA,SAAA5P,GAA0B,gBAAAA,IAAAhZ,EAAA6oB,GAAA7P,EAAA8P,QAAA,WAAA9P,EAAAza,IAAA,SAAgF,YAAeyB,EAAA2oB,qBAAA3P,EAAApI,OAAiDxQ,EAAA,qBAA0BM,aAAac,YAAA,SAAoBjB,OAAQ4D,MAAA,oBAA4BrB,IAAKsB,MAAA,SAAA4U,GAAyBA,EAAA8E,kBAAyB9d,EAAA+oB,mBAAAnY,EAAApQ,SAA0C,OAAM,SAAAR,EAAAmb,MACz/C6N,MCwDJC,IACA9lB,SAAYrH,OAAAsH,EAAA,KAAAtH,IACZA,OAAAuH,EAAA,KAAAvH,CAAA,iBACA6rB,cAAA,mBACAjI,sBAAA,6BAGA5jB,OAAAuH,EAAA,KAAAvH,CAAA,eACAqW,oBAAA,sBACAD,wBAAA,0BACAD,sBAAA,2BAMApK,eACAhK,IADA,WAEA,IAAAmK,EAAA/H,KAAA0nB,cACA,OAAA3f,GAAA/H,KAAAgS,sBAAAjK,IAEAkhB,IALA,SAKAlT,GACA,IAAAhO,EAAA/H,KAAA0nB,cACA1nB,KAAAuQ,qBACAxI,UACAH,cAAAmO,QAKAxS,QAAW1H,OAAAsH,EAAA,KAAAtH,IACXA,OAAAuH,EAAA,KAAAvH,CAAA,eACAsU,mBAAA,qBACAI,oBAAA,wBAGA1U,OAAAuH,EAAA,KAAAvH,CAAA,iBACAiM,mBAAA,qBACAgB,oBAAA,yBAOAggB,mBAfA,SAeA9gB,GACA,IAAAD,EAAA/H,KAAA0nB,cAGArO,EAAAtC,IAAAC,IAAAhX,KAAAsZ,KAAA/Y,GAAAyH,IACAqR,EAAAuG,WAAA,GACAvG,EAAAzQ,SAGA5I,KAAAkpB,OAAA9J,OAAA,kCACArX,UACAC,mBAIAhI,KAAAkpB,OAAA9J,OAAA,uCACApX,oBAOAmhB,cAtCA,WAuCA,IAAAxJ,EAAA5I,IAAAC,IAAAhX,KAAAsZ,KAAA/Y,GAAAP,KAAA0nB,gBACA/H,EAAAC,WAAA,IAMAwJ,2BA9CA,WA8CA,IAAArR,EAAA/X,KACAA,KAAAyf,sBAAAlR,QAAA,SAAAvG,GACA,IAAAqR,EAAAtC,IAAAC,IAAAe,EAAAuB,KAAA/Y,GAAAyH,IACAqR,EAAAuG,WAAA,KAIA5f,KAAA8I,qBAAAnB,OAAA3H,KAAA0nB,iBAMAQ,cA3DA,WA4DAloB,KAAAopB,6BACA,IAAA1b,EAAAqJ,IAAAC,IAAAhX,KAAAsZ,KAAA/Y,GAAAP,KAAA0nB,gBACAha,EAAAkS,WAAAC,eAAA,KAQA4I,QAtEA,SAsEAhlB,EAAAkN,GACAlN,EAAA4U,SAAArY,KAAAopB,6BACAppB,KAAAmpB,gBACAnpB,KAAA8H,oBAAAE,eAAA2I,EAAApQ,MAQAmoB,qBAjFA,SAiFAjlB,EAAAkN,GAEAlN,EAAAC,OAAA1F,QAAA2S,EAAA1F,OAEAjL,KAAAmQ,oBACAvC,QAAA+C,EAAApQ,GACA+P,SAAA7M,EAAAC,OAAA1F,YC9K2XqrB,GAAA,GCQvXC,cAAYztB,OAAAgI,EAAA,KAAAhI,CACdwtB,GACApB,GACAc,IACF,EACA,KACA,WACA,OAIAO,GAASxlB,QAAAC,OAAA,0BACM,IAAAwlB,GAAAD,WCpBXE,GAAM,WAAgB,IAAAzpB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiB0a,IAAA,YAAc1a,EAAA,OAAYE,YAAA,gBAA0BN,EAAAyB,GAAA,oBAAArB,EAAA,OAAuCE,YAAA,aAAAwC,IAA6BsB,MAAApE,EAAAyoB,cAAwBroB,EAAA,aAAkBgoB,OAAOnqB,MAAA+B,EAAA,UAAAqoB,SAAA,SAAAC,GAA+CtoB,EAAA0pB,UAAApB,GAAkBC,WAAA,cAAyBvoB,EAAA4a,GAAA5a,EAAA,mBAAA4B,GAAsC,OAAAxB,EAAA,OAAiB7B,IAAAqD,EAAAtB,YAAA,OAAAkoB,OAAkCmB,QAAA/nB,IAAA5B,EAAA4pB,eAAoC5pB,EAAAyB,GAAA,aAAAzB,EAAAkb,GAAAtZ,GAAA,cAAAxB,EAAA,qBAAwEM,aAAac,YAAA,QAAA0jB,QAAA,OAAoC3kB,OAAQ4D,MAAA,gBAAwBrB,IAAKsB,MAAA,SAAA4U,GAAyBhZ,EAAA6pB,iBAAAjoB,QAA4B,MAAMxB,EAAA,SAAeG,OAAOkc,IAAA,eAAmBrc,EAAA,SAAc0a,IAAA,WAAAva,OAAsBC,GAAA,YAAA+B,KAAA,OAAA/E,KAAA,YAAAuqB,YAAA,aAA4EnlB,UAAW3E,MAAA+B,EAAA8pB,SAAoBhnB,IAAK+V,MAAA7Y,EAAA+pB,QAAAhnB,OAAA/C,EAAAgT,OAAA4V,MAAA,SAAA5P,GAAiE,iBAAAA,IAAAhZ,EAAA6oB,GAAA7P,EAAA8P,QAAA,gBAAA9P,EAAAza,KAAA,uBAAmHyB,EAAAgqB,qBAAAhR,GAAf,YAAyD,MAC1lCiR,MCqDJC,IACA/uB,KADA,WAEA,OAEAyuB,YAAA,KAEAE,QAAA,KAGA3mB,SAAYrH,OAAAsH,EAAA,KAAAtH,IACZA,OAAAuH,EAAA,KAAAvH,CAAA,cACAquB,QAAA,YAGAruB,OAAAuH,EAAA,KAAAvH,CAAA,iBACAsuB,gBAAA,qBAGAtuB,OAAAuH,EAAA,KAAAvH,CAAA,eACA+V,aAAA,kBAMA6X,WACA7rB,IADA,WAEA,IAAA8P,EAAA1N,KAAA4R,aAAA5R,KAAAmqB,iBACA,OAAAzc,KAAA1B,MAGAid,IANA,SAMAlT,GACA/V,KAAA+Q,mBAAAhJ,QAAA/H,KAAAmqB,gBAAAne,KAAA+J,QAIAxS,QAAW1H,OAAAsH,EAAA,KAAAtH,IACXA,OAAAuH,EAAA,KAAAvH,CAAA,eACAoS,cAAA,gBACAW,mBAAA,qBACAmC,kBAAA,sBAGAlV,OAAAuH,EAAA,KAAAvH,CAAA,cACAuuB,YAAA,YAOArX,OAfA,SAeAtP,GACA,IAAA9B,EAAA8B,EAAAC,OAAA1F,MACA+J,EAAA/H,KAAAmqB,gBACAnqB,KAAAiO,eAAAlG,UAAApG,QACA3B,KAAAoqB,aAAAzoB,QAEA3B,KAAA6pB,QAAA,IAMArB,WA3BA,WA4BA,IAAA6B,EAAArqB,KAAAqd,MAAAiN,SACAD,EAAAE,SAOAT,QApCA,SAoCArmB,GACAzD,KAAA6pB,QAAApmB,EAAAC,OAAA1F,MACAgC,KAAA2pB,YAAA,MAOAC,iBA7CA,SA6CAjoB,GACA,IAAAoG,EAAA/H,KAAAmqB,gBACAxoB,GAAA3B,KAAA4O,oBAAA7G,UAAApG,SAMAooB,qBArDA,WAuDA,OAAA/pB,KAAA6pB,QAAAnuB,OAAA,CAGA,UAAAsE,KAAA2pB,YAAA,CACA,IAAA5hB,EAAA/H,KAAAmqB,gBAMA,OALAnqB,KAAA4O,oBAAA7G,UAAApG,IAAA3B,KAAA2pB,cAEA3pB,KAAA2pB,YAAA,UAEA3pB,KAAAqd,MAAAiN,SAAAC,QAKA,IAAAve,EAAAhM,KAAAypB,UACAe,EAAAxe,EAAAjN,OAAA,MACAyrB,IACAxqB,KAAA2pB,YAAAa,QClKiXC,GAAA,GCQ7WC,cAAY7uB,OAAAgI,EAAA,KAAAhI,CACd4uB,GACAjB,GACAQ,IACF,EACA,KACA,WACA,OAIAU,GAAS5mB,QAAAC,OAAA,gBACM,IAAA4mB,GAAAD,WCpBXE,GAAM,WAAgB,IAAA7qB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,UAAkBA,EAAA,OAAYE,YAAA,aAAuBN,EAAAyB,GAAA,0BAAAzB,EAAAkP,gBAAA,OAAA9O,EAAA,OAA0EE,YAAA,OAAAC,OAA0BC,GAAA,oBAAwBR,EAAA4a,GAAA5a,EAAA,yBAAAiP,EAAAZ,GAAwD,OAAAjO,EAAA,OAAiB7B,IAAA8P,EAAA/N,YAAA,2BAAAI,aAA8DY,aAAA,SAAoBlB,EAAA,sBAA2BE,YAAA,iBAAAC,OAAoCqnB,KAAA5nB,EAAA8qB,oBAAA7sB,MAAAgR,EAAAtQ,SAAA+oB,mBAAA,yBAAwG5kB,IAAKglB,MAAA,SAAA9O,GAAyBhZ,EAAA+qB,oBAAA9b,EAAA+J,IAA2CrR,SAAA,SAAAqR,GAA6BhZ,EAAA+qB,oBAAA9b,EAAA+J,OAA6C5Y,EAAA,sBAA2BE,YAAA,iBAAAC,OAAoCqnB,KAAA5nB,EAAAgrB,gBAAA/b,EAAAtQ,UAAAV,MAAAgR,EAAAhR,MAAAypB,mBAAA,yBAAqH5kB,IAAKglB,MAAA,SAAA9O,GAAyBhZ,EAAAirB,qBAAAhc,EAAA+J,IAA4CrR,SAAA,SAAAqR,GAA6BhZ,EAAAirB,qBAAAhc,EAAA+J,OAA8C5Y,EAAA,UAAeE,YAAA,MAAAC,OAAyBgC,KAAA,SAAA/E,KAAA,UAAgCsF,IAAKsB,MAAA,SAAA4U,GAAyBhZ,EAAAkrB,gBAAA7c,OAA6BjO,EAAA,qBAA0BM,aAAac,YAAA,SAAoBjB,OAAQ4D,MAAA,uBAA6B,UAAUnE,EAAAmb,KAAA/a,EAAA,OAAsBE,YAAA,6BAAuCF,EAAA,sBAA2BE,YAAA,iBAAAC,OAAoCtC,MAAA+B,EAAAmrB,cAAAvD,KAAA5nB,EAAA8qB,oBAAApD,mBAAA,yBAAuG5kB,IAAKglB,MAAA,SAAA9O,GAAyBhZ,EAAAmrB,cAAAnS,GAA2BrR,SAAA,SAAAqR,GAA6BhZ,EAAAmrB,cAAAnS,MAA6B5Y,EAAA,sBAA2BE,YAAA,iBAAAC,OAAoCtC,MAAA+B,EAAAorB,WAAAxD,KAAA5nB,EAAAgrB,gBAAAhrB,EAAAmrB,eAAAzD,mBAAA,yBAAmH5kB,IAAKglB,MAAA,SAAA9O,GAAyBhZ,EAAAorB,WAAApS,GAAwBrR,SAAA,SAAAqR,GAA6BhZ,EAAAorB,WAAApS,MAA0B5Y,EAAA,UAAeE,YAAA,MAAAC,OAAyBgC,KAAA,SAAA/E,KAAA,UAAgCsF,IAAKsB,MAAApE,EAAA6S,gBAA0BzS,EAAA,qBAA0BM,aAAac,YAAA,SAAoBjB,OAAQ4D,MAAA,kBAAwB,UACxkEknB,MC0FJC,IACAnwB,KADA,WAEA,OAEAgwB,cAAA,GAEAC,WAAA,KAGAjoB,SAAYrH,OAAAsH,EAAA,KAAAtH,IACZA,OAAAuH,EAAA,KAAAvH,CAAA,cACAgvB,oBAAA,gBACAS,mBAAA,cAGAzvB,OAAAuH,EAAA,KAAAvH,CAAA,iBACAsuB,gBAAA,qBAGAtuB,OAAAuH,EAAA,KAAAvH,CAAA,eACAgW,mBAAA,wBAMA5C,gBAjBA,WAkBA,IAAAlH,EAAA/H,KAAAmqB,gBACA,OAAApiB,GAAA/H,KAAA6R,mBAAA9J,MAGAxE,QAAW1H,OAAAsH,EAAA,KAAAtH,IACXA,OAAAuH,EAAA,KAAAvH,CAAA,cACA0vB,kBAAA,eACAC,iBAAA,cACAC,cAAA,aAGA5vB,OAAAuH,EAAA,KAAAvH,CAAA,eACAkS,oBAAA,sBACAW,yBAAA,2BACAe,gBAAA,qBAMAmD,aAhBA,WAiBA5S,KAAA0rB,UAAA,WACA,IAAA3jB,EAAA/H,KAAAmqB,gBACAzrB,EAAAsB,KAAAkrB,cACAltB,EAAAgC,KAAAmrB,WAEAzsB,GAAAV,IAEAgC,KAAA+N,qBAAAhG,UAAArJ,WAAAV,UACAgC,KAAAurB,mBAAA7sB,WAAAV,UACAgC,KAAAkrB,cAAA,GACAlrB,KAAAmrB,WAAA,OAQAF,gBAnCA,SAmCA7c,GACA,IAAArG,EAAA/H,KAAAmqB,gBACAnqB,KAAA0O,0BAAA3G,UAAAqG,WAQA2c,gBA7CA,SA6CArsB,GACA,OAAAsB,KAAAsrB,mBAAA5sB,IAQAosB,oBAtDA,SAsDA9b,EAAAa,GACA,IAAA9H,EAAA/H,KAAAmqB,gBACAnqB,KAAAyP,iBACA1H,UACA4H,QAAAX,EAAAtQ,SACAkR,SAAAZ,EAAAhR,MACA6R,UACAC,SAAAd,EAAAhR,QAEAgC,KAAAurB,mBAAA7sB,SAAAmR,EAAA7R,MAAAgR,EAAAhR,SAQAgtB,qBAvEA,SAuEAhc,EAAAc,GACA,IAAA/H,EAAA/H,KAAAmqB,gBACAnqB,KAAAyP,iBACA1H,UACA4H,QAAAX,EAAAtQ,SACAkR,SAAAZ,EAAAhR,MACA6R,QAAAb,EAAAtQ,SACAoR,aAEA9P,KAAAurB,mBAAA7sB,SAAAsQ,EAAAtQ,SAAAV,MAAA8R,QC1MuX6b,GAAA,GCQnXC,cAAY/vB,OAAAgI,EAAA,KAAAhI,CACd8vB,GACAf,GACAQ,IACF,EACA,KACA,WACA,OAIAQ,GAAS9nB,QAAAC,OAAA,sBACM,IAAA8nB,GAAAD,WC0BfE,IACAC,YACAC,sBAAAzC,GACA0C,YAAAtB,GACAuB,kBAAAL,IAEA3oB,SAAYrH,OAAAsH,EAAA,KAAAtH,IACZA,OAAAuH,EAAA,KAAAvH,CAAA,iBACAsuB,gBAAA,qBAGAtuB,OAAAuH,EAAA,KAAAvH,CAAA,eACA+V,aAAA,iBAGA/V,OAAAuH,EAAA,KAAAvH,CAAA,cACA+rB,cAAA,iBAMAF,cAhBA,WAiBA,OAAA1nB,KAAAmqB,iBAAAnqB,KAAA4R,aAAA5R,KAAAmqB,oBAGA5mB,QAAW1H,OAAAsH,EAAA,KAAAtH,IACXA,OAAAuH,EAAA,KAAAvH,CAAA,eACAyT,iBAAA,mBACAyB,kBAAA,sBAGAlV,OAAAuH,EAAA,KAAAvH,CAAA,cACAswB,iBAAA,iBAOArZ,YAdA,SAcAvH,GACAvL,KAAAsP,kBACA/D,WACAxD,QAAA/H,KAAAmqB,kBAEAnqB,KAAAmsB,kBAAA5gB,cAOAwc,YA1BA,SA0BAtkB,GACAzD,KAAA+Q,mBACAhJ,QAAA/H,KAAAmqB,gBACAlf,MAAAxH,EAAAC,OAAA1F,YCrGoWouB,GAAA,GCQhWC,cAAYxwB,OAAAgI,EAAA,KAAAhI,CACduwB,GACA5E,GACAQ,IACF,EACA,KACA,WACA,OAIAqE,GAASvoB,QAAAC,OAAA,kBACM,IAAAuoB,GAAAD,WCpBXE,GAAM,WAAgB,IAAAxsB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,UAAkBA,EAAA,OAAYE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,YAAsBF,EAAA,qBAA0BM,aAAac,YAAA,QAAAiY,MAAA,SAAoClZ,OAAQ4D,MAAA,kBAAwB,GAAA/D,EAAA,OAAgBE,YAAA,qBAA+BF,EAAA,KAAUG,OAAOc,KAAA,OAAYjB,EAAA,SAAcE,YAAA,gBAA0BN,EAAAyB,GAAA,oBAAArB,EAAA,SAAyC0a,IAAA,OAAAxa,YAAA,aAAAC,OAA2CgC,KAAA,OAAA4iB,OAAA,yBAA+CriB,IAAKC,OAAA/C,EAAAysB,cAAuBrsB,EAAA,QAAAJ,EAAAyB,GAAA,gBAAArB,EAAA,KAA8C0a,IAAA,OAAAva,OAAkBc,KAAA,KAAWyB,IAAKsB,MAAA,SAAA4U,GAAyBhZ,EAAA0sB,WAAA,MAAuBtsB,EAAA,SAAAJ,EAAAyB,GAAA,UAAArB,EAAA,QAAAJ,EAAAyB,GAAA,gBAAArB,EAAA,KAAyEG,OAAOc,KAAA,KAAWyB,IAAKsB,MAAApE,EAAA2sB,gBAA0B3sB,EAAAyB,GAAA,oCAAAzB,EAAA,UAAAI,EAAA,cAA8E0C,IAAI8pB,MAAA,SAAA5T,GAAyBhZ,EAAA0sB,WAAA,MAAwB1sB,EAAAmb,MAAA,IACv6B0R,MCDWC,eACbtvB,KAAM,cACN+E,KAAM,MACNwqB,SAEIvvB,KAAM,SACN+E,KAAM,SACNwqB,QACExqB,KAAM,MACNwqB,SAEIvvB,KAAM,OACN+E,KAAM,WAGN/E,KAAM,MACN+E,KAAM,WAGN/E,KAAM,OACN+E,KAAM,MACNwqB,SAEIvvB,KAAM,QACN+E,KAAM,WAGN/E,KAAM,SACN+E,KAAM,WAGN/E,KAAM,cACN+E,KAAM,WAGN/E,KAAM,eACN+E,KAAM,WAGN/E,KAAM,aACN+E,KAAM,aAKV/E,KAAM,SACN+E,KAAM,OACNwqB,QACExqB,KAAM,YAIR/E,KAAM,aACN+E,KAAM,WAGN/E,KAAM,mBACN+E,KAAM,WAGN/E,KAAM,UACN+E,KAAM,cAMZ/E,KAAM,SACN+E,KAAM,SACNwqB,QACExqB,KAAM,MACNwqB,SAEIvvB,KAAM,KACN+E,KAAM,WAGN/E,KAAM,QACN+E,KAAM,WAGN/E,KAAM,OACN+E,KAAM,WAGN/E,KAAM,WACN+E,KAAM,WAGN/E,KAAM,SACN+E,KAAM,OACNwqB,QACExqB,KAAM,YAIR/E,KAAM,OACN+E,KAAM,MACNwqB,SAEIxqB,KAAM,SACN/E,KAAM,MAGN+E,KAAM,SACN/E,KAAM,MAGN+E,KAAM,SACN/E,KAAM,OAGN+E,KAAM,SACN/E,KAAM,OAGN+E,KAAM,SACN/E,KAAM,OAGN+E,KAAM,SACN/E,KAAM,OAGN+E,KAAM,SACN/E,KAAM,MAGN+E,KAAM,SACN/E,KAAM,UAGN+E,KAAM,SACN/E,KAAM,MAGN+E,KAAM,SACN/E,KAAM,aAKVA,KAAM,aACN+E,KAAM,OACNwqB,QACExqB,KAAM,MACNwqB,SAEIvvB,KAAM,MACN+E,KAAM,WAGN/E,KAAM,WACN+E,KAAM,WAGN/E,KAAM,QACN+E,KAAM,cAMZ/E,KAAM,OACN+E,KAAM,OACNwqB,QACExqB,KAAM,YAIR/E,KAAM,gBACN+E,KAAM,OACNwqB,QACExqB,KAAM,YAIR/E,KAAM,oBACN+E,KAAM,WAGN/E,KAAM,YACN+E,KAAM,WAGN/E,KAAM,mBACN+E,KAAM,cAMZ/E,KAAM,gBACN+E,KAAM,SACNwqB,QACExqB,KAAM,MACNwqB,SAEIvvB,KAAM,KACN+E,KAAM,WAGN/E,KAAM,KACN+E,KAAM,WAGN/E,KAAM,KACN+E,KAAM,WAGN/E,KAAM,QACN+E,KAAM,cAMZ/E,KAAM,aACN+E,KAAM,aC1NGyqB,IACbxvB,KAAM,aACN+E,KAAM,MACNwqB,SAEIvvB,KAAM,WACN+E,KAAM,MACNwqB,SAEIvvB,KAAM,kBACN+E,KAAM,WAGN/E,KAAM,SACN+E,KAAM,YAGN/E,KAAM,mBACN+E,KAAM,cAKV/E,KAAM,eACN+E,KAAM,WAGN/E,KAAM,kBACN+E,KAAM,WAGN/E,KAAM,oBACN+E,KAAM,YChCG0qB,IACbzvB,KAAM,aACN+E,KAAM,MACNwqB,SAEIvvB,KAAM,aACN+E,KAAM,OACNwqB,QACExqB,KAAM,YAIR/E,KAAM,aACN+E,KAAM,SACNwqB,QACExqB,KAAM,OACNwqB,QACExqB,KAAM,aAKV/E,KAAM,aACN+E,KAAM,OACNwqB,QACExqB,KAAM,YAIR/E,KAAM,OACN+E,KAAM,OACNwqB,QACExqB,KAAM,aChCV2qB,GAAM,WAAgB,IAAAltB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,cAAwBG,OAAO/C,KAAA,WAAgBwC,EAAA,eAAAI,EAAA,yBAAmD0C,IAAI8pB,MAAA,SAAA5T,GAAyBhZ,EAAA2jB,MAAA,UAAmBwJ,KAAA,SAAAnU,GAAyBhZ,EAAAotB,YAAApU,OAA0B5Y,EAAA,sBAA2BG,OAAOtC,MAAA+B,EAAAqtB,cAAArtB,EAAAstB,UAAAC,IAAAvtB,EAAAstB,UAA2DxqB,IAAK8pB,MAAA,SAAA5T,GAAyBhZ,EAAAwtB,gBAAA,GAA0B3U,MAAA,SAAAG,GAA0BhZ,EAAAytB,OAAAzU,EAAAhZ,EAAAstB,eAAmC,IAC5eI,gCCOG,SAASvmB,GAAa0N,GAC3B,IAAI8Y,EAAiB9Y,EAAM/N,QAAQ,4BAC/B8mB,EAAgB/Y,EAAM/N,QAAQ,2BAC9B+mB,EAAgBhZ,EAAM/N,QAAQ,2BAElC,OACEqO,cAAewY,EACf5Y,aAAc6Y,EACdvY,aAAcwY,GAOX,SAASC,GAAeC,GAAU,IAE7BC,EAGND,EAHF3gB,OACa6gB,EAEXF,EAFFG,YACYC,EACVJ,EADFnb,WAIEA,EAAaub,EAAYtX,OAAO,SAACC,EAAKd,GAExC,OADAc,EAAIjb,KAAKma,EAAIxY,MACNsZ,OAGL1J,KACAxF,KAGJomB,EAAQxf,QAAQ,SAACd,EAAOW,GACtBjB,EAAOM,EAAM0gB,WAAa,IAAItkB,GAC5BtJ,GAAI6N,EACJ7Q,KAAMkQ,EAAM0gB,UACZ7pB,MACExD,MAAO2M,EAAM3M,MACbJ,OAAQ+M,EAAM/M,OACd6J,YAAakD,EAAM3M,MACnB0J,aAAciD,EAAM/M,OACpB8D,WAAY,OAMlBwpB,EAAazf,QAAQ,SAAA6f,GAAc,IAC3B7tB,EAAkD6tB,EAAlD7tB,GAAI8tB,EAA8CD,EAA9CC,SAAUC,EAAoCF,EAApCE,YAAaC,EAAuBH,EAAvBG,aAAcC,EAASJ,EAATI,KAE3ClsB,EAAkC,IAA3BisB,EAAa,GAAG7yB,OAAeoG,EAASC,EAE/C8J,EAAS,KAETC,EAAO,KAPsB2iB,EAAA5yB,OAAA6yB,GAAA,KAAA7yB,CAQL2yB,EARK,GAQ5BjiB,EAR4BkiB,EAAA,GAQzBjiB,EARyBiiB,EAAA,GAQtB3tB,EARsB2tB,EAAA,GAQf/tB,EARe+tB,EAAA,GASjC,GAAInsB,IAASR,EAAQ,KAAA6sB,EAAA9yB,OAAA6yB,GAAA,KAAA7yB,CACJ0yB,EAAa,GADT,GACd3jB,EADc+jB,EAAA,GACV7jB,EADU6jB,EAAA,GAEnB9iB,GAAUjB,EAAIE,EAAIpK,EAAS,GAC3BoL,GAASlB,KAAIE,KAAIhK,QAAOJ,SAAQ+L,EAAG3L,EAAO4L,EAAGhM,QAE7CmL,kBAAa0iB,EAAa,IAC1BziB,GAASS,IAAGC,IAAG1L,QAAOJ,SAAQ+L,EAAG3L,EAAO4L,EAAGhM,GAG7C,IAAIgN,EAAQ,IAAIvC,GACd5K,aAAO+B,EAAP,KAAAssB,OAAeP,EAAf,KAAAO,OAA2BruB,GAC3BgL,SAAUoH,EAAW2b,GACrBziB,SACAvJ,OACAwJ,SAEFnE,EAAO+F,EAAMnN,IAAMmN,EAEnB,IAAImhB,EAAYd,EAAQM,GAAUF,UAC9B1gB,EAAQN,EAAO0hB,GACnBphB,EAAM9F,OAAO/L,KAAK8R,EAAMnN,MAEtBkN,EAAMvD,aAGV,IAAIoK,GACFY,eACE/H,SACAxF,UAEFyN,cACEzC,eAIJ,OAAO2B,EAGF,SAASwa,GAAc5zB,GAC5B,IAAI6zB,EAAU3nB,EAAQ,QAClBtD,GACFkrB,gBAAgB,EAChBC,SAAS,EACTC,eAAe,GAGb3yB,EAASwyB,EAAQI,OAAOj0B,EAAM4I,GAE9BsrB,EAAU7yB,EAAO6yB,QAEjBjiB,EAASiiB,EAAQjiB,OAAOM,MAExBN,EAAO6I,cAAgBC,QAAO9I,GAAUA,IAG5C,IAAI4gB,KACAsB,KACA1O,KACA2O,EAAc,EAElBniB,EAAOoB,QAAQ,SAAAlJ,GAAyC,IAAvBohB,EAAuBphB,EAAtCkqB,YAAe9I,KAAuB+I,EAAAnqB,EAAfqd,WAAe,IAAA8M,OAClD/hB,EAAQ,IAAI5D,GAAQtM,KAAMkpB,EAAMlmB,GAAI+uB,MAEpC3nB,KAEA8nB,EAAc,EAEd/M,EAAI1M,cAAgBC,QAAOyM,GAAOA,IAEtCA,EAAInU,QACF,SAAA7I,GAIM,IAAAgqB,EAAAhqB,EAHJ6pB,YAAoB/iB,EAGhBkjB,EAHW7Z,IAActJ,EAGzBmjB,EAHmB/Z,KAAgBlJ,EAGnCijB,EAH4B5uB,MAAkB4L,EAG9CgjB,EAHsChvB,OACjCivB,EAELjqB,EAFJuF,MAAS0kB,MAELC,EAAAlqB,EADJmqB,YACI,IAAAD,OACAxhB,EAAQqhB,IACRnd,EAAY7E,EAAMlN,GAAK,IAAM6N,EAE7BV,EAAQ,IAAIvC,GACd5K,GAAIsB,EAAY,IAAMyQ,EACtBrH,MAAO0kB,GAAS9tB,EAAY,IAAMuM,EAClC9L,KAAMT,EACNiK,MAAQS,IAAGC,IAAGC,IAAGC,KACjBb,QAASU,EAAGC,EAAGC,EAAGC,KAIhB9E,KAEAkoB,EAAqB,EAErBD,EAAK7Z,cAAgBC,QAAO4Z,GAAQA,IAExCA,EAAKthB,QAAQ,SAAA1I,GAAuC,IAAAkqB,EAAAlqB,EAApC0pB,YAAkB3kB,EAAkBmlB,EAArBxjB,EAAUzB,EAAWilB,EAAdvjB,EAChC4B,EAAQ0hB,IACRE,EAAS1d,EAAY,IAAMlE,EAC3BuC,EAAe,IAAIjG,GACrBE,KACAE,KACAvK,GAAIyB,EAAQ,IAAMguB,EAClB/kB,MAAOjJ,EAAQ,IAAMoM,IAGvBxG,EAAchM,KAAK+U,EAAapQ,IAEhCogB,EAAehQ,EAAapQ,IAAMoQ,IAIpCjD,EAAM9B,kBAAoBkkB,EAE1BpiB,EAAM9F,cAAgBA,EAEtBD,EAAO/L,KAAK8R,EAAMnN,IAElB8uB,EAAQ3hB,EAAMnN,IAAMmN,IAIxBD,EAAMvD,WAAaulB,EAEnBhiB,EAAM9F,OAASA,EAEfomB,EAAQtgB,EAAMlQ,MAAQkQ,IAGxB,IAAI6G,GACFnH,OAAQ4gB,EACRpmB,OAAQ0nB,EACRznB,cAAe+Y,EACfvT,WAAYkiB,GAGd,OAAOhb,EAOF,SAAS2b,GAAarb,GAC3B,IAAIsb,EAAO9oB,EAAQ,QAEfkN,EAAYpN,GAAa0N,GAEzBub,GACF7tB,KAAM,MACNwqB,QAASsD,GAAgBC,GAAeC,KAGtCC,EAAcL,EAAKM,YAAYL,GAC/BM,EAAcP,EAAKQ,UAAUH,EAAajc,GAE9C,OAAOmc,EAOF,SAASE,GAAgB/b,GAC9B,IAAIgc,4aAcAtc,EAAYpN,GAAa0N,GAEzBic,EAAM,GAjB2BC,EAkBGxc,EAAU,eAA5CnH,EAlB+B2jB,EAkB/B3jB,OAAQxF,EAlBuBmpB,EAkBvBnpB,OAAQC,EAlBekpB,EAkBflpB,cAEtB/L,OAAO4V,OAAOtE,GAAQoB,QAAQ,SAAAd,GAC5BojB,kCACiBpjB,EAAMlQ,KADvB,YAIAkQ,EAAM9F,OAAO4G,QAAQ,SAAAxG,GACnB,IAAI2F,EAAQ/F,EAAOI,GACf2a,EAAMhV,EAAM5B,KAChB+kB,iCACcnO,EAAIlW,EADlB,YAAAoiB,OAC8BlM,EAAInW,EADlC,aAAAqiB,OAC+ClM,EAAIjW,EADnD,cAAAmiB,OACiElM,EAAIhW,EADrE,yBAAAkiB,OAEajnB,EAAOI,GAASkD,OAAStD,EAAOI,GAASzF,KAFtD,YAIAoL,EAAM9F,cAAc2G,QAAQ,SAAAvG,GAC1B,IAAI+oB,EAAKnpB,EAAcI,GACvB6oB,qCACgBE,EAAGxwB,GADnB,SAAAquB,OAC6B9hB,KAAKC,MAAMgkB,EAAGnmB,IAD3C,SAAAgkB,OACsD9hB,KAAKC,MACzDgkB,EAAGjmB,IAFL,SAKF+lB,gCAKFA,8BAKF,IAAIG,kCAIJ,OAAOJ,EAAcC,EAAMG,EAQtB,SAASC,GAAgBrc,EAAO7M,GACrC,IAAIuM,EAAYpN,GAAa0N,GACzBjN,EAAS2M,EAAU,eAAe3M,OAClC+F,EAAQ/F,EAAOI,GACf7M,kCACMwS,EAAM9F,cAAclM,OAD1B,SAKAkM,EAAgB0M,EAAU,eAAe1M,cAQ7C,OAPA8F,EAAM9F,cAAc2G,QAAQ,SAAAvG,GAC1B,IAAI2I,EAAe/I,EAAcI,GACjC9M,aAAW4R,KAAKC,MAAM4D,EAAa/F,IAAnC,KAAAgkB,OAA0C9hB,KAAKC,MAAM4D,EAAa7F,IAAlE,QAGF5P,GAAQ,IAEDA,EAOF,SAASg2B,GAAiBtc,GAAO,IAAAuc,EAEwBjqB,GAC5D0N,GADmBO,EAFiBgc,EAEhC,eAAyCC,EAFTD,EAEL,cAGnBpD,EAA6B5Y,EAArChI,OAAyBkiB,EAAYla,EAApBxN,OACLumB,EAAgBkD,EAA5Bze,WAGNub,EAAYtyB,KAAK,iBAEjB,IAAIkyB,GACF3gB,UACA8gB,eACAtb,cACArQ,KAAM,aAIJ4H,EAAa,EAsEjB,OArEArO,OAAO4V,OAAOsc,GAASxf,QAAQ,SAACd,EAAOL,GAErC,IAAI7P,EAAOkQ,EAAMlQ,KACjBuwB,EAAS3gB,OAAOvR,MACduyB,UAAW5wB,EACXmD,OAAQ+M,EAAMnJ,KAAK5D,OACnBI,MAAO2M,EAAMnJ,KAAKxD,MAClBP,GAAI6M,IAINK,EAAM9F,OAAO4G,QAAQ,SAAAxG,GACnB,IAAI2F,EAAQ2hB,EAAQtnB,GAChBspB,EAAO,EACPxlB,KACA6B,EAAMpL,OAASP,GACjB8J,kBAAa6B,EAAM7B,QACnBwlB,EAAOC,GAASzlB,IACP6B,EAAMpL,OAASR,GACxB+J,GAAU6B,EAAM7B,OAAO,GAAI6B,EAAM7B,OAAO,IACxCwlB,EAAO3jB,EAAM7B,OAAO,GAAK6B,EAAM7B,OAAO,GAAKiB,KAAKykB,IACvC7jB,EAAMpL,OAAST,GACxBgK,GAEE6B,EAAM7B,OAAO,GACb6B,EAAM7B,OAAO,GAEb6B,EAAM7B,OAAO,GAAK6B,EAAM7B,OAAO,GAC/B6B,EAAM7B,OAAO,GAEb6B,EAAM7B,OAAO,GAAK6B,EAAM7B,OAAO,GAC/B6B,EAAM7B,OAAO,GAAK6B,EAAM7B,OAAO,GAE/B6B,EAAM7B,OAAO,GACb6B,EAAM7B,OAAO,GAAK6B,EAAM7B,OAAO,IAEjCwlB,EAAOC,GAASzlB,IAEhBoW,QAAQC,MAAM,gBAIhB,IAAIoM,EAAc5gB,EAAMnC,SACpB2iB,EAAYsD,QAAQ9jB,EAAMnC,UAC1B2iB,EAAYxyB,OAAS,EAjCK+1B,EAoCA/jB,EAAM5B,KAA9BS,EApCwBklB,EAoCxBllB,EAAGC,EApCqBilB,EAoCrBjlB,EAAG1L,EApCkB2wB,EAoClB3wB,MAAOJ,EApCW+wB,EAoCX/wB,OACnBotB,EAASG,YAAYryB,MACnB2E,GAAI2J,IACJmkB,SAAUjhB,EACVkhB,cACAC,cAAe1iB,GACfwlB,OACA7C,MAAOjiB,EAAGC,EAAG1L,EAAOJ,GACpBgxB,QAAS,EACTC,OAAQ,QAKdzD,EAAY3f,QAAQ,SAAChD,EAAU6C,GAC7B0f,EAASnb,WAAW/W,MAClB2E,GAAI6N,EACJ7Q,KAAMgO,EACNqmB,cAAe,WAIZC,KAAKnB,UAAU5C,GAQjB,SAASgE,GAAeld,GAC7B,IAyGImd,EAAIC,EAAIC,EAAIC,EAAIzlB,EAAGC,EAAGylB,EAAG/N,EAAGgO,EAAIC,EAzGhC/d,EAAYpN,GAAa0N,GADO0d,EAGOhe,EAAU,eAAvCyZ,EAHsBuE,EAG9BnlB,OAAyBkiB,EAHKiD,EAGb3qB,OACnB4qB,GACFhnB,SAAU,EACVgB,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,GAED8lB,GACF,SACA,UACA,MACA,aACA,WACA,MACA,QACA,QACA,OACA,gBACA,eACA,YACA,gBACA,QACA,OACA,MACA,MACA,QACA,QACA,MACA,WACA,OACA,QACA,UACA,WACA,WACA,UACA,MACA,WACA,UACA,OACA,YACA,cACA,OACA,eACA,iBACA,aACA,YACA,gBACA,SACA,aACA,MACA,OACA,QACA,QACA,OACA,SACA,QACA,WACA,SACA,WACA,SACA,UACA,QACA,QACA,OACA,QACA,QACA,eACA,MACA,eACA,SACA,KACA,SACA,QACA,SACA,WACA,aACA,YACA,OACA,UACA,OACA,eACA,OACA,QACA,OACA,WACA,aACA,aACA,aACA,aACA,WACA,gBACA,MACA,iBACA,YACA,UACA,MACA,WACA,SACA,SACA,UACA,SAkCF,OA9BA32B,OAAO4V,OAAOsc,GAASxf,QAAQ,SAAAd,GAC7BhB,EAAIgB,EAAMnJ,KAAKxD,MACf4L,EAAIe,EAAMnJ,KAAK5D,OAEf+M,EAAM9F,OAAO4G,QAAQ,SAAAkkB,GACnB,IAAI/kB,EAAQ2hB,EAAQoD,GAChB/kB,EAAMpL,MAAQT,IAChBkwB,EAAKrkB,EAAM7B,OAAO,GAClBmmB,EAAKtkB,EAAM7B,OAAO,GAClBomB,EAAKvkB,EAAM7B,OAAO,GAAK6B,EAAM7B,OAAO,GACpCqmB,EAAKxkB,EAAM7B,OAAO,GAAK6B,EAAM7B,OAAO,GACpCsmB,GAAKJ,EAAKE,GAAM,EAAIxlB,EACpB2X,GAAK4N,EAAKE,GAAM,EAAIxlB,EACpB0lB,GAAMH,EAAKF,GAAMtlB,EACjB4lB,GAAMH,EAAKF,GAAMtlB,EAGjB6lB,GACEhnB,SAAUinB,EAAQ92B,OAClB6Q,EAAG4lB,EACH3lB,EAAG4X,EACH3X,EAAG2lB,EACH1lB,EAAG2lB,QAMXpQ,QAAQyQ,IAAI72B,OAAO4V,OAAO8gB,GAAMI,KAAK,OAGnCC,QAAS/2B,OAAO4V,OAAO8gB,GAAMI,KAAK,KAClCH,QAASA,GASb,SAASlB,GAASuB,GAIhB,IAHA,IAAIxB,EAAO,EACPyB,EAAYD,EAAOn3B,OAEdF,EAAI,EAAGA,EAAIs3B,EAAWt3B,GAAK,EAAG,CAErC,IAAIu3B,GAASv3B,EAAI,GAAKs3B,EACtBzB,GAAQwB,EAAOr3B,GAAKq3B,EAAOE,EAAQ,GAAKF,EAAOr3B,EAAI,GAAKq3B,EAAOE,GAEjE,OAAOjmB,KAAKkmB,IAAI3B,EAAO,GCpjBlB,IAAM4B,IACXC,KAAM,QACNC,SAAU,OACVC,SAAU,OACVC,UAAW,QACXC,QAAS,QCLPC,GAAM,WAAgB,IAAAxzB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,eAAyBF,EAAA,OAAYE,YAAA,gBAAAC,OAAmCkzB,KAAA,cAAmBrzB,EAAA,OAAYE,YAAA,oBAA8BF,EAAA,OAAYE,YAAA,iBAA2BF,EAAA,MAAWE,YAAA,gBAA0BN,EAAAyB,GAAA,eAAArB,EAAA,UAAqCE,YAAA,kBAAAC,OAAqCgC,KAAA,SAAA/E,KAAA,UAAgCsF,IAAKsB,MAAA,SAAA4U,GAAyBhZ,EAAA2jB,MAAA,aAAqB3jB,EAAAyB,GAAA,+BAAArB,EAAA,OAAkDE,YAAA,eAAyBF,EAAA,MAAWE,YAAA,qBAA+BF,EAAA,MAAWE,YAAA,oBAA8BF,EAAA,UAAeE,YAAA,MAAAC,OAAyBgC,KAAA,UAAgBO,IAAKsB,MAAA,SAAA4U,GAAyBhZ,EAAA6b,SAAA7b,EAAA0zB,KAAAP,UAA8BnzB,EAAAyB,GAAA,kDAAArB,EAAA,MAAoEE,YAAA,oBAA8BF,EAAA,UAAeE,YAAA,MAAAC,OAAyBgC,KAAA,UAAgBO,IAAKsB,MAAA,SAAA4U,GAAyBhZ,EAAA6b,SAAA7b,EAAA0zB,KAAAN,cAAkCpzB,EAAAyB,GAAA,8CAAArB,EAAA,MAAgEE,YAAA,oBAA8BF,EAAA,UAAeE,YAAA,MAAAC,OAAyBgC,KAAA,UAAgBO,IAAKsB,MAAA,SAAA4U,GAAyBhZ,EAAA6b,SAAA7b,EAAA0zB,KAAAL,cAAkCrzB,EAAAyB,GAAA,8CAAArB,EAAA,MAAgEE,YAAA,oBAA8BF,EAAA,UAAeE,YAAA,MAAAC,OAAyBgC,KAAA,UAAgBO,IAAKsB,MAAA,SAAA4U,GAAyBhZ,EAAA6b,SAAA7b,EAAA0zB,KAAAJ,eAAmCtzB,EAAAyB,GAAA,+CAAAzB,EAAAS,GAAA,GAAAL,EAAA,MAA2EE,YAAA,oBAA8BF,EAAA,UAAeE,YAAA,MAAAC,OAAyBgC,KAAA,UAAgBO,IAAKsB,MAAA,SAAA4U,GAAyBhZ,EAAA6b,SAAA7b,EAAA0zB,KAAAH,aAAiCvzB,EAAAyB,GAAA,wEAC7kDkyB,IAAe,WAAiB,IAAA3zB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,MAAgBE,YAAA,oBAA8BF,EAAA,UAAeE,YAAA,MAAAC,OAAyBgC,KAAA,YAAiBvC,EAAAyB,GAAA,sDCDtMmyB,GAAM,WAAgB,IAAA5zB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,eAAyBF,EAAA,OAAYE,YAAA,gBAAAC,OAAmCkzB,KAAA,cAAmBrzB,EAAA,OAAYE,YAAA,oBAA8BN,EAAAS,GAAA,GAAAL,EAAA,OAAsBE,YAAA,eAAyBF,EAAA,SAAcG,OAAOkc,IAAA,eAAmBrc,EAAA,SAAcE,YAAA,eAAAkoB,OAAkCrG,MAAAniB,EAAA6zB,WAAuBtzB,OAAQgC,KAAA,OAAA/E,KAAA,aAAiCoF,UAAW3E,MAAA+B,EAAA8zB,UAAqBhxB,IAAK+V,MAAA7Y,EAAA+pB,eAAqB3pB,EAAA,OAAgBE,YAAA,iBAA2BF,EAAA,UAAeE,YAAA,gCAAAC,OAAmDgC,KAAA,SAAA/E,KAAA,SAAAu2B,eAAA,SAAuDjxB,IAAKsB,MAAA,SAAA4U,GAAyBhZ,EAAA2jB,MAAA,aAAqB3jB,EAAAyB,GAAA,kCAAArB,EAAA,UAAwDE,YAAA,8BAAAC,OAAiDgC,KAAA,SAAA/E,KAAA,UAAgCsF,IAAKsB,MAAApE,EAAAg0B,eAAyBh0B,EAAAyB,GAAA,4CAC12BwyB,IAAe,WAAiB,IAAAj0B,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA2BF,EAAA,MAAWE,YAAA,gBAA0BN,EAAAyB,GAAA,mBCwDpLyyB,IACAjX,OAEAhf,OACAsE,KAAA2a,OACAiX,UAAA,GAGA5G,KACAhrB,KAAA2a,OACAiX,UAAA,IAGAh5B,KAbA,WAcA,OAEA24B,SAAA7zB,KAAAhC,MAAAgC,KAAAstB,IAEAsG,WAAA,IAGArwB,SAMAumB,QANA,SAMArmB,GACAA,EAAAC,OAAA1F,MAAAtC,SACAsE,KAAA4zB,WAAA,GAEA5zB,KAAA6zB,SAAApwB,EAAAC,OAAA1F,OAOA+1B,YAjBA,WAkBA/zB,KAAAm0B,iBAAAn0B,KAAA6zB,SAAAn4B,OAKAsE,KAAA0jB,MAAA,QAAA1jB,KAAA6zB,UAEA7zB,KAAA4zB,WAAA,GAQA3b,UAjCA,SAiCAxU,GACA,WAAAA,EAAAnF,KAIA0B,KAAA0jB,MAAA,UAQAyQ,cA9CA,WA+CA,MACA,mBAAAC,KAAAp0B,KAAA6zB,WACA7zB,KAAA6zB,SAAAQ,SAAAr0B,KAAAstB,OAIAxP,QA1EA,WA4EI3H,GAAJtT,GAAAoU,SAAA,QAAAjX,KAAAiY,YAEAM,cA9EA,WAgFIpC,GAAJK,IAAAS,SAAA,QAAAjX,KAAAiY,aCzI0Xqc,GAAA,GCQtXC,cAAY14B,OAAAgI,EAAA,KAAAhI,CACdy4B,GACAX,GACAK,IACF,EACA,KACA,WACA,OAIAO,GAASzwB,QAAAC,OAAA,yBACM,IAAAywB,GAAAD,WCoEfE,IACA1I,YACA2I,qBAAAF,IAEAt5B,KAJA,WAKA,OAEAy5B,YAAA,KAGAzxB,SAAYrH,OAAAsH,EAAA,KAAAtH,IACZA,OAAAuH,EAAA,KAAAvH,CAAA,eACA6xB,eAAA,eACArqB,cAAA,qBAGAxH,OAAAuH,EAAA,KAAAvH,CAAA,cACA8xB,cAAA,iBAGA9xB,OAAAuH,EAAA,KAAAvH,CAAA,cACA+xB,cAAA,iBAGA/xB,OAAAuH,EAAA,KAAAvH,CAAA,iBACA2N,iBAAA,sBAMAiqB,KArBA,WAsBA,OAAAR,MAGA1vB,SAKAqxB,gBALA,SAKAC,GAEA70B,KAAA20B,YAAAE,GAOA5c,UAdA,SAcAxU,GACA,WAAAA,EAAAnF,KAIA0B,KAAA0jB,MAAA,UAQA9H,SA3BA,SA2BAkZ,GACA,OAAAA,GACA,KAAA7B,GAAAG,SACA,IAAA1L,EAAA1nB,KAAAwJ,iBACA,OAAAke,GAUA1nB,KAAA0jB,MAAA,OAAAoR,IACA,QAVA90B,KAAA40B,gBACA,yDAWA,KAAA3B,GAAAI,UACA,KAAAJ,GAAAE,SACA,KAAAF,GAAAC,KACA,KAAAD,GAAAK,QAMA,OADAtzB,KAAA0jB,MAAA,OAAAoR,IACA,EACA,QACA,YAIAhX,QA9FA,WAgGI3H,GAAJtT,GAAAoU,SAAA,QAAAjX,KAAAiY,YAEAM,cAlGA,WAoGIpC,GAAJK,IAAAS,SAAA,QAAAjX,KAAAiY,aC5L6X8c,GAAA,GCQzXC,cAAYn5B,OAAAgI,EAAA,KAAAhI,CACdk5B,GACAxB,GACAG,IACF,EACA,KACA,WACA,OAIAsB,GAASlxB,QAAAC,OAAA,4BACM,IAAAkxB,GAAAD,WCafE,GAAAr4B,EAAA,QAMAs4B,IACApJ,YACAqJ,wBAAAH,GACAP,qBAAAF,IAEAt5B,KALA,WAKA,IAAAm6B,EACA,OAEAjI,eAAAiI,KAAAx5B,OAAA6B,EAAA,KAAA7B,CAAAw5B,EACApC,GAAAC,KAAA,mBADAr3B,OAAA6B,EAAA,KAAA7B,CAAAw5B,EAEApC,GAAAE,SAAA,aAFAt3B,OAAA6B,EAAA,KAAA7B,CAAAw5B,EAGApC,GAAAG,SAAA,aAHAv3B,OAAA6B,EAAA,KAAA7B,CAAAw5B,EAIApC,GAAAI,UAAA,SAJAx3B,OAAA6B,EAAA,KAAA7B,CAAAw5B,EAKApC,GAAAK,QAAA,WALA+B,GAQAhI,SAAA,KAEAE,gBAAA,IAGArqB,SAAYrH,OAAAsH,EAAA,KAAAtH,IACZA,OAAAuH,EAAA,KAAAvH,CAAA,iBACAsuB,gBAAA,sBAGA5mB,SAKA+xB,gBALA,SAKAjI,GACArtB,KAAAu1B,kBAAAlI,GACArtB,KAAAw1B,sBACAx1B,KAAAy1B,sBAMAD,oBAdA,WAeA,IAAAlhB,EAAApN,GAAAlH,KAAAkpB,QACA/T,EAAAb,EAAA,eAEAtU,KAAA01B,IAAAjyB,OACAkyB,cAAA,gBACAC,YAAA,OACAC,WAAA,GAAAjH,OAAA/yB,OAAA0V,KAAA4D,EAAAhI,QAAAzR,OAAA,aAGAsE,KAAA01B,IAAAjyB,OACAkyB,cAAA,gBACAC,YAAA,OACAC,WAAA,GAAAjH,OAAA/yB,OAAA0V,KAAA4D,EAAAxN,QAAAjM,OAAA,aAGAsE,KAAA01B,IAAAjyB,OACAkyB,cAAA,iBACAC,YAAA,OACAC,WAAA,GAAAjH,OACA/yB,OAAA0V,KAAA4D,EAAAvN,eAAAlM,OADA,sBASA+5B,mBA1CA,WA0CA,IAAA1d,EAAA/X,KACAsU,EAAApN,GAAAlH,KAAAkpB,QACA7T,EAAAf,EAAA,cAEAe,EAAA1C,WAAApE,QAAA,SAAAhD,GACAwM,EAAA2d,IAAAjyB,OACAkyB,cAAA,WACAC,YAAA,OACAC,WAAAtqB,OAQAgqB,kBA1DA,SA0DAlI,GACArtB,KAAA01B,IAAAjyB,OACAkyB,cAAA,WACAC,YAAA,OACAC,WAAAxI,KAUAyI,SAxEA,SAwEA56B,EAAA24B,EAAAvxB,GAAA,IAAAyzB,EAAAzwB,UAAA5J,OAAA,QAAA6J,IAAAD,UAAA,GAAAA,UAAA,WACA0wB,EAAA,IAAAC,MAAA/6B,IACAoH,OAAA,YAAAyzB,IAEAb,GAAA1H,OAAAwI,EAAAnC,IAQAqC,YApFA,SAoFA7I,GACA,OAAAxxB,OAAA4V,OAAAwhB,IAAA9a,SAAAkV,IAQAG,OA7FA,SA6FAqG,EAAAxG,GAKA,GAJArtB,KAAAqtB,SAAA,KACArtB,KAAAutB,gBAAA,EAGAvtB,KAAAk2B,YAAA7I,GAMA,OADArtB,KAAAs1B,gBAAAjI,GACAA,GACA,KAAA4F,GAAAC,KACAlzB,KAAAm2B,WAAAtC,GACA,MAEA,KAAAZ,GAAAE,SACAnzB,KAAAo2B,cAAAvC,GACA,MAEA,KAAAZ,GAAAG,SACApzB,KAAAq2B,cAAAxC,GACA,MAEA,KAAAZ,GAAAI,UACArzB,KAAAs2B,eAAAzC,GACA,MAEA,KAAAZ,GAAAK,QACAtzB,KAAAu2B,WAAA1C,GACA,MAEA,QACA5R,QAAAC,MAAA,4CA3BAD,QAAAC,MAAA,GAAA0M,OAAAvB,EAAA,oBAoCAiJ,eAvIA,SAuIAzC,GACA,IAAA/F,EAAAoD,GAAAlxB,KAAAkpB,QACAlpB,KAAA81B,SAAAhI,EAAA+F,EAAA,qBAOAwC,cAhJA,SAgJAxC,GACA,IAAA2C,EAAAvF,GAAAjxB,KAAAkpB,OAAAlpB,KAAAmqB,iBACAnqB,KAAA81B,SAAAU,EAAA3C,EAAA,eAOAuC,cAzJA,SAyJAvC,GACA,IAAA4C,EAAA9F,GAAA3wB,KAAAkpB,QACAlpB,KAAA81B,SAAAW,EAAA,mBAAA7H,OAAAiF,GAAA,aAOAsC,WAlKA,SAkKAtC,GACA,IAAA1D,EAAAF,GAAAjwB,KAAAkpB,QACAlpB,KAAA81B,SAAA3F,EAAA0D,EAAA,qBAQA0C,WA5KA,SA4KA1C,GAAA,IAAA6C,EACA5E,GAAA9xB,KAAAkpB,QAAA0J,EADA8D,EACA9D,QAEA5yB,KAAA81B,SAAAlD,EAAA,GAAAhE,OAAAiF,GAAA,eAQA1G,YAvLA,SAuLAE,GACArtB,KAAAqtB,WACArtB,KAAAutB,gBAAA,KC1PkXoJ,GAAA,GCQ9WC,cAAY/6B,OAAAgI,EAAA,KAAAhI,CACd86B,GACA1J,GACAQ,IACF,EACA,KACA,WACA,OAIAmJ,GAAS9yB,QAAAC,OAAA,iBACM,IAAA8yB,GAAAD,WC6CfE,IACA/K,YACAgL,aAAAF,IAEA37B,KAJA,WAKA,OAEAuxB,WAAA,IAGAlpB,QAAW1H,OAAAsH,EAAA,KAAAtH,IACXA,OAAAuH,EAAA,KAAAvH,CAAA,cACAm7B,cAAA,SAGAn7B,OAAAuH,EAAA,KAAAvH,CAAA,eACAo7B,eAAA,SAEAp7B,OAAAuH,EAAA,KAAAvH,CAAA,cACAq7B,cAAA,UAOAC,YAhBA,SAgBAj8B,GACA,IAAAoZ,EAAAwa,GAAA5zB,GACA8E,KAAAi3B,eAAA3iB,IAOA8iB,aAzBA,SAyBAl8B,GACA,IAAAoZ,EAAAuZ,GAAAgE,KAAAwF,MAAAn8B,IACA8E,KAAAi3B,eAAA3iB,EAAA,gBACAtU,KAAAk3B,cAAA5iB,EAAA,gBAOAgjB,gBAnCA,SAmCAp8B,GACA,IAAAg1B,EAAArzB,EAAA,QAEAszB,GACA7tB,KAAA,MACAwqB,QAAAD,GAAAE,GAAAC,KAGAuD,EAAAL,EAAAM,YAAAL,GACAoH,EAAArH,EAAAmH,MAAA9G,EAAAr1B,GAEA8E,KAAAg3B,cAAAO,EAAA,eACAv3B,KAAAi3B,eAAAM,EAAA,gBACAv3B,KAAAk3B,cAAAK,EAAA,gBAGA7K,aAnDA,WAoDAzK,QAAAyQ,IAAA,iBAOAlG,SA3DA,SA2DA/oB,GAAA,IAAAsU,EAAA/X,KACA4Y,EAAAnV,EAAAsjB,WACA,GAAAnO,EAAAoO,OAAApO,EAAAoO,MAAA,IACA,IAAAwQ,EAAA5e,EAAAoO,MAAA,GAEAL,EAAA,IAAAC,WACAD,EAAAL,OAAA,SAAApF,GACAsW,EAAAj6B,KAAA82B,SAAA,SACAtc,EAAAqf,aAAAlW,EAAAxd,OAAAnH,QACAi7B,EAAAj6B,KAAA82B,SAAApB,GAAAC,MACAnb,EAAAuf,gBAAApW,EAAAxd,OAAAnH,QACAi7B,EAAAj6B,KAAA82B,SAAA,QACAtc,EAAA0f,QAAAvW,EAAAxd,OAAAnH,QACAi7B,EAAAj6B,KAAA82B,SAAA,QACAtc,EAAAof,YAAAjW,EAAAxd,OAAAnH,QAEA0lB,QAAAyQ,IAAA,kBAIA/L,EAAA+Q,WAAA9e,EAAAoO,MAAA,IAEApO,EAAA5a,MAAA,MAOAia,UAxFA,SAwFAxU,GAEA,MAAAA,EAAAnF,KAAA,MAAAmF,EAAAnF,KACAmF,EAAAihB,UACAjhB,EAAA2U,SACA3U,EAAA4U,QAMA,MAAA5U,EAAAnF,KAAA,MAAAmF,EAAAnF,KACAmF,EAAAihB,UACAjhB,EAAA2U,SACA3U,EAAA4U,UAEArY,KAAAqd,MAAA6P,KAAA/oB,QACAV,EAAAma,iBACAna,EAAAoa,oBAXA7d,KAAAqd,MAAAsa,KAAAxzB,QACAV,EAAAma,iBACAna,EAAAoa,sBAaAC,QAxHA,WA0HI3H,GAAJtT,GAAAoU,SAAA,UAAAjX,KAAAiY,YAEAM,cA5HA,WA8HIpC,GAAJK,IAAAS,SAAA,UAAAjX,KAAAiY,aC/L6V2f,GAAA,GCQzVC,cAAYh8B,OAAAgI,EAAA,KAAAhI,CACd+7B,GACArL,GACAK,IACF,EACA,KACA,WACA,OAIAiL,GAAS/zB,QAAAC,OAAA,WACM,IAAA+zB,GAAAD,WCpBXE,GAAM,WAAgB,IAAAh4B,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,SAA6B63B,aAAaz6B,KAAA,OAAA06B,QAAA,SAAAj6B,MAAA+B,EAAA,KAAAuoB,WAAA,WAAkEvoB,EAAAyB,GAAA,SAAAzB,EAAAkb,GAAAlb,EAAAwM,GAAA,KAAAxM,EAAAkb,GAAAlb,EAAAyM,GAAA,aACjM0rB,MCaJC,IACAj9B,KADA,WAEA,OAEAqR,EAAA,EAEAC,EAAA,EAEA4rB,MAAA,IAGA70B,SAIA80B,kBAJA,WAKAr4B,KAAAo4B,MAAA,EACAp4B,KAAAuM,EAAA,EACAvM,KAAAwM,EAAA,GAMA8rB,oBAbA,SAaA/rB,EAAAC,GACAxM,KAAAo4B,MAAA,EACAp4B,KAAAuM,IACAvM,KAAAwM,MAGAsR,QA9BA,WAkCImB,GAAJsZ,IAAA,aAAAv4B,KAAAs4B,qBACIrZ,GAAJsZ,IAAA,cAAAv4B,KAAAq4B,oBAEA9f,cArCA,WAyCI0G,GAAJuZ,KAAA,aAAAx4B,KAAAs4B,qBACIrZ,GAAJuZ,KAAA,cAAAx4B,KAAAq4B,qBCxD0WI,GAAA,GCQtWC,cAAY78B,OAAAgI,EAAA,KAAAhI,CACd48B,GACAV,GACAG,IACF,EACA,KACA,KACA,OAIAQ,GAAS50B,QAAAC,OAAA,wBACM,IAAA40B,GAAAD,WCpBXE,GAAM,WAAgB,IAAA74B,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAF,EAAA,KAAAI,EAAA,cAAmCG,OAAO/C,KAAA,WAAgB4C,EAAA,OAAYE,YAAA,eAAyBF,EAAA,OAAYE,YAAA,gBAAAC,OAAmCkzB,KAAA,cAAmBrzB,EAAA,OAAYE,YAAA,oBAA8BF,EAAA,OAAYE,YAAA,iBAA2BF,EAAA,MAAWE,YAAA,gBAA0BN,EAAAyB,GAAA,gBAAArB,EAAA,OAAmCE,YAAA,eAAyBN,EAAAyB,GAAA,uFAAArB,EAAA,OAA0GE,YAAA,iBAA2BF,EAAA,UAAeE,YAAA,gCAAAC,OAAmDgC,KAAA,SAAA/E,KAAA,SAAAu2B,eAAA,SAAuDjxB,IAAKsB,MAAApE,EAAA84B,cAAwB94B,EAAAyB,GAAA,kCAAArB,EAAA,UAAwDE,YAAA,8BAAAC,OAAiDgC,KAAA,SAAA/E,KAAA,UAAgCsF,IAAKsB,MAAApE,EAAA+4B,eAAyB/4B,EAAAyB,GAAA,6CAAAzB,EAAAmb,MAC12B6d,MCiDJC,IACA99B,KADA,WAEA,OAEAk9B,MAAA,EACA9jB,UAAA,OAGApR,SAAYrH,OAAAsH,EAAA,KAAAtH,IACZA,OAAAuH,EAAA,KAAAvH,EACAo9B,eAAA,uBAGA11B,SAKA21B,kBALA,WAMA,IAAAC,EAAAn5B,KAAAi5B,eACAE,IACAn5B,KAAAo4B,MAAA,EACAp4B,KAAAsU,UAAA6kB,IAMAN,WAfA,WAgBA74B,KAAAo4B,MAAA,EACA7jB,aAAA+M,SAMAwX,YAvBA,WAwBA94B,KAAAo4B,MAAA,EACAp4B,KAAAkpB,OAAA9J,OAAA,mBAAA9K,UAAAtU,KAAAsU,cAGAwJ,QAzCA,WA6CA9d,KAAAk5B,sBC/FqWE,GAAA,GCQjWC,cAAYx9B,OAAAgI,EAAA,KAAAhI,CACdu9B,GACAR,GACAG,IACF,EACA,KACA,WACA,OAIAM,GAASv1B,QAAAC,OAAA,mBACM,IAAAu1B,GAAAD,WC0CfE,IACAxN,YACAjH,YACA0U,eAAAjS,GACAtJ,WACAwb,UAAAjf,GACAkf,cAAApN,GACAqN,WAAA7B,GACA8B,iBAAAN,GACAO,cAAAlB,IAEAz9B,KAXA,WAYA,OACA0F,YACAC,gBC5E8Ti5B,GAAA,GCQ1TC,cAAYl+B,OAAAgI,EAAA,KAAAhI,CACdi+B,GACAh6B,EACAqB,GACF,EACA,KACA,KACA,OAIA44B,GAASj2B,QAAAC,OAAA,UACM,IAAAi2B,GAAAD,WCpBTE,GAAM7yB,EAAQ,QACpBA,EAAQ,QACRA,EAAQ,QACRA,EAAQ,QACRA,EAAQ,QAEO,IAAA8yB,IACbC,QAAS,SAAAjmB,GACPA,EAAIpY,UAAUwd,KAAO2gB,6BCRrBG,GAAM,WAAgB,IAAAr6B,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,SAA6B0a,IAAA,QAAA0N,MAAAxoB,EAAA0nB,kBAAAnnB,OAA+CgC,KAAA,OAAA+3B,WAAAt6B,EAAA+nB,aAA2CnlB,UAAW3E,MAAA+B,EAAAu6B,MAAiBz3B,IAAK03B,KAAAx6B,EAAAy6B,YAAAr2B,MAAA,SAAA4U,GAAgDhZ,EAAA06B,iBAAA,GAA2B7hB,MAAA7Y,EAAA+pB,QAAA4Q,SAAA,SAAA3hB,GAAiD,gBAAAA,IAAAhZ,EAAA6oB,GAAA7P,EAAA8P,QAAA,QAAA9P,EAAAza,KAAA,iBAAsF,YAAeya,EAAA8E,kBAAyB9d,EAAA46B,eAAA,IAAsB,SAAA5hB,GAAkB,gBAAAA,IAAAhZ,EAAA6oB,GAAA7P,EAAA8P,QAAA,UAAA9P,EAAAza,KAAA,qBAA4F,YAAeya,EAAA8E,kBAAyB9d,EAAA46B,cAAA,IAAqB,SAAA5hB,GAAkB,iBAAAA,IAAAhZ,EAAA6oB,GAAA7P,EAAA8P,QAAA,WAAA9P,EAAAza,IAAA,SAA+FyB,EAAA66B,iBAAA7hB,GAAf,MAAmD,SAAAA,GAAkB,iBAAAA,IAAAhZ,EAAA6oB,GAAA7P,EAAA8P,QAAA,SAAA9P,EAAAza,IAAA,UAA8FyB,EAAA86B,WAAA9hB,GAAf,UAAgD5Y,EAAA,MAAW63B,aAAaz6B,KAAA,OAAA06B,QAAA,SAAAj6B,MAAA+B,EAAA06B,iBAAA16B,EAAA+6B,YAAAp/B,OAAA4sB,WAAA,0CAAsIzN,IAAA,cAAAxa,YAAA,aAAAkoB,MAAAxoB,EAAA0nB,kBAAAnnB,OAAgFy6B,SAAA,MAAgBl4B,IAAK6b,WAAA,SAAA3F,GAA8BhZ,EAAA2H,UAAA,KAAoB3H,EAAA4a,GAAA5a,EAAA,qBAAAi7B,EAAA5sB,GAAqD,OAAAjO,EAAA,MAAgB7B,IAAA8P,EAAA/N,YAAA,kBAAAkoB,OAA+CmB,QAAAtb,IAAArO,EAAA2H,UAAkC7E,IAAKsB,MAAApE,EAAA66B,iBAAAK,WAAA,SAAAliB,GAA2DhZ,EAAA2H,SAAA0G,MAAuBjO,EAAA,OAAAJ,EAAAyB,GAAA,aAAAzB,EAAAkb,GAAA+f,GAAA,sBACh/CE,MCwCJC,GAAAt+B,EAAA,QASAu+B,IACApe,OAEAyK,kBAAAxR,MAKAolB,QACA/4B,KAAAg5B,QACApe,SAAA,GAMAyK,MACArlB,KAAA2T,MACAiH,QAAA,WACA,WAIA4K,aACAxlB,KAAA2a,OACAC,QAAA,IAGAlf,OACAsE,KAAA2a,OACAC,QAAA,KAGAhiB,KAjCA,WAkCA,OAEAo/B,KAAAt6B,KAAAhC,MAEA0J,UAAA,EAEA+yB,iBAAA,IAGAv3B,UAIA43B,YAJA,WAIA,IAAA/iB,EAAA/X,KACA,OAAAA,KAAAq7B,OACAr7B,KAAA2nB,KAAA0T,OAAA,SAAAlzB,GAAA,OAAAA,EAAAgQ,SAAAJ,EAAAuiB,QADAt6B,KAAA2nB,MAOA4T,sBAZA,WAaA,OAAAJ,GAAAn7B,KAAAw7B,aAAA,OAGAj4B,SAKAi4B,aAAA,SAAAzlB,GAKA/V,KAAA0jB,MAAA,QAAA3N,IAQA0lB,QAlBA,SAkBArtB,GACA,OAAAA,IAAA,GAAAA,EAAApO,KAAA86B,YAAAp/B,QAOAi/B,cA1BA,SA0BAp4B,GACAvC,KAAAy6B,iBAAA,EAEA,IAAAiB,EAAA17B,KAAA0H,SAAAnF,EAEAvC,KAAAy7B,QAAAC,KAEA17B,KAAA0H,SAAAg0B,IAOA5R,QAxCA,SAwCArmB,GACA,IAAAzF,EAAAyF,EAAAC,OAAA1F,MACAyF,EAAAC,OAAA1F,MAAAtC,OACAsE,KAAAy6B,iBAAA,EAEAz6B,KAAAy6B,iBAAA,EAEAz6B,KAAAs6B,KAAAt8B,EACAgC,KAAAu7B,sBAAAv9B,IAQAw8B,YAxDA,SAwDA/2B,GAEAzD,KAAA27B,IAAAC,SAAAn4B,EAAAo4B,iBAIA77B,KAAA66B,aACA76B,KAAAu7B,sBAAAlZ,UAMAwY,WArEA,WAsEA76B,KAAA0H,UAAA,EACA1H,KAAAy6B,iBAAA,GAOAG,iBA9EA,SA8EAn3B,GAEAA,EAAAma,iBAEA,IAAAxP,EAAApO,KAAA0H,SACA,GAAA1H,KAAAy7B,QAAArtB,GAAA,CAGA,QAAAA,EAGA,OAFApO,KAAAu7B,sBAAAlZ,aACAriB,KAAA66B,aAKA76B,KAAAu7B,sBAAAO,SAEA,IAAA/lB,EAAA/V,KAAA86B,YAAA1sB,GACApO,KAAAs6B,KAAAvkB,EAKA/V,KAAA0jB,MAAA,WAAA3N,GAEA/V,KAAA66B,aACA76B,KAAAqd,MAAAzE,MAAA2R,WAGAnQ,OACApc,MADA,SACA+X,GAEA/V,KAAAs6B,KAAAvkB,KC3N2WgmB,GAAA,GCQvWC,cAAYngC,OAAAgI,EAAA,KAAAhI,CACdkgC,GACA3B,GACAc,IACF,EACA,KACA,WACA,OAIAc,GAASl4B,QAAAC,OAAA,yBACM,IAAAk4B,GAAAD,iGCSf9nB,OAAIC,IAAI+nB,MACN37B,GAAI,mBAEN2T,OAAIC,IAAIgoB,IAERC,cAAQvzB,IACNwzB,QACAC,QACAC,QACAC,QACAC,QACAC,QACAC,QACAC,QACAC,QACAC,QACAC,QACAC,QACAC,SAGF/oB,OAAItQ,UAAU,qBAAsBs5B,IACpChpB,OAAItQ,UAAU,YAAau5B,MAC3BjpB,OAAItQ,UAAU,oBAAqBw5B,uBAEnClpB,OAAImpB,OAAOC,eAAgB,EAE3B,IAAIppB,QACFU,SACA2oB,OAAQ,SAAA7wB,GAAA,OAAKA,EAAEstB,OACdwD,OAAO,gCC3DVtgC,EAAAD,QAAiBJ,EAAA8B,EAAuB,+DCAxC,IAAA8+B,EAAA5gC,EAAA,QAAA6gC,EAAA7gC,EAAA2B,EAAAi/B,GAA2gBC,EAAG,0BCA9gBxgC,EAAAD,QAAiBJ,EAAA8B,EAAuB,iECAxC,IAAAg/B,EAAA9gC,EAAA,QAAA+gC,EAAA/gC,EAAA2B,EAAAm/B,GAA+gBC,EAAG,mDCAlhB,IAAAhxB,GACAixB,eAAA,OACAC,cAAA,OACAC,oBAAA,OACAC,iBAAA,OACAC,aAAA,OACAC,aAAA,OACAC,aAAA,OACAC,cAAA,OACAC,gBAAA,OACAC,kBAAA,OACAC,eAAA,OACAC,gBAAA,QAIA,SAAAC,EAAAC,GACA,IAAAn+B,EAAAo+B,EAAAD,GACA,OAAA7hC,EAAA0D,GAEA,SAAAo+B,EAAAD,GACA,IAAAn+B,EAAAqM,EAAA8xB,GACA,KAAAn+B,EAAA,IACA,IAAA2gB,EAAA,IAAA0d,MAAA,uBAAAF,EAAA,KAEA,MADAxd,EAAA2d,KAAA,mBACA3d,EAEA,OAAA3gB,EAEAk+B,EAAAltB,KAAA,WACA,OAAA1V,OAAA0V,KAAA3E,IAEA6xB,EAAAK,QAAAH,EACAzhC,EAAAD,QAAAwhC,EACAA,EAAAl+B,GAAA,4CClCA,IAAAw+B,EAAAliC,EAAA,QAAAmiC,EAAAniC,EAAA2B,EAAAugC,GAAsfC,EAAG,0BCAzf9hC,EAAAD,QAAiBJ,EAAA8B,EAAuB,4DCAxC,IAAAsgC,EAAApiC,EAAA,QAAAqiC,EAAAriC,EAAA2B,EAAAygC,GAAmhBC,EAAG,0BCAthBhiC,EAAAD,QAAiBJ,EAAA8B,EAAuB,8GCAxC,IAAAwgC,EAAAtiC,EAAA,QAAAuiC,EAAAviC,EAAA2B,EAAA2gC,GAAkfC,EAAG,0BCArfliC,EAAAD,QAAiBJ,EAAA8B,EAAuB,6DCAxC,IAAA0gC,EAAAxiC,EAAA,QAAAyiC,EAAAziC,EAAA2B,EAAA6gC,GAAygBC,EAAG,gECA5gB,IAAAC,EAAA1iC,EAAA,QAAA2iC,EAAA3iC,EAAA2B,EAAA+gC,GAAyfC,EAAG,wBCA5ftiC,EAAAD,QAAiBJ,EAAA8B,EAAuB,oFCAxC,IAAA8gC,EAAA5iC,EAAA,QAAA6iC,EAAA7iC,EAAA2B,EAAAihC,GAA0gBC,EAAG,wBCA7gBxiC,EAAAD,QAAiBJ,EAAA8B,EAAuB,iDCAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,qFCAxC,IAAAghC,EAAA9iC,EAAA,QAAA+iC,EAAA/iC,EAAA2B,EAAAmhC,GAAueC,EAAG,+CCA1e1iC,EAAAD,QAAiBJ,EAAA8B,EAAuB,qECAxCzB,EAAAD,QAAiBJ,EAAA8B,EAAuB,2DCAxC,IAAAkhC,EAAAhjC,EAAA,QAAAijC,EAAAjjC,EAAA2B,EAAAqhC,GAAwfC,EAAG,qCCA3f,IAAAC,EAAAljC,EAAA,QAAAmjC,EAAAnjC,EAAA2B,EAAAuhC,GAA0fC,EAAG,mFCA7f,IAAAC,EAAApjC,EAAA,QAAAqjC,EAAArjC,EAAA2B,EAAAyhC,GAAggBC,EAAG","file":"js/app.826130a2.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal-select-savetype.vue?vue&type=style&index=0&id=66647dde&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal-select-savetype.vue?vue&type=style&index=0&id=66647dde&lang=css&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./restore-data.vue?vue&type=style&index=0&id=0d5de786&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./restore-data.vue?vue&type=style&index=0&id=0d5de786&lang=css&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-opacity.vue?vue&type=style&index=0&id=56f8afe0&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-opacity.vue?vue&type=style&index=0&id=56f8afe0&lang=css&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/rectangle.15d8e16b.svg\";","module.exports = __webpack_public_path__ + \"img/imglab_logo.786c0dcc.png\";","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal-get-filename.vue?vue&type=style&index=0&id=15fb87f9&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal-get-filename.vue?vue&type=style&index=0&id=15fb87f9&lang=css&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolbox.vue?vue&type=style&index=0&id=77755cd8&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolbox.vue?vue&type=style&index=0&id=77755cd8&lang=css&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-feature-point.vue?vue&type=style&index=0&id=54df26ca&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-feature-point.vue?vue&type=style&index=0&id=54df26ca&lang=css&scoped=true&\"","module.exports = \"data:image/png;base64,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\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"imglab\"},[_c('prompt-restore'),_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row overlay-color align-items-center\",attrs:{\"id\":\"menubar\"}},[_c('div',{staticClass:\"col-3 col-sm-2 col-md-1 col-xl-1 no-pl\"},[_c('app-menu')],1),_vm._m(0),_vm._m(1)]),_c('div',{staticClass:\"row\",staticStyle:{\"height\":\"95vh\"}},[_c('div',{staticClass:\"col-1 overlay-color grey-border\",attrs:{\"id\":\"toolbar\"}},[_c('toolbox',{attrs:{\"toolType\":_vm.LABEL_TAG}}),_c('toolbox',{staticClass:\"toolbox-border-top\",attrs:{\"toolType\":_vm.CANVAS_TAG}}),_c('mouse-coord')],1),_c('div',{staticClass:\"col-9 base-color\",staticStyle:{\"height\":\"100%\"}},[_c('div',[_c('actionbar',{staticStyle:{\"height\":\"10%\"}})],1),_c('div',{staticStyle:{\"height\":\"75%\"}},[_c('workarea')],1),_c('div',{staticClass:\"grey-border\",staticStyle:{\"height\":\"15%\",\"width\":\"100%\",\"margin\":\"0px 2px\"}},[_c('image-slider',{attrs:{\"thumbnail-width\":\"90px\"}})],1)]),_c('div',{staticClass:\"col-2 overlay-color grey-border\"},[_c('label-panel',{staticStyle:{\"flex\":\"1\",\"overflow\":\"auto\"}})],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-6 col-sm-6 col-md-7 col-xl-7 text-center\"},[_c('div',{staticClass:\"row justify-content-center align-content-center\"},[_c('a',{attrs:{\"href\":\"https://github.com/NaturalIntelligence/imglab\"}},[_c('img',{staticStyle:{\"margin-top\":\"2px\"},attrs:{\"src\":require(\"./assets/imglab_logo.png\"),\"height\":\"48px\"}}),_c('span',{staticStyle:{\"font-size\":\"2em\",\"margin-top\":\"5px\"}},[_vm._v(\"Img Lab\")])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-3 col-sm-4 col-md-4 col-xl-4\"},[_c('div',{staticClass:\"form-inline flex-row-reverse float-right\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.action,{tag:\"component\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const RECTANGLE = \"rect\";\r\nexport const CIRCLE = \"circle\";\r\nexport const POLYGON = \"polygon\";\r\nexport const POINT = \"point\";\r\nexport const MOVE = \"move\";\r\nexport const ZOOM = \"zoom\";\r\nexport const OPACITY = \"opacity\";\r\nexport const LABEL_TAG = \"label\";\r\nexport const CANVAS_TAG = \"canvas\";\r\nexport const SHAPE = \"shape\";\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"range-slider\"},[_c('input',{staticClass:\"input-range\",attrs:{\"type\":\"range\",\"step\":_vm.opacityStepSize,\"min\":\"0\",\"max\":\"1.0\"},domProps:{\"value\":_vm.imageOpacity},on:{\"change\":_vm.dispatch}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\r\n  <div class=\"range-slider\">\r\n      <input\r\n        class=\"input-range\"\r\n        type=\"range\"\r\n        :step=\"opacityStepSize\"\r\n        :value=\"imageOpacity\"\r\n        min=\"0\"\r\n        max=\"1.0\"\r\n        @change=\"dispatch\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from \"vuex\";\r\n\r\n/**\r\n * Sets image opacity through a slider\r\n */\r\nexport default {\r\n  computed: {\r\n    ...mapGetters(\"app-config\", {\r\n      opacityStepSize: \"getOpacityStepSize\"\r\n    }),\r\n\r\n    ...mapGetters(\"image-store\", {\r\n      imageSelected: \"getImageSelected\"\r\n    }),\r\n\r\n    /**\r\n     * Gets image opacity; default is 1\r\n     */\r\n    imageOpacity() {\r\n      return this.imageSelected ? this.imageSelected.opacity : 1;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"image-store\", {\r\n      updateImageDetail: \"updateImageDetail\"\r\n    }),\r\n\r\n    /**\r\n     * Generic method to set image opacity\r\n     * @param {Event} event - range slider value change\r\n     */\r\n    dispatch(event) {\r\n      // Set image opacity if image exists\r\n      if (this.imageSelected) {\r\n        this.updateImageDetail({ opacity: event.target.value });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-opacity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-opacity.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./action-opacity.vue?vue&type=template&id=56f8afe0&scoped=true&lang=html&\"\nimport script from \"./action-opacity.vue?vue&type=script&lang=js&\"\nexport * from \"./action-opacity.vue?vue&type=script&lang=js&\"\nimport style0 from \"./action-opacity.vue?vue&type=style&index=0&id=56f8afe0&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56f8afe0\",\n  null\n  \n)\n\ncomponent.options.__file = \"action-opacity.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"zoom-bar\"},[_c('div',{staticClass:\"zoom-button\"},[_c('font-awesome-icon',{staticStyle:{\"font-size\":\"1.5em\"},attrs:{\"icon\":['fas', 'search-plus']},on:{\"click\":_vm.zoomIn}})],1),_c('div',[_c('input',{attrs:{\"id\":\"zoom-scale\",\"type\":\"text\",\"maxlength\":\"4\",\"size\":\"4\",\"disabled\":\"\"},domProps:{\"value\":_vm.imageScale + '%'}})]),_c('div',{staticClass:\"zoom-button\"},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'search-minus']},on:{\"click\":_vm.zoomOut}})],1),_c('div',{staticClass:\"zoom-button\"},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'undo']},on:{\"click\":_vm.zoomReset}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const state = {\r\n  autosave: {\r\n    syncingInterval: 10 * 1000, //10 seconds\r\n    enable: true,\r\n    deleteIfExported: true //Mark the data as saved when exported as nimn format, and delte the copy from browser cache.\r\n  },\r\n  zoomStepSize: 0.1,\r\n  opacityStepSize: 0.1,\r\n  featurePointColor: \"#ee0000\"\r\n};\r\n\r\nconst mutations = {\r\n  /**\r\n   * Set zoom step size\r\n   * @param {number} zoomStepSize - zoom step size\r\n   */\r\n  setZoomStepSize(state, { zoomStepSize = 0.1 } = {}) {\r\n    state.zoomStepSize = zoomStepSize;\r\n  },\r\n\r\n  /**\r\n   * Set opacity step size\r\n   */\r\n  setOpacityStepSize(state, { opacityStepSize = 0.1 } = {}) {\r\n    state.opacityStepSize = opacityStepSize;\r\n  },\r\n\r\n  /**\r\n   * Set feature point color\r\n   * @param {string} featurePointColor - color of feature point, default color is red\r\n   */\r\n  setFeaturePointColor(state, { featurePointColor = \"#ee0000\" } = {}) {\r\n    state.featurePointColor = featurePointColor;\r\n  },\r\n\r\n  /**\r\n   * Set autosave config\r\n   * @param {number} synchingInterval - synchingInterval in milliseconds\r\n   * @param {boolean} enable\r\n   * @param {boolean} deleteIfExported\r\n   */\r\n  setAutoSave(\r\n    state,\r\n    { syncingInterval = 1, enable = true, deleteIfExported = true } = {}\r\n  ) {\r\n    state.autosave = {\r\n      syncingInterval,\r\n      enable,\r\n      deleteIfExported\r\n    };\r\n  },\r\n\r\n  init(\r\n    state,\r\n    {\r\n      autosave: {\r\n        syncingInterval = 10 * 1000, //10 seconds\r\n        enable = true,\r\n        deleteIfExported = true //Mark the data as saved when exported as nimn format, and delte the copy from browser cache.\r\n      },\r\n      zoomStepSize = 0.1,\r\n      opacityStepSize = 0.1,\r\n      featurePointColor = \"#ee0000\"\r\n    }\r\n  ) {\r\n    this.autosave = {\r\n      syncingInterval,\r\n      enable,\r\n      deleteIfExported\r\n    };\r\n    this.zoomStepSize = zoomStepSize;\r\n    this.opacityStepSize = opacityStepSize;\r\n    this.featurePointColor = featurePointColor;\r\n  }\r\n};\r\n\r\nconst getters = {\r\n  /**\r\n   * Returns the feature point color\r\n   */\r\n  getFeaturePointColor: state => {\r\n    return state.featurePointColor;\r\n  },\r\n\r\n  /**\r\n   * Returns the zoom step size\r\n   */\r\n  getZoomStepSize: state => {\r\n    return state.zoomStepSize;\r\n  },\r\n\r\n  /**\r\n   * Returns the opacity step size\r\n   */\r\n  getOpacityStepSize: state => {\r\n    return state.opacityStepSize;\r\n  },\r\n\r\n  /**\r\n   * Returns the current autosave config\r\n   * @returns {Object} - {\r\n   *   synchingInterval : number,\r\n   *   enable           : boolean,\r\n   *   deleteIfExported : boolean,\r\n   * }\r\n   */\r\n  getAutosave: state => {\r\n    return state.autosave;\r\n  },\r\n\r\n  /**\r\n   * Returns store data: Returns raw data\r\n   */\r\n  getStoreData: state => {\r\n    let cloneDeepWith = require(\"lodash.clonedeepwith\");\r\n    return cloneDeepWith(state);\r\n  }\r\n};\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  getters\r\n};\r\n","import { convertToArray, setAdd, setRemove } from \"../../utils/app\";\r\n\r\nconst state = {\r\n  copiedElements: [],\r\n  selectedTool: null,\r\n  selectedToolDom: null,\r\n  selected: {\r\n    shapes: [],\r\n    featurePoints: [],\r\n    lastShape: null\r\n  }\r\n};\r\n\r\nconst mutations = {\r\n  /**\r\n   * Adds shapes / featurePoints\r\n   * @param {String[]} shapes - array of shape ids\r\n   * @param {String[]} featurePoints - array of featurePoint ids\r\n   */\r\n  addSelectedElement(state, { shapeID, featurePointID }) {\r\n    if (shapeID) {\r\n      setAdd({ arr: state.selected.shapes, item: shapeID });\r\n      state.selected.lastShape = shapeID;\r\n    }\r\n\r\n    if (featurePointID) {\r\n      setAdd({ arr: state.selected.featurePoints, item: featurePointID });\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Adds a single copied shape\r\n   * @param {Shape} item\r\n   */\r\n  addCopiedElement(state, { item }) {\r\n    item && state.copiedElements.push(item);\r\n  },\r\n\r\n  /**\r\n   * Removes a shape or featurePoint from selected elements\r\n   * @param {String} shapeID - shape id\r\n   * @param {String} featurePointID - featurePoint id\r\n   */\r\n  removeSelectedElement(state, { shapeID, featurePointID }) {\r\n    if (shapeID === state.selected.lastShape) {\r\n      state.selected.shapes.splice(-1);\r\n      state.selected.lastShape = state.selected.shapes.slice(-1)[0] || null;\r\n    } else {\r\n      setRemove({ arr: state.selected.shapes, item: shapeID });\r\n      setRemove({ arr: state.selected.featurePoints, item: featurePointID });\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Sets the copied elements into an array\r\n   * @param {shape[]} copiedElements - array of shape data\r\n   */\r\n  setCopiedElements(state, { copiedElements = [] } = {}) {\r\n    state.copiedElements = copiedElements;\r\n  },\r\n\r\n  /**\r\n   * Assign selected tool\r\n   * @param {Element} selectedTool - Dom element of selected tool\r\n   * @see /components/tools/tools/[shape].js for more info\r\n   */\r\n  setSelectedTool(state, { dom, selectedTool } = {}) {\r\n    if (state.selectedTool && state.selectedToolDom) {\r\n      // Remove previous tool style\r\n      state.selectedToolDom.classList.remove(\"tool-selected\");\r\n    }\r\n    state.selectedTool = selectedTool;\r\n    state.selectedToolDom = dom;\r\n    // Add selected style to current tool\r\n    if (dom) {\r\n      state.selectedToolDom.classList.add(\"tool-selected\");\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Assign selected shapes / featurePoints\r\n   * @param {String || String[]} shapes - array of shape ids\r\n   * @param {String || String[]} featurePoints - array of featurePoint ids\r\n   */\r\n  setSelectedElements(state, { shapes, featurePoints } = {}) {\r\n    // Convert shapes and featurePoints to array if necessary\r\n    state.selected.shapes = convertToArray(shapes);\r\n    state.selected.featurePoints = convertToArray(featurePoints);\r\n    state.selected.lastShape = state.selected.shapes.slice(-1)[0] || null;\r\n  },\r\n\r\n  /**\r\n   * Intialize the state of the image\r\n   * @param {Shape[]} copiedElements - array of copied shapes\r\n   * @param {Object} selectedTool - selected tool\r\n   * @param {Object} selected - object containing array of shapes and featurePoints\r\n   * @param {Boolean} alreadyDrawing - toggle to draw/stop\r\n   */\r\n  init(\r\n    state,\r\n    {\r\n      copiedElements = [],\r\n      selectedTool = null,\r\n      selected = {\r\n        shapes: new Set(),\r\n        featurePoints: new Set()\r\n      }\r\n    } = {}\r\n  ) {\r\n    state = {\r\n      copiedElements,\r\n      selectedTool,\r\n      selected\r\n    };\r\n  }\r\n};\r\n\r\nconst getters = {\r\n  /**\r\n   * Returns an array of copied elements\r\n   * @returns {shape[]} array of copied elements\r\n   */\r\n  getCopiedElements: state => {\r\n    return state.copiedElements;\r\n  },\r\n\r\n  /**\r\n   * Returns selected tool\r\n   * @returns {object} tool selected\r\n   */\r\n  getSelectedTool: state => {\r\n    return state.selectedTool;\r\n  },\r\n\r\n  /**\r\n   * Returns the last shape id added into set\r\n   * @returns {String} last shape id added\r\n   */\r\n  getSelectedShape: state => {\r\n    return state.selected.lastShape;\r\n  },\r\n\r\n  /**\r\n   * Returns an array of selected shape ids\r\n   * @returns {String[]} array of selected shape ids\r\n   */\r\n  getSelectedShapes: state => {\r\n    return state.selected.shapes;\r\n  },\r\n\r\n  /**\r\n   * Returns an array of selected feature point ids\r\n   * @returns {String[]} array of selected feature point ids\r\n   */\r\n  getSelectedFeaturePoints: state => {\r\n    return state.selected.featurePoints;\r\n  },\r\n\r\n  /**\r\n   * Returns the config Object\r\n   * @returns {Object} config object\r\n   */\r\n  getConfig: state => {\r\n    return state;\r\n  }\r\n};\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  getters\r\n};\r\n","export class Image {\r\n  constructor({\r\n    id,\r\n    name = \"\",\r\n    src = \"\",\r\n    shapes = [],\r\n    shapeIndex = 0,\r\n    featurePointSize = 3,\r\n    opacity = 1,\r\n    size = {\r\n      width: 0,\r\n      height: 0,\r\n      scaledWidth: 0,\r\n      scaledHeight: 0,\r\n      imageScale: 1\r\n    }\r\n  }) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.src = src;\r\n    this.size = size;\r\n    this.shapes = shapes;\r\n    this.shapeIndex = shapeIndex; // Used to generate new ids for copy pasted shapes\r\n    this.featurePointSize = featurePointSize;\r\n    this.opacity = opacity;\r\n  }\r\n}\r\n","export class FeaturePoint {\r\n  constructor({ cx = 0, cy = 0, id = \"\", label = \"\" } = {}) {\r\n    this.cx = cx;\r\n    this.cy = cy;\r\n    this.id = id;\r\n    this.label = label;\r\n  }\r\n}\r\n","export class Attribute {\r\n  constructor({ key, property, value }) {\r\n    this.key = key;\r\n    this.property = property;\r\n    this.value = value;\r\n  }\r\n}\r\n","export class Shape {\r\n  constructor({\r\n    attributes = [],\r\n    category = \"\",\r\n    defaultZoomScale = 1,\r\n    featurePoints = [],\r\n    featurePointIndex = 0,\r\n    id,\r\n    label = \"\",\r\n    points,\r\n    rbox,\r\n    tags = [],\r\n    type,\r\n    zoomScale = 1\r\n  } = {}) {\r\n    this.id = id;\r\n    this.label = label;\r\n    this.type = type;\r\n    this.category = category;\r\n    this.points = points;\r\n    this.rbox = rbox;\r\n    this.attributes = attributes;\r\n    this.tags = tags;\r\n    this.featurePoints = featurePoints;\r\n    this.featurePointIndex = featurePointIndex;\r\n    this.zoomScale = zoomScale;\r\n    // default scale when image is at 100% zoom\r\n    this.defaultZoomScale = defaultZoomScale;\r\n  }\r\n}\r\n","import { Shape } from \"../models/Shape\";\r\nimport { FeaturePoint } from \"../models/FeaturePoint\";\r\n\r\n/**\r\n * Scales the shape data based on scale\r\n * @param {String} id - id of shape\r\n * @param {String} label - label of shape\r\n * @param {Object} rbox - rbox of shape\r\n * @param {points[]} points - points that form the shape, e.g. 4 points of a rect\r\n * @param {Number} scale - scale used to rescale shape\r\n * @returns {Shape} scaled shape\r\n */\r\nexport function scaleShape({ id, type, rbox, points, scale = 1 }) {\r\n  return new Shape({\r\n    id,\r\n    type,\r\n    rbox: scaleRbox(rbox, scale) || {\r\n      x: 0,\r\n      y: 0,\r\n      w: 0,\r\n      h: 0,\r\n      width: 0,\r\n      height: 0\r\n    },\r\n    points: scaleShapePoints(points, scale, type),\r\n    defaultZoomScale: scale\r\n  });\r\n}\r\n\r\n/**\r\n * Scales the points that make up the shape according to scale and type\r\n * @param {points[]} point\r\n * @param {Number} scale\r\n * @param {String} type - type of shape\r\n * @returns {points[]} scaled points\r\n */\r\nexport function scaleShapePoints(points, scale = 1) {\r\n  if (!points) return;\r\n  return points.map(point => point * scale);\r\n}\r\n\r\n/**\r\n * Scales the rbox of shape according to scale\r\n * @param {Object} rbox - rbox of shape\r\n * @param {Number} scale\r\n * @returns {Object} scaled rbox\r\n */\r\nexport function scaleRbox(rbox, scale = 1) {\r\n  if (!rbox) return;\r\n\r\n  return {\r\n    x: Math.floor(rbox.x * scale),\r\n    y: Math.floor(rbox.y * scale),\r\n    cx: Math.floor((rbox.cx || 0) * scale),\r\n    cy: Math.floor((rbox.cy || 0) * scale),\r\n    w: Math.floor(rbox.w * scale),\r\n    h: Math.floor(rbox.h * scale),\r\n    width: Math.floor(rbox.w * scale),\r\n    height: Math.floor(rbox.h * scale)\r\n  };\r\n}\r\n\r\nexport function scaleFeaturePoint({ point, scale = 1 }) {\r\n  return new FeaturePoint({\r\n    cx: point.cx * scale,\r\n    cy: point.cy * scale,\r\n    label: point.label,\r\n    id: point.id\r\n  });\r\n}\r\n/**\r\n * Scales the feature points according to scale\r\n * @param {FeaturePoint[]} featurePoints - array of FeaturePoints\r\n * @param {Number} scale\r\n * @returns {FeaturePoint[]} array of scaled FeaturePoints\r\n */\r\nexport function scaleFeaturePoints(featurePoints, scale = 1) {\r\n  if (!featurePoints) return;\r\n\r\n  return featurePoints.map(point => {\r\n    return scaleFeaturePoint({ point, scale });\r\n  });\r\n}\r\n","import { setAdd, setRemove, formatID, prettifyID } from \"../../utils/app\";\r\nimport { Image } from \"../../models/Image\";\r\nimport { FeaturePoint } from \"../../models/FeaturePoint\";\r\nimport { Attribute } from \"../../models/Attribute\";\r\nimport {\r\n  scaleShape,\r\n  scaleShapePoints,\r\n  scaleRbox,\r\n  scaleFeaturePoints\r\n} from \"../../utils/scale-shapes\";\r\n\r\nconst state = {\r\n  images: {},\r\n  shapes: {},\r\n  featurePoints: {},\r\n  imageSelected: null,\r\n  imageIndex: 0 // Used to generate unique ids\r\n};\r\n\r\nconst mutations = {\r\n  /**\r\n   * Adds an image to images array\r\n   * @param {String} name - name of image\r\n   * @param {String} src - image source\r\n   * @param {Object} size - {\r\n   *   width        - original width of image\r\n   *   height       - original height of image\r\n   *   scaledWidth  - scaled width of image\r\n   *   scaledHeight - scaled height of image\r\n   *   imageScale   - current image scale\r\n   * }\r\n   */\r\n  addImageToStore(state, { name, src, size }) {\r\n    // Only add image to array if it has never been added before\r\n    if (!state.images[name]) {\r\n      let id = state.imageIndex++;\r\n      let newImage = new Image({ id, name, src, size });\r\n      state.images = { ...state.images, [name]: newImage };\r\n    } else {\r\n      // Image already exists, update src and size\r\n      let oldImage = state.images[name];\r\n      state.images[name] = {\r\n        ...oldImage,\r\n        src,\r\n        size\r\n      };\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Adds a shape to current image and returns a Shape object\r\n   * @param {String} id - id of shape\r\n   * @param {String} type - type of shape\r\n   * @param {SVG.Rbox} rbox - rbox of shape\r\n   * @param {Array[]} points - array of shape metadata,\r\n   * @returns {Shape} shape - a Shape object\r\n   * @see getPoints for more info about points\r\n   */\r\n  addShapeToImage(state, { id, type, rbox, points }) {\r\n    let image = state.imageSelected;\r\n\r\n    var shape = scaleShape({\r\n      id,\r\n      type,\r\n      rbox,\r\n      points,\r\n      scale: 1 / image.size.imageScale\r\n    });\r\n\r\n    // Increment shape index\r\n    image.shapeIndex++;\r\n\r\n    image.shapes.push(id);\r\n    state.shapes = { ...state.shapes, [id]: shape };\r\n\r\n    return shape;\r\n  },\r\n\r\n  /**\r\n   * Adds a feature point to a shape\r\n   * @param {String} shapeID - id of shape\r\n   * @param {String} pointID - id of point\r\n   * @param {SVG.Rbox | Object} position - rbox of point, just require { cx, cy }\r\n   */\r\n  addPointToShape(state, { shapeID, pointID, position }) {\r\n    var shape = state.shapes[shapeID];\r\n    var scale = 1 / state.imageSelected.size.imageScale;\r\n    // Increment feature point index\r\n    ++shape.featurePointIndex;\r\n\r\n    shape.featurePoints.push(pointID);\r\n\r\n    let label = prettifyID({ id: pointID });\r\n\r\n    state.featurePoints = {\r\n      ...state.featurePoints,\r\n      [pointID]: new FeaturePoint({\r\n        label,\r\n        cx: position.cx * scale,\r\n        cy: position.cy * scale,\r\n        id: pointID\r\n      })\r\n    };\r\n  },\r\n\r\n  /**\r\n   * Adds a attribute to shape with a valid property and value\r\n   * @param {String} attribute - attribute\r\n   */\r\n  addAttributeToShape(state, { shapeID, property, value }) {\r\n    if (!property || !value) return;\r\n\r\n    let key = formatID(property, value);\r\n    state.shapes[shapeID].attributes.push(\r\n      new Attribute({ key, property, value })\r\n    );\r\n  },\r\n\r\n  /**\r\n   * Adds a tag to shape\r\n   * @param {String} shapeID - id of shape\r\n   * @param {String} tag - tag\r\n   */\r\n  addTagToShape(state, { shapeID, tag }) {\r\n    setAdd({ arr: state.shapes[shapeID].tags, item: tag });\r\n  },\r\n\r\n  /**\r\n   * Removes shape from image\r\n   * @param {String} shapeID\r\n   */\r\n  detachShapeFromImage(state, { imageName, shapeID }) {\r\n    let name = imageName || state.imageSelected.name;\r\n\r\n    let shapes = state.images[name].shapes;\r\n    let index = shapes.findIndex(_shapeID => _shapeID === shapeID);\r\n\r\n    if (index < 0) return;\r\n    // Detach shape from image\r\n    shapes.splice(index, 1);\r\n\r\n    // Detach feature points from shape\r\n    state.shapes[shapeID].featurePoints.forEach(featurePointID => {\r\n      state.featurePoints[featurePointID] = undefined;\r\n    });\r\n\r\n    // Detach shape\r\n    state.shapes[shapeID] = undefined;\r\n  },\r\n\r\n  /**\r\n   * Removes feature point from shape\r\n   * @param {String} shapeID - shape id\r\n   * @param {String} featurePointID - feature point id\r\n   */\r\n  detachFeaturePoint(state, { shapeID, featurePointID }) {\r\n    let shape = state.shapes[shapeID];\r\n\r\n    let index = shape.featurePoints.findIndex(fpID => {\r\n      return fpID === featurePointID;\r\n    });\r\n\r\n    // Feature point does not exist\r\n    if (index === -1) return;\r\n\r\n    // Remove feature point from shape\r\n    shape.featurePoints.splice(index, 1);\r\n    state.featurePoints[featurePointID] = undefined;\r\n  },\r\n\r\n  /**\r\n   * Removes an attribute from shape\r\n   * @param {String} shapeID - shape id\r\n   * @param {Number} index - index of item to be removed\r\n   */\r\n  removeAttributeFromShape(state, { shapeID, index }) {\r\n    state.shapes[shapeID].attributes.splice(index, 1);\r\n  },\r\n\r\n  /**\r\n   * Removes a tag from shape\r\n   * @param {String} shapeID - shape id\r\n   * @param {String} tag - tag\r\n   */\r\n  removeTagFromShape(state, { shapeID, tag }) {\r\n    setRemove({ arr: state.shapes[shapeID].tags, item: tag });\r\n  },\r\n\r\n  /**\r\n   * Removes a value from shape attribute\r\n   * @param {String} shapeID - shape id\r\n   * @param {String} tag - tag\r\n   */\r\n  removeValueFromAttribute(state, { shapeID, attribute, value }) {\r\n    let id = formatID(shapeID, attribute);\r\n    // Only remove if id exists\r\n    if (state.shapeAttributes[id]) {\r\n      setRemove({ arr: state.shapeAttributes[id], item: value });\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Sets feature point size for current image\r\n   * @param {Number} featurePointSize\r\n   */\r\n  setFeaturePointSize(state, { featurePointSize }) {\r\n    if (state.imageSelected) {\r\n      state.imageSelected.featurePointSize = featurePointSize;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Sets selected image via name\r\n   * @param {String} name - image name\r\n   */\r\n  setImageSelected(state, { name }) {\r\n    name && (state.imageSelected = state.images[name]);\r\n  },\r\n\r\n  /**\r\n   * Sets shape category\r\n   * @param {String} categpry - category\r\n   */\r\n  setShapeCategory(state, { shapeID, category = \"\" }) {\r\n    state.shapes[shapeID].category = category;\r\n  },\r\n\r\n  /**\r\n   * Updates shape attribute only if attribute fields are filled\r\n   * @param {String} shapeID\r\n   * @param {String} oldProp\r\n   * @param {String} oldValue\r\n   * @param {String} newProp\r\n   * @param {String} newValue\r\n   */\r\n  updateAttribute(state, { shapeID, oldProp, oldValue, newProp, newValue }) {\r\n    if (!oldProp || !oldValue || !newProp || !newValue) return;\r\n\r\n    let oldID = formatID(oldProp, oldValue);\r\n    let newID = formatID(newProp, newValue);\r\n    let shapeAttrs = state.shapes[shapeID].attributes;\r\n\r\n    let index = shapeAttrs.findIndex(attr => {\r\n      return attr.key === oldID;\r\n    });\r\n\r\n    shapeAttrs.splice(\r\n      index,\r\n      1,\r\n      new Attribute({ key: newID, property: newProp, value: newValue })\r\n    );\r\n  },\r\n\r\n  /**\r\n   * Updates a single feature point\r\n   * @param {String} pointID - id of point\r\n   * @param {SVG.Rbox} position\r\n   * @param {String} newLabel - new label for feature point\r\n   */\r\n  updateFeaturePoint(state, { pointID, position, newLabel = undefined }) {\r\n    let scale = 1 / state.imageSelected.size.imageScale;\r\n\r\n    let point = state.featurePoints[pointID];\r\n\r\n    if (position) {\r\n      point.cx = position.cx * scale;\r\n      point.cy = position.cy * scale;\r\n    }\r\n\r\n    newLabel && (point.label = newLabel);\r\n  },\r\n\r\n  /**\r\n   * Updates feature points of shape\r\n   * @param {String} shapeID\r\n   * @param {FeaturePoint[]} featurePoints\r\n   * @param {Boolean} switchposition - flag to indicate position switch only\r\n   */\r\n  updateFeaturePoints(\r\n    state,\r\n    { shapeID, featurePoints, switchPosition = false }\r\n  ) {\r\n    let shape = state.shapes[shapeID];\r\n    let scale = 1 / state.imageSelected.size.imageScale;\r\n\r\n    // Update feature point list of shape\r\n    shape.featurePoints = featurePoints.map(featurePoint => {\r\n      return featurePoint.id;\r\n    });\r\n\r\n    // Stop after switch positions\r\n    if (switchPosition) return;\r\n\r\n    // Scale feature points and insert into store\r\n    let scaledFeaturePoints = scaleFeaturePoints(featurePoints, scale);\r\n\r\n    // Use temp to batch assign feature points\r\n    let temp = {};\r\n    scaledFeaturePoints.forEach(sFP => (temp[sFP.id] = sFP));\r\n\r\n    state.featurePoints = { ...state.featurePoints, ...temp };\r\n  },\r\n\r\n  /**\r\n   * Update shape details\r\n   * @param {String} shapeID - id of shape\r\n   * @param {String} category - shape category\r\n   * @param {String[]} tags - shape tags\r\n   * @param {String} label - shape label\r\n   * @param {Point[]} points - points of a shape, e.g. 4 corners of a rectangle\r\n   * @param {SVG.Rbox} rbox - shape rbox\r\n   * @param {Number} zoomScale - shape zoomScale\r\n   */\r\n  updateShapeDetail(\r\n    state,\r\n    { shapeID, category, tags, label, points, rbox, zoomScale }\r\n  ) {\r\n    var shape = state.shapes[shapeID];\r\n    var scale = 1 / state.imageSelected.size.imageScale;\r\n\r\n    category && (shape.category = category);\r\n    tags && (shape.tags = tags);\r\n    label && (shape.label = label);\r\n    points && (shape.points = scaleShapePoints(points, scale, shape.type));\r\n    rbox && (shape.rbox = scaleRbox(rbox, scale));\r\n    zoomScale && (shape.zoomScale = zoomScale);\r\n  },\r\n\r\n  /**\r\n   * Updates selected image details\r\n   * @param {String} name - new image name\r\n   * @param {Number} scaledWidth - scaled image width\r\n   * @param {Number} scaledHeight - scaled image height\r\n   * @param {Number} imageScale - current image scale\r\n   * @param {Number} shapeIndex - used as uuid for copied shapes\r\n   * @param {Number} pointIndex - used as uuid for copied feature points\r\n   * @param {Number} featurePointSize - feature point size of image\r\n   * @param {Number} opacity - image opacity\r\n   */\r\n  updateImageDetail(\r\n    state,\r\n    {\r\n      name,\r\n      scaledWidth,\r\n      scaledHeight,\r\n      imageScale,\r\n      shapeIndex,\r\n      pointIndex,\r\n      featurePointSize,\r\n      opacity\r\n    }\r\n  ) {\r\n    let image = state.imageSelected;\r\n    name && (image.name = name);\r\n    scaledWidth && (image.size.scaledWidth = scaledWidth);\r\n    scaledHeight && (image.size.scaledHeight = scaledHeight);\r\n    imageScale && (image.size.imageScale = imageScale);\r\n    shapeIndex && (image.shapeIndex = shapeIndex);\r\n    pointIndex && (image.pointIndex = pointIndex);\r\n    featurePointSize && (image.featurePointSize = featurePointSize);\r\n    opacity && (image.opacity = opacity);\r\n  },\r\n\r\n  /**\r\n   * Initialze the state of the store\r\n   * @param {Object} images\r\n   * @param {Object} shapes\r\n   * @param {Object} featurePoints\r\n   */\r\n  init(state, { images = {}, shapes = {}, featurePoints = {}, imageIndex }) {\r\n    state.images = images;\r\n    state.shapes = shapes;\r\n    state.featurePoints = featurePoints;\r\n    state.imageSelected = null;\r\n    if (!imageIndex) imageIndex = Object.keys(images).length;\r\n    state.imageIndex = imageIndex;\r\n  }\r\n};\r\n\r\nconst getters = {\r\n  /**\r\n   * Returns an array of images\r\n   * @returns {Images[]} array of images\r\n   */\r\n  getImages: state => {\r\n    return Object.values(state.images);\r\n  },\r\n\r\n  /**\r\n   * Returns selected image\r\n   * @returns {Image | undefined} selected image, else undefined\r\n   */\r\n  getImageSelected: state => {\r\n    return state.imageSelected;\r\n  },\r\n\r\n  /**\r\n   * Returns an image from a name\r\n   * @param {String} name - image name\r\n   * @returns {Function(): }\r\n   */\r\n  getImageByName: state => name => {\r\n    return state.images[name];\r\n  },\r\n\r\n  /**\r\n   * Gets shape by id\r\n   * @param {String} shapeID\r\n   * @returns {Function(): Shape} takes a shapeID and returns a shape\r\n   */\r\n  getShapeByID: state => shapeID => {\r\n    return state.shapes[shapeID];\r\n  },\r\n\r\n  /**\r\n   * Returns an array of shape attributes\r\n   * @param {String} shapeID - shape id\r\n   * @returns {Function(): String[]} - array of shape attributes\r\n   */\r\n  getShapeAttributes: state => shapeID => {\r\n    return state.shapes[shapeID].attributes;\r\n  },\r\n\r\n  /**\r\n   * Returns values associated with the shape attribute\r\n   * @param {String} shapeID - shape id\r\n   * @returns {Function(): String[]} - array of shape attribute values\r\n   */\r\n  getShapeAttributeValues: state => ({ shapeID, attribute }) => {\r\n    let id = formatID(shapeID, attribute);\r\n    return state.shapeAttributes[id];\r\n  },\r\n\r\n  /**\r\n   * Gets shape feature points\r\n   * @param {String} shapeID\r\n   * @returns {Function(): FeaturePoint[]} takes a shape ID and returns an array of feature points\r\n   */\r\n  getShapeFeaturePoints: state => shapeID => {\r\n    return state.shapes[shapeID].featurePoints.map(featurePointID => {\r\n      return state.featurePoints[featurePointID];\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Get shape feature point ids\r\n   * @param {String} shapeID\r\n   * @returns {Function(): String[]} featurePoints\r\n   */\r\n  getShapeFeaturePointIDs: state => shapeID => {\r\n    return state.shapes[shapeID].featurePoints;\r\n  },\r\n\r\n  /**\r\n   * Gets feature point by ID\r\n   * @param {String} featurePointID\r\n   * @returns {Function: FeaturePoint}\r\n   */\r\n  getFeaturePointByID: state => featurePointID => {\r\n    return state.featurePoints[featurePointID];\r\n  },\r\n\r\n  /**\r\n   * Returns feature point size for an image,\r\n   * Default size, which is the min size, is 3\r\n   * @returns {Number} feature point size\r\n   */\r\n  getFeaturePointSize: state => {\r\n    return (state.imageSelected && state.imageSelected.featurePointSize) || 3;\r\n  },\r\n\r\n  /**\r\n   * Returns store data: Returns raw data\r\n   */\r\n  getStoreData: state => {\r\n    let cloneDeepWith = require(\"lodash.clonedeepwith\");\r\n    return cloneDeepWith(state);\r\n  },\r\n\r\n  /**\r\n   * Returns the image id and the next shape hash\r\n   * @param {String} name - image name\r\n   * @returns {String}\r\n   */\r\n  nextShapeHash: state => name => {\r\n    let image = name ? state.images[name] : state.imageSelected;\r\n    if (image) {\r\n      return image.id + \"-\" + image.shapeIndex;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Takes a shapeID and returns the next featurePoint hash\r\n   * @param {String} shapeID\r\n   */\r\n  nextFeaturePointHash: state => shapeID => {\r\n    let shape = state.shapes[shapeID];\r\n    if (shape) {\r\n      let shapeHash = shape.id.split(\"#\");\r\n      return shapeHash[1] + \"-\" + shape.featurePointIndex;\r\n    }\r\n  }\r\n};\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  getters\r\n};\r\n","import { setAdd, setRemove } from \"../../utils/app\";\r\n\r\nconst state = {\r\n  properties: [],\r\n  propValues: {},\r\n  categories: [],\r\n  tags: []\r\n};\r\n\r\nconst mutations = {\r\n  /**\r\n   * Add an attribute to app\r\n   * @param {String} property\r\n   * @param {String} value\r\n   */\r\n  addAttribute(state, { property, value }) {\r\n    if (!property || !value) return;\r\n    setAdd({ arr: state.properties, item: property });\r\n\r\n    if (!state.propValues[property]) {\r\n      state.propValues = { ...state.propValues, [property]: [value] };\r\n    } else {\r\n      setAdd({ arr: state.propValues[property], item: value });\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Adds an property to store, if property doesn't exist, create a new\r\n   * property to value mapping\r\n   * @param {String} property\r\n   */\r\n  addProperty(state, { property }) {\r\n    // Stop if property is invalid\r\n    if (!property) return;\r\n    setAdd({ arr: state.properties, item: property });\r\n\r\n    // Stop if property already exists\r\n    if (state.propValues[property]) return;\r\n    // Create a new entry in propValues\r\n    state.propValues = { ...state.propValues, [property]: [] };\r\n  },\r\n\r\n  /**\r\n   * Adds a category to store\r\n   * @param {String} category\r\n   */\r\n  addCategory(state, { category }) {\r\n    category && setAdd({ arr: state.categories, item: category });\r\n  },\r\n\r\n  /**\r\n   * Adds a tag to store\r\n   * @param {String} tag\r\n   */\r\n  addTag(state, { tag }) {\r\n    tag && setAdd({ arr: state.tags, item: tag });\r\n  },\r\n\r\n  /**\r\n   * Maps property to value\r\n   * @param {String} property\r\n   * @param {String} value\r\n   */\r\n  addValue(state, { property, value }) {\r\n    property &&\r\n      value &&\r\n      setAdd({ arr: state.propValues[property], item: value });\r\n  },\r\n\r\n  /**\r\n   * Sets new property to values mapping\r\n   * @param {String[]} properties - array of properties\r\n   * @param {Object} propValues - object containing property-value mappings\r\n   */\r\n  setProperties(state, { properties, propValues }) {\r\n    state.properties = properties;\r\n    state.propValues = propValues;\r\n  },\r\n\r\n  /**\r\n   * Set an existing property's values\r\n   * @param {String} property - property name\r\n   * @param {String[]} values - new values\r\n   */\r\n  setProperty(state, { property, values }) {\r\n    let propValues = state.propValues[property];\r\n    propValues && (state.propValues[property] = values);\r\n  },\r\n\r\n  /**\r\n   * Sets a new category for store\r\n   * @param {String[]} categories\r\n   */\r\n  setCategories(state, { categories }) {\r\n    state.categories = categories;\r\n  },\r\n\r\n  /**\r\n   * Sets new tags for store\r\n   * @param {String[]} rags\r\n   */\r\n  setTags(state, { tags }) {\r\n    state.tags = tags;\r\n  },\r\n\r\n  /**\r\n   * Remove a property and its values from store\r\n   * @param {String} property\r\n   */\r\n  removeProperty(state, { property }) {\r\n    property && setRemove({ arr: state.properties, item: property });\r\n    state.propValues[property] = undefined;\r\n  },\r\n\r\n  /**\r\n   * Remove a category from store\r\n   * @param {String} category\r\n   */\r\n  removeCategory(state, { category }) {\r\n    category && setRemove({ arr: state.categories, item: category });\r\n  },\r\n\r\n  /**\r\n   * Remove a tag from store\r\n   * @param {String} tag\r\n   */\r\n  removeTag(state, { tag }) {\r\n    tag && setRemove({ arr: state.tags, item: tag });\r\n  },\r\n\r\n  /**\r\n   * Remove a value from store\r\n   * @param {String} property\r\n   * @param {String} value\r\n   */\r\n  removeValue(state, { property, value }) {\r\n    value && setRemove({ arr: state.propValues[property], item: value });\r\n  },\r\n\r\n  /**\r\n   * Initialize store with appropriate values\r\n   * @param {String[]} properties\r\n   * @param {Object} propValues\r\n   * @param {String[]} categories\r\n   * @param {String[]} tags\r\n   */\r\n  init(\r\n    state,\r\n    { properties = [], propValues = {}, categories = [], tags = [] }\r\n  ) {\r\n    state.properties = properties;\r\n    state.propValues = propValues;\r\n    state.categories = categories;\r\n    state.tags = tags;\r\n  }\r\n};\r\n\r\nconst getters = {\r\n  getCategory: state => {\r\n    return state.categories;\r\n  },\r\n\r\n  getProperties: state => {\r\n    return state.properties;\r\n  },\r\n\r\n  getTags: state => {\r\n    return state.tags;\r\n  },\r\n\r\n  getValues: state => property => {\r\n    return state.propValues[property];\r\n  },\r\n\r\n  /**\r\n   * Returns store data: Returns raw data\r\n   */\r\n  getStoreData: state => {\r\n    let cloneDeepWith = require(\"lodash.clonedeepwith\");\r\n    return cloneDeepWith(state);\r\n  }\r\n};\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  getters\r\n};\r\n","import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\nimport appConfig from \"./modules/app-config\";\r\nimport actionConfig from \"./modules/action-config\";\r\nimport imageStore from \"./modules/image-store\";\r\nimport labelData from \"./modules/label-data\";\r\n\r\nVue.use(Vuex);\r\n\r\n// const throttle = require(\"lodash.throttle\");\r\n\r\nconst mutations = {\r\n  /**\r\n   * Initialze the store with data stored in local storage\r\n   * @param {String} storeData - json string containing store data\r\n   */\r\n  initializeStore(state, { storeData }) {\r\n    if (!storeData) {\r\n      storeData = localStorage.getItem(\"imglab-store\");\r\n    }\r\n    this.replaceState(Object.assign(state, storeData));\r\n  }\r\n};\r\n\r\nconst getters = {\r\n  getLocalStoreData: () => {\r\n    return localStorage.getItem(\"imglab-store\");\r\n  }\r\n};\r\n\r\nconst store = new Vuex.Store({\r\n  modules: {\r\n    \"app-config\": appConfig,\r\n    \"action-config\": actionConfig,\r\n    \"image-store\": imageStore,\r\n    \"label-data\": labelData\r\n  },\r\n  getters,\r\n  mutations\r\n});\r\n\r\n/**\r\n * Subscribe to store mutations and store state to local storage\r\n */\r\n// store.subscribe(\r\n// TODO: Use indexdb to store session data\r\n// throttle(function(mutation, state) {\r\n//   localStorage.setItem(\"imglab-store\", JSON.stringify(state));\r\n// }, 5000)\r\n// );\r\nexport default store;\r\n","import store from \"../store/store\";\r\nimport { POINT } from \"./tool-names\";\r\n\r\n/**\r\n * Returns the x and y coordinates of mouse on the canvas\r\n * @param {Event} event - mouse move event\r\n * @param {SVG.Element} element - svg canvas\r\n */\r\nexport function getCoordinates(event, element) {\r\n  var rect = element.getBoundingClientRect();\r\n  var x = event.clientX - rect.left;\r\n  var y = event.clientY - rect.top;\r\n  return {\r\n    x: Math.round(x),\r\n    y: Math.round(y)\r\n  };\r\n}\r\n\r\n/**\r\n * Helper function to convert a single value to an array\r\n * @param {*} val - value to be converted\r\n */\r\nexport function convertToArray(val) {\r\n  if (!val) return [];\r\n\r\n  if (val.constructor === Array) {\r\n    return val;\r\n  }\r\n\r\n  return [val];\r\n}\r\n\r\n/**\r\n * Adds a unique item to array\r\n * @param {Array} arr - array of items\r\n * @param {*} item - item to be added\r\n * @param {*} key - used to compare object equality\r\n */\r\nexport function setAdd({ arr, item, key }) {\r\n  // Key default is set to item\r\n  if (!key) {\r\n    key = item;\r\n  }\r\n\r\n  let index = arr.findIndex(arrItem => {\r\n    return arrItem === key || arrItem.key === key;\r\n  });\r\n\r\n  if (index === -1) {\r\n    arr.push(item);\r\n  }\r\n}\r\n\r\n/**\r\n * Removes a unique item from array\r\n * @param {Array} arr - array of items\r\n * @param {*} item - item to be removed\r\n * @param {*} key - used to compare object equality\r\n */\r\nexport function setRemove({ arr, item, key }) {\r\n  // Key default is set to item\r\n  if (!key) {\r\n    key = item;\r\n  }\r\n\r\n  let index = arr.findIndex(arrItem => {\r\n    return arrItem === key || arrItem.key === key;\r\n  });\r\n\r\n  if (index === -1) return;\r\n\r\n  arr.splice(index, 1);\r\n}\r\n\r\nexport const _ = {\r\n  on(el, type, cb, useCapture = false) {\r\n    return el.addEventListener(type, cb, useCapture);\r\n  },\r\n\r\n  off(el, type, cb, useCapture = false) {\r\n    return el.removeEventListener(type, cb, useCapture);\r\n  }\r\n};\r\n\r\n/**\r\n * Returns a formatted string based on arguments\r\n * e.g. formatID(\"shapeID\", \"attribute\") returns \"shapeID:attribute\"\r\n * @returns {String}\r\n */\r\nexport function formatID() {\r\n  let args = Array.from(arguments);\r\n  return args.slice(1).reduce(function(acc, cur) {\r\n    return acc + \":\" + cur;\r\n  }, args[0]);\r\n}\r\n\r\n/**\r\n * Helper function to get svg with custom id\r\n * @param {SVG.Element} svg - a SVG instance\r\n * @param {String} id - lookup id\r\n */\r\nexport function getSVG({ svg, id }) {\r\n  let dom = document.getElementById(id);\r\n  return svg.adopt(dom);\r\n}\r\n\r\n/**\r\n * Returns a shortened versioned of ID\r\n * @param {String} id\r\n * @returns {String} - type + id\r\n */\r\nexport function prettifyID({ id }) {\r\n  let types = id.split(\"#\");\r\n  let hash = types[1].split(\"-\");\r\n  let eid = hash.pop();\r\n  return types[0] + \"#\" + eid;\r\n}\r\n\r\n/**\r\n * Helper function to generate shape ID\r\n * @param {String} type - shape type\r\n * @returns {String}\r\n */\r\nexport function generateShapeID({ type }) {\r\n  let index = store.getters[\"image-store/nextShapeHash\"]();\r\n  return type + \"#\" + index;\r\n}\r\n\r\n/**\r\n * Helper function to generate featurePoint ID\r\n * @param {String} shapeID\r\n * @returns {String}\r\n */\r\nexport function generateFeaturePointID({ shapeID }) {\r\n  let index = store.getters[\"image-store/nextFeaturePointHash\"](shapeID);\r\n  return POINT + \"#\" + index;\r\n}\r\n","<template lang=\"html\">\r\n  <div class=\"zoom-bar\">\r\n    <div class=\"zoom-button\">\r\n      <font-awesome-icon\r\n        :icon=\"['fas', 'search-plus']\"\r\n        style=\"font-size: 1.5em\"\r\n        @click=\"zoomIn\"\r\n      >\r\n      </font-awesome-icon>\r\n    </div>\r\n    <div>\r\n      <input\r\n        id=\"zoom-scale\"\r\n        type='text'\r\n        :value=\"imageScale + '%'\"\r\n        maxlength=\"4\"\r\n        size=\"4\"\r\n        disabled\r\n      />\r\n    </div>\r\n    <div class=\"zoom-button\">\r\n      <font-awesome-icon\r\n        :icon=\"['fas', 'search-minus']\"\r\n        @click=\"zoomOut\"\r\n      >\r\n      </font-awesome-icon>\r\n    </div>\r\n    <div class=\"zoom-button\">\r\n      <font-awesome-icon\r\n        :icon=\"['fas', 'undo']\"\r\n        @click=\"zoomReset\"\r\n      >\r\n      </font-awesome-icon>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from \"vuex\";\r\nimport { _ } from \"../../../utils/app\";\r\n\r\n/**\r\n * Rescales all items in the canvas, excluding the feature point\r\n */\r\nexport default {\r\n  data() {\r\n    return {\r\n      // Current zoom scale\r\n      scale: 100\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"image-store\", {\r\n      imageSelected: \"getImageSelected\",\r\n      getShapeByID: \"getShapeByID\"\r\n    }),\r\n\r\n    ...mapGetters(\"app-config\", {\r\n      zoomStepSize: \"getZoomStepSize\"\r\n    }),\r\n\r\n    /**\r\n     * Returns image scale; default is 100%\r\n     */\r\n    imageScale() {\r\n      return this.imageSelected\r\n        ? Math.floor(this.imageSelected.size.imageScale * 100)\r\n        : 100;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"image-store\", [\"updateShapeDetail\", \"updateImageDetail\"]),\r\n\r\n    /**\r\n     * Zoom in: Scale up both image and shapes\r\n     */\r\n    zoomIn() {\r\n      // No image selected, stop\r\n      if (!this.imageSelected) return;\r\n      // Image scale too large, stop\r\n      if (this.imageSelected.size.imageScale >= 10) return;\r\n\r\n      const oldScale = this.imageSelected.size.imageScale;\r\n      const newScale = oldScale + this.zoomStepSize;\r\n\r\n      // Rescale image and shape\r\n      this.rescaleImage(newScale);\r\n      this.rescaleShapes(oldScale, newScale);\r\n    },\r\n\r\n    /**\r\n     * Zoom out: Scale down both image and shapes\r\n     */\r\n    zoomOut() {\r\n      // No image selected, stop\r\n      if (!this.imageSelected) return;\r\n      // Image scale too small, stop\r\n      if (this.imageSelected.size.imageScale <= 0.1) return;\r\n\r\n      const oldScale = this.imageSelected.size.imageScale;\r\n      const newScale = oldScale - this.zoomStepSize;\r\n\r\n      // Rescale image and shape\r\n      this.rescaleImage(newScale);\r\n      this.rescaleShapes(oldScale, newScale);\r\n    },\r\n\r\n    /**\r\n     * Resets zoom to 100%\r\n     * All shapes are transformed to match their size at 100% image scale\r\n     */\r\n    zoomReset() {\r\n      // No image selected, stop\r\n      if (!this.imageSelected) return;\r\n\r\n      // Rescale image\r\n      this.rescaleImage(1);\r\n      // Reset shapes to its original scale\r\n      this.imageSelected.shapes.forEach(shapeID => {\r\n        let shape = this.getShapeByID(shapeID);\r\n        this.updateShapeDetail({\r\n          shapeID: shape.id,\r\n          zoomScale: shape.defaultZoomScale\r\n        });\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Rescale shapes in selected image and set new scale\r\n     * @param {Number} oldScale - old image scale\r\n     * @param {Number} newScale - new image scale\r\n     */\r\n    rescaleShapes(oldScale, newScale) {\r\n      // Increase/Decrease each image scale\r\n      this.imageSelected.shapes.forEach(shapeID => {\r\n        let shape = this.getShapeByID(shapeID);\r\n        this.updateShapeDetail({\r\n          shapeID: shape.id,\r\n          zoomScale: (shape.zoomScale * newScale) / oldScale\r\n        });\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Rescale image dimensions by new scale\r\n     * @param {Number} newScale - new image scale\r\n     */\r\n    rescaleImage(newScale) {\r\n      this.updateImageDetail({\r\n        scaledWidth: Math.floor(this.imageSelected.size.width * newScale),\r\n        scaledHeight: Math.floor(this.imageSelected.size.height * newScale),\r\n        imageScale: newScale\r\n      });\r\n    },\r\n\r\n    /**\r\n     * List of shortcuts\r\n     * @param {Event} event - keydown event\r\n     */\r\n    shortcuts(event) {\r\n      let key = event.key;\r\n      let zoomKeys = [\"[\", \"]\"];\r\n      if (!zoomKeys.includes(key)) return;\r\n      if (event.altKey && !event.ctrlKey) {\r\n        key === \"]\" ? this.zoomIn() : this.zoomOut();\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    _.on(document, \"keydown\", this.shortcuts);\r\n  },\r\n  beforeDestroy() {\r\n    _.off(document, \"keydown\", this.shortcuts);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n.zoom-bar{\r\n    display: flex;\r\n  }\r\n  .zoom-bar > div:not(:first-child){\r\n    margin-left: .2em;\r\n  }\r\n  .zoom-button{\r\n    padding: .3em;\r\n    cursor: pointer;\r\n  }\r\n  .zoom-button:not(.zoom-selected):hover{\r\n    background: grey;\r\n  }\r\n  input[type=\"text\"]{\r\n    border: 0px;\r\n    text-align:center;\r\n    margin-top:.2em;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-zoom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-zoom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./action-zoom.vue?vue&type=template&id=b2b1bf94&scoped=true&lang=html&\"\nimport script from \"./action-zoom.vue?vue&type=script&lang=js&\"\nexport * from \"./action-zoom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./action-zoom.vue?vue&type=style&index=0&id=b2b1bf94&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b2b1bf94\",\n  null\n  \n)\n\ncomponent.options.__file = \"action-zoom.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"action-wrapper\"},[_c('div',{staticClass:\"range-slider\"},[_c('input',{staticClass:\"input-range\",attrs:{\"type\":\"range\",\"step\":\"1\",\"min\":\"3\",\"max\":\"100\"},domProps:{\"value\":_vm.featurePointSize},on:{\"input\":_vm.setPointSize}})]),_c('div',{staticClass:\"colorpicker\"},[_c('input',{attrs:{\"type\":\"color\",\"id\":\"colorpicker\",\"name\":\"colorpicker\"},domProps:{\"value\":_vm.featurePointColor},on:{\"change\":_vm.setColorInStore,\"input\":function($event){_vm.switchColor($event.target.value)}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\r\n  <div class=\"action-wrapper\">\r\n    <div class=\"range-slider\">\r\n      <input\r\n        class=\"input-range\"\r\n        type=\"range\"\r\n        step=\"1\"\r\n        :value=\"featurePointSize\"\r\n        min=\"3\"\r\n        max=\"100\"\r\n        @input=\"setPointSize\"\r\n      >\r\n    </div>\r\n\r\n    <div class=\"colorpicker\">\r\n      <input\r\n        type=\"color\"\r\n        id=\"colorpicker\"\r\n        name=\"colorpicker\"\r\n        :value=\"featurePointColor\"\r\n        @change=\"setColorInStore\"\r\n        @input=\"switchColor($event.target.value)\"\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getSVG } from \"../../../utils/app\";\r\nimport { mapGetters, mapMutations } from \"vuex\";\r\n\r\nconst throttle = require(\"lodash.throttle\");\r\n\r\n/**\r\n * Sets feature point color and feature point size\r\n */\r\nexport default {\r\n  computed: {\r\n    /**\r\n     * Computed getters from image-store and app-config\r\n     */\r\n    ...mapGetters(\"image-store\", {\r\n      imageSelected: \"getImageSelected\",\r\n      featurePointSize: \"getFeaturePointSize\",\r\n      getShapeFeaturePoints: \"getShapeFeaturePoints\",\r\n      getShapeByID: \"getShapeByID\"\r\n    }),\r\n\r\n    ...mapGetters(\"app-config\", {\r\n      featurePointColor: \"getFeaturePointColor\"\r\n    })\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"image-store\", {\r\n      setFeaturePointSize: \"setFeaturePointSize\"\r\n    }),\r\n\r\n    ...mapMutations(\"app-config\", {\r\n      setFeaturePointColor: \"setFeaturePointColor\"\r\n    }),\r\n\r\n    /**\r\n     * Apply changes to all feature points in current image via callback function\r\n     * @param {Function} cb - callback function\r\n     */\r\n    applyFeaturePointChanges(cb) {\r\n      if (!this.imageSelected) return;\r\n\r\n      let shapes = this.imageSelected.shapes.map(shapeID => {\r\n        return this.getShapeByID(shapeID);\r\n      });\r\n\r\n      shapes.forEach(shape => {\r\n        shape.featurePoints.forEach(cb);\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Sets feature point color in store\r\n     * @param {Event} event - change event\r\n     */\r\n    setColorInStore(event) {\r\n      if (this.featurePointColor === event.target.value) return;\r\n      this.setFeaturePointColor({ featurePointColor: event.target.value });\r\n    },\r\n\r\n    /**\r\n     * Sets the feature point size\r\n     * @param {Event} event - change event\r\n     */\r\n    setPointSize: throttle(function(event) {\r\n      this.setFeaturePointSize({ featurePointSize: event.target.value });\r\n\r\n      this.applyFeaturePointChanges(featurePointID => {\r\n        let svgFP = getSVG({ svg: this.$svg, id: featurePointID });\r\n        svgFP.radius(event.target.value);\r\n      });\r\n    }, 33),\r\n\r\n    /**\r\n     * Previews the color of featurePoints when the color is changed\r\n     * @param {String} color - hexadecimal color code\r\n     */\r\n    switchColor: throttle(function(color) {\r\n      if (!this.imageSelected) return;\r\n\r\n      this.applyFeaturePointChanges(featurePointID => {\r\n        let svgFP = getSVG({ svg: this.$svg, id: featurePointID });\r\n        svgFP.fill(color);\r\n      });\r\n    }, 33)\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n  .action-wrapper {\r\n    margin-top: 10px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-feature-point.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-feature-point.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./action-feature-point.vue?vue&type=template&id=54df26ca&scoped=true&lang=html&\"\nimport script from \"./action-feature-point.vue?vue&type=script&lang=js&\"\nexport * from \"./action-feature-point.vue?vue&type=script&lang=js&\"\nimport style0 from \"./action-feature-point.vue?vue&type=style&index=0&id=54df26ca&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54df26ca\",\n  null\n  \n)\n\ncomponent.options.__file = \"action-feature-point.vue\"\nexport default component.exports","import { OPACITY, ZOOM, POINT } from \"../../../utils/tool-names\";\r\nimport ActionOpacity from \"../actions/action-opacity\";\r\nimport ActionZoom from \"../actions/action-zoom\";\r\nimport ActionFeaturePoint from \"../actions/action-feature-point\";\r\n\r\nexport const actions = {\r\n  [OPACITY]: ActionOpacity,\r\n  [ZOOM]: ActionZoom,\r\n  [POINT]: ActionFeaturePoint\r\n};\r\n","<template lang=\"html\">\r\n  <component :is=\"action\"></component>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { actions as _actions } from \"./config/config\";\r\n\r\n/**\r\n * Renders the corresponding action when a tool is selected.\r\n * Actions are loaded from the config file\r\n */\r\nexport default {\r\n  data() {\r\n    return {\r\n      // List of actions available\r\n      actions: _actions,\r\n      // Current action\r\n      action: null\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"action-config\", {\r\n      selectedTool: \"getSelectedTool\"\r\n    })\r\n  },\r\n  watch: {\r\n    selectedTool() {\r\n      // Check that tool is selected and has an action\r\n      if (this.selectedTool && this.selectedTool.actionable) {\r\n        // Dynamically set action by binding the Vue options object\r\n        this.action = this.actions[this.selectedTool.type];\r\n      } else {\r\n        // Reset action to null\r\n        this.action = null;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-bar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-bar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./action-bar.vue?vue&type=template&id=587e921c&scoped=true&lang=html&\"\nimport script from \"./action-bar.vue?vue&type=script&lang=js&\"\nexport * from \"./action-bar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./action-bar.vue?vue&type=style&index=0&id=587e921c&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"587e921c\",\n  null\n  \n)\n\ncomponent.options.__file = \"action-bar.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.tools[_vm.toolType])?_c('div',_vm._l((_vm.tools[_vm.toolType]),function(tool,index){return _c('div',{key:index,ref:tool.title,refInFor:true,staticClass:\"tool-button\",attrs:{\"id\":tool.title},on:{\"click\":function($event){_vm.dispatch(tool)}}},[(tool.icon.isSVG)?_c('img',{attrs:{\"src\":require('../../assets/icons/' + tool.icon.name),\"alt\":tool.title}}):_c('font-awesome-icon',{staticStyle:{\"font-size\":\"1.5em\"},attrs:{\"icon\":[tool.icon.type, tool.icon.name]}}),_c('div',[_vm._v(\"\\n      \"+_vm._s(tool.title)+\"\\n    \")])],1)})):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { RECTANGLE, SHAPE } from \"../../../utils/tool-names\";\r\nimport { generateShapeID } from \"../../../utils/app\";\r\n\r\nexport const rectangle = {\r\n  type: SHAPE,\r\n  title: RECTANGLE,\r\n  description: \"Draw a rectanglular box\",\r\n  drawable: true,\r\n  actionable: false,\r\n  icon: {\r\n    isSVG: true,\r\n    name: \"rectangle.svg\"\r\n  },\r\n  create: function({ canvas }) {\r\n    let id = generateShapeID({ type: RECTANGLE });\r\n    let rect = canvas\r\n      .nested()\r\n      .rect()\r\n      .id(id)\r\n      .addClass(\"labelbox shape\")\r\n      .resize();\r\n    return rect;\r\n  },\r\n  validate: function(el) {\r\n    return Number.parseInt(el.attr(\"width\")) > 3;\r\n  }\r\n};\r\n","import { CIRCLE, SHAPE } from \"../../../utils/tool-names\";\r\nimport { generateShapeID } from \"../../../utils/app\";\r\n\r\nexport const circle = {\r\n  type: SHAPE,\r\n  title: CIRCLE,\r\n  description: \"Draw a circle\",\r\n  drawable: true,\r\n  actionable: false,\r\n  icon: {\r\n    isSVG: true,\r\n    name: \"circle.svg\"\r\n  },\r\n  create: function({ canvas }) {\r\n    let id = generateShapeID({ type: CIRCLE });\r\n    let circle = canvas\r\n      .nested()\r\n      .circle()\r\n      .radius()\r\n      .id(id)\r\n      .addClass(\"labelcircle shape\")\r\n      .resize();\r\n    return circle;\r\n  },\r\n  validate: function(el) {\r\n    return Number.parseInt(el.attr(\"r\")) > 3;\r\n  }\r\n};\r\n","import { POLYGON, SHAPE } from \"../../../utils/tool-names\";\r\nimport { generateShapeID } from \"../../../utils/app\";\r\n\r\nexport const polygon = {\r\n  type: SHAPE,\r\n  title: POLYGON,\r\n  description: \"Draw a polygon\",\r\n  drawable: true,\r\n  actionable: false,\r\n  icon: {\r\n    isSVG: true,\r\n    name: \"polygon.svg\"\r\n  },\r\n  create: function({ canvas }) {\r\n    let id = generateShapeID({ type: POLYGON });\r\n    let polygon = canvas\r\n      .nested()\r\n      .polygon()\r\n      .id(id)\r\n      .addClass(\"labelpolygon shape\")\r\n      .resize();\r\n    return polygon;\r\n  },\r\n  validate: function() {\r\n    return true;\r\n  }\r\n};\r\n","import { POINT } from \"../../../utils/tool-names\";\r\nimport { generateFeaturePointID } from \"../../../utils/app\";\r\n\r\nexport const point = {\r\n  type: POINT,\r\n  title: POINT,\r\n  description: \"Draw a point\",\r\n  drawable: false,\r\n  actionable: true,\r\n  icon: {\r\n    isSVG: true,\r\n    name: \"point.svg\"\r\n  },\r\n  /**\r\n   * Create a point\r\n   * @param {SVG.Container} canvas\r\n   * @param {Event} event - mouse click event\r\n   * @param {SVG.Shape} shape - SVG shape\r\n   * @param {Number} featurePointSize - size of feature point\r\n   * @param {String} featurePointColor - hexadecimal color string\r\n   */\r\n  create: function({\r\n    canvas,\r\n    event,\r\n    shape,\r\n    featurePointSize,\r\n    featurePointColor\r\n  }) {\r\n    let canvasOffset = canvas.node.getBoundingClientRect();\r\n    let point = drawPoint({\r\n      event,\r\n      shape,\r\n      canvasOffset,\r\n      featurePointSize,\r\n      featurePointColor\r\n    });\r\n    return point;\r\n  },\r\n  validate: function() {\r\n    return true;\r\n  }\r\n};\r\n\r\n/**\r\n * Helper function to draw a featurePoint on canvas,\r\n * @param {Event} position - click position\r\n * @param {SVG.Shape} shape - shape that should hold the featurePoint\r\n * @param {DOMReact | Object} canvasOffset - offset of canvas\r\n * @param {Number} featurePointSize - size of feature point\r\n * @param {String} featurePointColor - hexadecimal color string\r\n * @returns {SVG.Circle} - featurePoint SVG\r\n */\r\nexport function drawPoint({\r\n  event = {},\r\n  position = {},\r\n  shape,\r\n  canvasOffset,\r\n  featurePointSize,\r\n  featurePointColor\r\n}) {\r\n  let id = generateFeaturePointID({ shapeID: shape.id() });\r\n  // Get shape location\r\n  var containerOffset = {\r\n    x: parseInt(shape.parent().attr(\"x\"), 10) || 0,\r\n    y: parseInt(shape.parent().attr(\"y\"), 10) || 0\r\n  };\r\n  // Label shape as parent of point\r\n  var point = shape\r\n    .parent()\r\n    .circle()\r\n    .radius(featurePointSize)\r\n    .id(id)\r\n    .addClass(\"labelpoint\")\r\n    .attr({\r\n      for: shape.node.id,\r\n      cx: (event.x || position.cx) - canvasOffset.x - containerOffset.x,\r\n      cy: (event.y || position.cy) - canvasOffset.y - containerOffset.y,\r\n      fill: featurePointColor\r\n    })\r\n    .draggable();\r\n  // Assign a new type to point\r\n  point.type = POINT;\r\n  return point;\r\n}\r\n","import { MOVE } from \"../../../utils/tool-names\";\r\n\r\nexport const move = {\r\n  type: MOVE,\r\n  title: MOVE,\r\n  description: \"Drag and move a shape\",\r\n  drawable: false,\r\n  actionable: false,\r\n  icon: {\r\n    isSVG: false,\r\n    name: \"hand-rock\",\r\n    type: \"far\"\r\n  }\r\n};\r\n","import { ZOOM } from \"../../../utils/tool-names\";\r\n\r\nexport const zoom = {\r\n  type: ZOOM,\r\n  title: ZOOM,\r\n  description: \"Zoom in or zoom out\",\r\n  drawable: false,\r\n  actionable: true,\r\n  icon: {\r\n    isSVG: false,\r\n    name: \"search-plus\",\r\n    type: \"fas\"\r\n  }\r\n};\r\n","import { OPACITY } from \"../../../utils/tool-names\";\r\n\r\nexport const opacity = {\r\n  type: OPACITY,\r\n  title: OPACITY,\r\n  description: \"Change image opacity\",\r\n  drawable: false,\r\n  actionable: true,\r\n  icon: {\r\n    isSVG: false,\r\n    name: \"lightbulb\",\r\n    type: \"far\"\r\n  }\r\n};\r\n","import {\r\n  LABEL_TAG,\r\n  CANVAS_TAG,\r\n  RECTANGLE,\r\n  CIRCLE,\r\n  POLYGON,\r\n  POINT,\r\n  MOVE,\r\n  ZOOM,\r\n  OPACITY\r\n} from \"../../../utils/tool-names\";\r\nimport { rectangle } from \"../tools/rectangle\";\r\nimport { circle } from \"../tools/circle\";\r\nimport { polygon } from \"../tools/polygon\";\r\nimport { point } from \"../tools/point\";\r\nimport { move } from \"../tools/move-tool\";\r\nimport { zoom } from \"../tools/zoom\";\r\nimport { opacity } from \"../tools/opacity\";\r\n\r\nexport const tools = {\r\n  [LABEL_TAG]: {\r\n    [POINT]: point,\r\n    [RECTANGLE]: rectangle,\r\n    [CIRCLE]: circle,\r\n    [POLYGON]: polygon\r\n  },\r\n  [CANVAS_TAG]: {\r\n    [MOVE]: move,\r\n    [ZOOM]: zoom,\r\n    [OPACITY]: opacity\r\n  }\r\n};\r\n","<template lang=\"html\">\r\n  <div\r\n    v-if=\"tools[toolType]\"\r\n  >\r\n    <div\r\n      v-for=\"(tool, index) in tools[toolType]\" :key=\"index\"\r\n      class=\"tool-button\"\r\n      :id=\"tool.title\"\r\n      :ref=\"tool.title\"\r\n      @click=\"dispatch(tool)\"\r\n    >\r\n      <img\r\n        v-if=\"tool.icon.isSVG\"\r\n        :src=\"require('../../assets/icons/' + tool.icon.name)\"\r\n        :alt=\"tool.title\"\r\n      >\r\n      <font-awesome-icon\r\n        v-else\r\n        :icon=\"[tool.icon.type, tool.icon.name]\"\r\n        style=\"font-size: 1.5em\"\r\n      >\r\n      </font-awesome-icon>\r\n      <div>\r\n        {{ tool.title }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  LABEL_TAG,\r\n  RECTANGLE,\r\n  CIRCLE,\r\n  POLYGON,\r\n  POINT,\r\n  MOVE,\r\n  ZOOM,\r\n  OPACITY\r\n} from \"../../utils/tool-names\";\r\nimport { _ } from \"../../utils/app\";\r\nimport { tools as config } from \"./config/config\";\r\nimport { mapGetters, mapMutations } from \"vuex\";\r\n\r\n/**\r\n * Loads the tools specified in config file. Shortcuts can be invoked to select\r\n * tool.\r\n */\r\nexport default {\r\n  props: {\r\n    toolType: {\r\n      type: String,\r\n      default: LABEL_TAG\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // Set list of tools from config\r\n      tools: config\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"action-config\", {\r\n      selectedTool: \"getSelectedTool\"\r\n    })\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"action-config\", {\r\n      setSelectedTool: \"setSelectedTool\"\r\n    }),\r\n\r\n    /**\r\n     * Updates to newly selected tool\r\n     * @param {Tool} tool - selected tool\r\n     */\r\n    dispatch(tool) {\r\n      let currentTool = this.$refs[tool.title][0];\r\n\r\n      if (this.selectedTool && tool.title === this.selectedTool.title) {\r\n        // Unselect current tool\r\n        this.setSelectedTool();\r\n      } else {\r\n        // Select new tool\r\n        this.setSelectedTool({\r\n          dom: currentTool,\r\n          selectedTool: tool\r\n        });\r\n      }\r\n    },\r\n\r\n    /**\r\n     * List of tool shortcuts\r\n     * @param {Event} event - keydown event\r\n     */\r\n    shortcuts(event) {\r\n      let key = event.key;\r\n      // Check if action keys was pressed and map to action key\r\n      let actionKeys = [\"[\", \"]\"];\r\n      if (actionKeys.includes(key) && event.altKey) {\r\n        let sTool = this.selectedTool;\r\n        if (sTool && sTool.title === ZOOM) return;\r\n        key = \"z\";\r\n      }\r\n      // List of available keys and mappings\r\n      let keys = [\"f\", \"r\", \"c\", \"p\", \"m\", \"z\", \"l\"];\r\n      let keyMappings = {\r\n        f: POINT,\r\n        r: RECTANGLE,\r\n        c: CIRCLE,\r\n        p: POLYGON,\r\n        m: MOVE,\r\n        z: ZOOM,\r\n        l: OPACITY\r\n      };\r\n      // Stop if key doesn't exist in list of shortcuts\r\n      if (!keys.includes(key)) return;\r\n      // Check if tool exists in toolbar\r\n      let toolname = keyMappings[key];\r\n      let tools = Object.keys(this.tools[this.toolType]);\r\n      if (!tools.includes(toolname)) return;\r\n      // Activate tool via click\r\n      if (event.altKey && !event.ctrlKey) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        this.$refs[toolname][0].click();\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    /**\r\n     * Attach shortcuts to global keydown event\r\n     */\r\n    _.on(document, \"keydown\", this.shortcuts);\r\n  },\r\n  beforeDestroy() {\r\n    /**\r\n     * Detach shortcuts from global keydown event\r\n     */\r\n    _.off(document, \"keydown\", this.shortcuts);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n  .tool-selected{\r\n    background: coral;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolbox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolbox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./toolbox.vue?vue&type=template&id=77755cd8&scoped=true&lang=html&\"\nimport script from \"./toolbox.vue?vue&type=script&lang=js&\"\nexport * from \"./toolbox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./toolbox.vue?vue&type=style&index=0&id=77755cd8&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77755cd8\",\n  null\n  \n)\n\ncomponent.options.__file = \"toolbox.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"canvas-container\"}},[_c('div',{staticClass:\"canvas-wrapper\",style:({ width: (_vm.imageWidth + 50) + 'px', height: (_vm.imageHeight + 50) + 'px' })},[_c('img',{style:({ width: _vm.imageWidth  + 'px', height: _vm.imageHeight + 'px', opacity: _vm.imageOpacity }),attrs:{\"id\":\"img\",\"src\":_vm.imageSrc}}),_c('div',{ref:\"workcanvas\",style:({ width: _vm.imageWidth + 'px', height: _vm.imageHeight + 'px' }),attrs:{\"id\":\"work-canvas\"},on:{\"click\":_vm.deselectAll,\"mousemove\":_vm.onMouseMove,\"mouseleave\":_vm.onMouseLeave,\"mousedown\":_vm.mouseDown,\"mouseup\":_vm.mouseUp}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from \"vue\";\r\n// Event bus for mouse coordinates\r\nexport const MouseCoordBus = new Vue();\r\n","import store from \"../../store/store\";\r\n\r\nconst debounce = require(\"lodash.debounce\");\r\n\r\nexport let debounceUpdateShape = debounce(function({\r\n  shapeID,\r\n  rbox,\r\n  points,\r\n  featurePoints\r\n}) {\r\n  store.commit(\"image-store/updateFeaturePoints\", { shapeID, featurePoints });\r\n  store.commit(\"image-store/updateShapeDetail\", { shapeID, rbox, points });\r\n},\r\n500);\r\n","<template lang=\"html\">\r\n  <div\r\n    id=\"canvas-container\">\r\n    <div\r\n      class=\"canvas-wrapper\"\r\n      :style=\"{ width: (imageWidth + 50) + 'px', height: (imageHeight + 50) + 'px' }\">\r\n      <img\r\n        id=\"img\"\r\n        :src=\"imageSrc\"\r\n        :style=\"{ width: imageWidth  + 'px', height: imageHeight + 'px', opacity: imageOpacity }\"\r\n      />\r\n      <div\r\n        id=\"work-canvas\"\r\n        ref=\"workcanvas\"\r\n        :style=\"{ width: imageWidth + 'px', height: imageHeight + 'px' }\"\r\n        @click=\"deselectAll\"\r\n        @mousemove=\"onMouseMove\"\r\n        @mouseleave=\"onMouseLeave\"\r\n        @mousedown=\"mouseDown\"\r\n        @mouseup=\"mouseUp\"\r\n      >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from \"vuex\";\r\nimport {\r\n  getCoordinates,\r\n  getSVG,\r\n  generateShapeID,\r\n  generateFeaturePointID,\r\n  _\r\n} from \"../../utils/app\";\r\nimport {\r\n  RECTANGLE,\r\n  CIRCLE,\r\n  POLYGON,\r\n  MOVE,\r\n  SHAPE\r\n} from \"../../utils/tool-names\";\r\nimport { drawPoint } from \"../tools/tools/point\";\r\nimport {\r\n  scaleFeaturePoint,\r\n  scaleFeaturePoints,\r\n  scaleShape,\r\n  scaleShapePoints\r\n} from \"../../utils/scale-shapes\";\r\nimport SVG from \"svg.js\";\r\nimport { MouseCoordBus } from \"../../utils/mouseCoordBus\";\r\nimport { Shape } from \"../../models/Shape\";\r\nimport { FeaturePoint } from \"../../models/FeaturePoint\";\r\nimport { debounceUpdateShape } from \"./util.js\";\r\n\r\n/**\r\n * Workarea is the canvas for the svg shapes to be drawn on.\r\n * Canvas is redrawn when the internal state of the store changes and the visual\r\n * components need to be updated. For example, when the image selected changes\r\n * or when the image scale changes.\r\n *\r\n * But the canvas doesn't need to always be redrawn. Just update the visual\r\n * components themselves would suffice. For example. when the feature points are\r\n * selected via the side panel, we just make sure that the feature points on\r\n * the canvas are selected.\r\n */\r\nexport default {\r\n  data() {\r\n    return {\r\n      // Flag to check if shape is being drawn\r\n      alreadyDrawing: false,\r\n      // SVG canvas\r\n      canvas: null,\r\n      // Shape being drawn\r\n      drawingShape: null\r\n    };\r\n  },\r\n  computed: {\r\n    // Map getters from action-config.js\r\n    ...mapGetters(\"action-config\", {\r\n      copiedElements: \"getCopiedElements\",\r\n      selectedTool: \"getSelectedTool\",\r\n      selectedShapes: \"getSelectedShapes\",\r\n      selectedFeaturePoints: \"getSelectedFeaturePoints\"\r\n    }),\r\n\r\n    // Map getters from image-store.js\r\n    ...mapGetters(\"image-store\", {\r\n      imageSelected: \"getImageSelected\",\r\n      getShapeByID: \"getShapeByID\",\r\n      getShapeFeaturePoints: \"getShapeFeaturePoints\",\r\n      getFeaturePointByID: \"getFeaturePointByID\",\r\n      featurePointSize: \"getFeaturePointSize\"\r\n    }),\r\n\r\n    ...mapGetters(\"app-config\", {\r\n      featurePointColor: \"getFeaturePointColor\"\r\n    }),\r\n\r\n    // Get image width\r\n    imageWidth() {\r\n      return this.imageSelected ? this.imageSelected.size.scaledWidth : 0;\r\n    },\r\n\r\n    // Get image height\r\n    imageHeight() {\r\n      return this.imageSelected ? this.imageSelected.size.scaledHeight : 0;\r\n    },\r\n\r\n    // Get image opacity\r\n    imageOpacity() {\r\n      return this.imageSelected ? this.imageSelected.opacity : 1;\r\n    },\r\n\r\n    // Get image selected source\r\n    imageSrc() {\r\n      return this.imageSelected ? this.imageSelected.src : \"\";\r\n    },\r\n\r\n    // Get image scale\r\n    imageScale() {\r\n      return this.imageSelected ? this.imageSelected.size.imageScale : 0;\r\n    }\r\n  },\r\n  watch: {\r\n    /**\r\n     * Redraw canvas when image changes\r\n     */\r\n    imageSelected() {\r\n      this.setSelectedElements();\r\n      this.drawCanvas();\r\n    },\r\n\r\n    /**\r\n     * Redraw canvas when image scale changes\r\n     */\r\n    imageScale() {\r\n      this.drawCanvas();\r\n    },\r\n\r\n    /**\r\n     * Select shapes when selected shapes are changes\r\n     */\r\n    selectedShapes() {\r\n      this.selectedShapes.forEach(shapeID => {\r\n        let svgShape = getSVG({\r\n          svg: this.$svg,\r\n          id: shapeID\r\n        });\r\n        svgShape.selectize({\r\n          rotationPoint: false\r\n        });\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Select feature points when selected feature points changes\r\n     */\r\n    selectedFeaturePoints() {\r\n      this.selectedFeaturePoints.forEach(featurePointID => {\r\n        let svgFP = getSVG({\r\n          svg: this.$svg,\r\n          id: featurePointID\r\n        });\r\n        svgFP.selectize({\r\n          rotationPoint: false,\r\n          points: []\r\n        });\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"action-config\", [\r\n      \"setCopiedElements\",\r\n      \"addSelectedElement\",\r\n      \"addCopiedElement\",\r\n      \"setSelectedElements\"\r\n    ]),\r\n\r\n    ...mapMutations(\"image-store\", [\r\n      \"addImageToStore\",\r\n      \"addShapeToImage\",\r\n      \"addPointToShape\",\r\n      \"detachShapeFromImage\",\r\n      \"updateFeaturePoint\",\r\n      \"updateShapeDetail\"\r\n    ]),\r\n\r\n    ...mapMutations(\"image-store\", {\r\n      updateFeaturePointsInStore: \"updateFeaturePoints\"\r\n    }),\r\n\r\n    /**\r\n     * Attach drag and click handlers to shape\r\n     * @param {SVG.Shape} shape - SVG shape\r\n     */\r\n    attachEvents(shape) {\r\n      // Only allow shape to be dragged on move tool\r\n      this.dragOnMove(shape);\r\n\r\n      // Drag handler\r\n      this.customDragHandler(shape.parent(), () => {\r\n        if (this.selectedTool && this.selectedTool.type === MOVE) {\r\n          this.updateShapeDetail({\r\n            shapeID: shape.node.id,\r\n            rbox: shape.rbox(this.canvas),\r\n            points: this.getPoints(shape)\r\n          });\r\n          // Update feature point in store\r\n          this.updateFeaturePointsInStore({\r\n            shapeID: shape.id(),\r\n            featurePoints: this.getFeaturePointsFromSVG(shape.id())\r\n          });\r\n        }\r\n      });\r\n\r\n      // Click handler\r\n      shape.on(\"click\", event => {\r\n        event.stopPropagation();\r\n\r\n        if (this.selectedTool && this.selectedTool.type === \"point\") {\r\n          // Selected tool is point, has highest precedence\r\n          var point = drawPoint({\r\n            event,\r\n            shape,\r\n            canvasOffset: this.canvas.node.getBoundingClientRect(),\r\n            featurePointSize: this.featurePointSize,\r\n            featurePointColor: this.featurePointColor\r\n          });\r\n          // Position of point is relative to canvas\r\n          this.addPointToShape({\r\n            shapeID: shape.node.id,\r\n            pointID: point.node.id,\r\n            position: point.rbox(this.canvas)\r\n          });\r\n          this.attachEventsToFeaturePoint(point, shape);\r\n        } else if (event.altKey) {\r\n          // Deep select shape\r\n          this.deselectAll();\r\n          shape.selectize({\r\n            rotationPoint: false,\r\n            deepSelect: true\r\n          });\r\n          this.addSelectedElement({\r\n            shapeID: shape.id()\r\n          });\r\n        } else {\r\n          if (!event.ctrlKey) {\r\n            // Single click event\r\n            this.deselectAll();\r\n          }\r\n          // select current element\r\n          shape.selectize({\r\n            rotationPoint: false\r\n          });\r\n\r\n          this.addSelectedElement({\r\n            shapeID: shape.id()\r\n          });\r\n        }\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Attach drag and click handlers to feature points\r\n     * @param {SVG.Circle} featurePoint - SVG circle representing feature point\r\n     * @param {SVG.Shape} shape - SVG shape\r\n     */\r\n    attachEventsToFeaturePoint(featurePoint, shape) {\r\n      this.dragOnMove(featurePoint);\r\n\r\n      this.customDragHandler(featurePoint, () => {\r\n        this.updateFeaturePoint({\r\n          shapeID: shape.id(),\r\n          pointID: featurePoint.id(),\r\n          position: featurePoint.rbox(this.canvas)\r\n        });\r\n      });\r\n\r\n      featurePoint.on(\"click\", event => {\r\n        shape.selectize(false);\r\n\r\n        if (!event.ctrlKey) {\r\n          // Single select\r\n          this.deselectAll({\r\n            shape: true\r\n          });\r\n        }\r\n\r\n        featurePoint.selectize({\r\n          rotationPoint: false,\r\n          points: []\r\n        });\r\n\r\n        this.addSelectedElement({\r\n          shapeID: shape.id(),\r\n          featurePointID: featurePoint.id()\r\n        });\r\n\r\n        event.stopPropagation();\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Attach draw and resize handlers to a shape\r\n     * @param {SVG.Shape} shape - SVG shape\r\n     */\r\n    attachShapeListeners(shape) {\r\n      // Draw stop handler\r\n      shape.on(\"drawstop\", () => {\r\n        // Set draw stop to false once done with drawing\r\n        this.alreadyDrawing = false;\r\n        this.drawingShape = null;\r\n        /**\r\n         * Add shape to image if valid, remove previously drawn shape otherwise\r\n         * Make sure that the shape size is large enough to prevent accidental draws\r\n         */\r\n        if (!this.selectedTool.validate(shape)) {\r\n          shape.parent().remove();\r\n          shape.remove();\r\n        } else {\r\n          // Make shape draggable\r\n          shape.parent().draggable();\r\n          // Attach shape data\r\n          this.addShapeToImage({\r\n            id: shape.node.id,\r\n            type: shape.type,\r\n            rbox: shape.rbox(this.canvas),\r\n            points: this.getPoints(shape)\r\n          });\r\n          // Attach events to shape\r\n          this.attachEvents(shape);\r\n        }\r\n      });\r\n\r\n      // Resize done handler\r\n      shape.on(\"resizedone\", () => {\r\n        debounceUpdateShape({\r\n          shapeID: shape.node.id,\r\n          rbox: shape.rbox(this.canvas),\r\n          points: this.getPoints(shape)\r\n        });\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Copy selected shapes\r\n     */\r\n    copyShape() {\r\n      // Clear copied elements\r\n      this.setCopiedElements();\r\n\r\n      this.selectedShapes.forEach(shapeID => {\r\n        let shape = this.getShapeByID(shapeID);\r\n        // Copy feature point data\r\n        let _featurePoints = [];\r\n        shape.featurePoints.forEach(pointID => {\r\n          let featurePoint = this.getFeaturePointByID(pointID);\r\n          _featurePoints.push(new FeaturePoint(featurePoint));\r\n        });\r\n        // Copy shape data and add feature point data to shape\r\n        // let _shape = scaleShape({ ...shape, scale: this.imageScale });\r\n        let _shape = new Shape(shape);\r\n        _shape.featurePoints = _featurePoints;\r\n        // Add copied shape to store\r\n        this.addCopiedElement({ item: _shape });\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Custom drag event for SVG shapes\r\n     * @param {SVG.Shape} el - a SVG shape to attach drag listener to\r\n     * @param {Function} cb - callback function\r\n     */\r\n    customDragHandler(el, cb) {\r\n      var mousestate = 0;\r\n      el.on(\"mousedown\", function() {\r\n        mousestate = 1;\r\n\r\n        let _mousemove = function() {\r\n          mousestate = 2;\r\n        };\r\n\r\n        let _mouseup = function(e) {\r\n          if (mousestate === 2) {\r\n            cb && cb(e);\r\n          }\r\n          mousestate = 0;\r\n          // unbind events\r\n          el.off(\"mousemove\", _mousemove);\r\n          el.off(\"mouseup\", _mouseup);\r\n        };\r\n        // bind events\r\n        el.on(\"mousemove\", _mousemove);\r\n        el.on(\"mouseup\", _mouseup);\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Deselects all selected shapes / featurepoints\r\n     * Able to specify which element to keep by passing in an options object\r\n     * @param {Boolean} shape - keep shape if true; else remove\r\n     * @param {Boolean} featurePoint - keep feature points if true; else remove\r\n     */\r\n    deselectAll({ shape = false, featurePoint = false } = {}) {\r\n      // Deselect all svg elements\r\n      this.selectedShapes.forEach(shapeID => {\r\n        let svgShape = getSVG({\r\n          svg: this.$svg,\r\n          id: shapeID\r\n        });\r\n        svgShape.selectize(false);\r\n      });\r\n\r\n      this.selectedFeaturePoints.forEach(featurePointID => {\r\n        let svgFP = getSVG({\r\n          svg: this.$svg,\r\n          id: featurePointID\r\n        });\r\n        svgFP.selectize(false);\r\n      });\r\n\r\n      // Set selected elements\r\n      this.setSelectedElements({\r\n        shapes: shape ? this.selectedShapes : [],\r\n        featurePoints: featurePoint ? this.selectedFeaturePoints : []\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Allows shapes to be dragged only if move tool is selected\r\n     * @param {SVG.Shape} shape - SVG element\r\n     */\r\n    dragOnMove(shape) {\r\n      shape.on(\r\n        \"mousedown\",\r\n        function(event) {\r\n          if (!this.selectedTool || this.selectedTool.type !== \"move\") {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n          }\r\n        },\r\n        this\r\n      );\r\n    },\r\n\r\n    /**\r\n     * Draws all the shapes and fill their labels\r\n     */\r\n    drawCanvas() {\r\n      if (this.canvas) {\r\n        // Removes all children and replaces canvas with a new one\r\n        this.canvas.clear();\r\n        this.canvas.remove();\r\n      }\r\n      this.canvas = SVG(\"work-canvas\");\r\n      // Draws all shapes in image\r\n      this.drawShapes();\r\n    },\r\n\r\n    /**\r\n     * Draws all the feature points in the shape according to\r\n     * current image scale and attach event listeners to points\r\n     * @param {FeaturePoint[]} fPoints - array of shape feature points\r\n     * @param {SVG.Shape} shape - shape that contains the feature points\r\n     */\r\n    drawFeaturePoints(fPoints, shape) {\r\n      let scaledFPoints = scaleFeaturePoints(\r\n        fPoints,\r\n        this.imageSelected.size.imageScale\r\n      );\r\n      for (var fPointIndex in scaledFPoints) {\r\n        var fPoint = drawPoint({\r\n          position: scaledFPoints[fPointIndex],\r\n          canvasOffset: {\r\n            x: 0,\r\n            y: 0\r\n          },\r\n          shape,\r\n          featurePointSize: this.featurePointSize,\r\n          featurePointColor: this.featurePointColor\r\n        });\r\n        fPoint.id(scaledFPoints[fPointIndex].id);\r\n        this.attachEventsToFeaturePoint(fPoint, shape);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Draws a single shape\r\n     * @param {Shape} shape - shape to be drawn\r\n     */\r\n    drawShape(shape) {\r\n      if (!shape) return;\r\n      let scale = this.imageScale;\r\n      let currentShape;\r\n      switch (shape.type) {\r\n        case RECTANGLE: {\r\n          let rect = this.canvas\r\n            .nested()\r\n            .rect(shape.points[2] * scale, shape.points[3] * scale)\r\n            .move(shape.points[0] * scale, shape.points[1] * scale)\r\n            .id(shape.id)\r\n            .addClass(\"labelbox shape\")\r\n            .resize();\r\n          rect.parent().draggable();\r\n          currentShape = rect;\r\n          break;\r\n        }\r\n        case CIRCLE: {\r\n          let circle = this.canvas\r\n            .nested()\r\n            .circle()\r\n            .radius(shape.points[2] * scale)\r\n            .attr({\r\n              cx: shape.points[0] * scale,\r\n              cy: shape.points[1] * scale\r\n            })\r\n            .id(shape.id)\r\n            .addClass(\"labelcircle shape\")\r\n            .resize();\r\n          circle.parent().draggable();\r\n          //Add feature points\r\n          currentShape = circle;\r\n          break;\r\n        }\r\n        case POLYGON: {\r\n          var poly = this.canvas\r\n            .nested()\r\n            .polygon(scaleShapePoints(shape.points, scale, shape.type))\r\n            .id(shape.id)\r\n            .addClass(\"labelpolygon shape\")\r\n            .resize();\r\n          poly.parent().draggable();\r\n          currentShape = poly;\r\n          break;\r\n        }\r\n        default: {\r\n          console.error(shape.type + \" does not exist\");\r\n        }\r\n      }\r\n\r\n      // Sanity checks\r\n      if (currentShape) {\r\n        this.attachEvents(currentShape);\r\n        this.attachShapeListeners(currentShape);\r\n        this.drawFeaturePoints(\r\n          this.getShapeFeaturePoints(currentShape.id()),\r\n          currentShape\r\n        );\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Draws all the shapes in the selected image\r\n     */\r\n    drawShapes() {\r\n      if (this.imageSelected) {\r\n        this.imageSelected.shapes.forEach(shapeID => {\r\n          let shape = this.getShapeByID(shapeID);\r\n          this.drawShape(shape);\r\n        });\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Flush debounced shape updates on keyup event\r\n     * @param {Event} event - keyup event\r\n     */\r\n    flushShortcuts(event) {\r\n      if (\r\n        event.key === \"ArrowLeft\" ||\r\n        event.key === \"ArrowUp\" ||\r\n        event.key === \"ArrowRight\" ||\r\n        event.key === \"ArrowDown\"\r\n      ) {\r\n        debounceUpdateShape.flush();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Gets the feature points from the SVG shape\r\n     * @param {String} shapeID - id of shape\r\n     */\r\n    getFeaturePointsFromSVG(shapeID) {\r\n      let featurePoints = [];\r\n      this.getShapeFeaturePoints(shapeID).forEach(({ id, label }) => {\r\n        let svgFP = getSVG({\r\n          svg: this.$svg,\r\n          id\r\n        });\r\n        let { cx, cy } = svgFP.rbox(this.canvas);\r\n        featurePoints.push(new FeaturePoint({ id, cx, cy, label }));\r\n      });\r\n      return featurePoints;\r\n    },\r\n\r\n    /**\r\n     * Returns shape dimensions, used for exporting data\r\n     * Eg. rectangle - [x-coord, y-coord, height, width]\r\n     * @param {SVG.Shape} shape - SVG shape\r\n     * @returns {Array} array filled with shape dimensions\r\n     */\r\n    getPoints(shape) {\r\n      // Maps each shape type to a function\r\n      let map = {\r\n        [RECTANGLE]: () => {\r\n          // Returns rectangle metadata, [x-coord, y-coord, width, height]\r\n          let box = shape.rbox(this.canvas);\r\n          return [box.x, box.y, box.w, box.h];\r\n        },\r\n        [CIRCLE]: () => {\r\n          // Returns circle metadata, [cx-coord, cy-coord, radius]\r\n          var box = shape.rbox(this.canvas);\r\n          return [box.cx, box.cy, shape.attr(\"r\")];\r\n        },\r\n        [POLYGON]: () => {\r\n          /**\r\n           * Returns a list containing pairs of polygon vertices,\r\n           * [point1.x, point1.y, point2.x, point2.y]\r\n           */\r\n          var parentSvg = shape.parent();\r\n          var calculatedPoints = [];\r\n          // Polygon points are relative to it's container SVG\r\n          var vector = {\r\n            x: parseInt(parentSvg.attr(\"x\"), 10) || 0,\r\n            y: parseInt(parentSvg.attr(\"y\"), 10) || 0\r\n          };\r\n\r\n          shape.array().value.forEach(pointArray => {\r\n            calculatedPoints.push(\r\n              pointArray[0] + vector.x,\r\n              pointArray[1] + vector.y\r\n            );\r\n          });\r\n\r\n          return calculatedPoints;\r\n        }\r\n      };\r\n      return map[shape.type]();\r\n    },\r\n\r\n    /**\r\n     * Mouse down on canvas: Draw shapes\r\n     * @param {Event} event - mouse down event\r\n     */\r\n    mouseDown(event) {\r\n      // Deselect all shapes\r\n      this.deselectAll();\r\n      /**\r\n       * Checks that a drawable tool is selected and there exists no shape\r\n       * being drawn\r\n       */\r\n      if (!this.selectedTool) return;\r\n      if (this.alreadyDrawing) return;\r\n      if (this.selectedTool.type !== SHAPE) return;\r\n\r\n      this.alreadyDrawing = true;\r\n\r\n      // Draw shape, rect/circle/polygon\r\n      let shape = this.selectedTool.create({\r\n        canvas: this.canvas,\r\n        event\r\n      });\r\n\r\n      if (this.selectedTool.title !== POLYGON) {\r\n        // Start drawing shape\r\n        shape.draw(event);\r\n      } else {\r\n        // Adds an event listener for Enter to stop drawing polygon\r\n        shape.on(\"drawstart\", function() {\r\n          _.on(document, \"keydown\", function _stopDrawing(e) {\r\n            if (e.key === \"Enter\") {\r\n              // Stop drawing\r\n              shape.draw(\"done\");\r\n              shape.off(\"drawstart\");\r\n              // Make parent draggable\r\n              shape.parent().draggable();\r\n              // Remove listener\r\n              _.off(document, \"keydown\", _stopDrawing);\r\n            }\r\n          });\r\n        });\r\n      }\r\n      // Set drawn shape\r\n      this.drawingShape = shape;\r\n      // Attach listeners to shape\r\n      this.attachShapeListeners(shape);\r\n    },\r\n\r\n    /**\r\n     * Move selected shape by (dx, dy) pixels from original position\r\n     * @param {Number} dx - move to left if negative; right if positive\r\n     * @param {Number} dy - move to top if negative; bottom if positive\r\n     */\r\n    moveShape({ dx = 0, dy = 0 } = {}) {\r\n      this.selectedShapes.forEach(shapeID => {\r\n        let svgShape = getSVG({\r\n          svg: this.$svg,\r\n          id: shapeID\r\n        });\r\n        svgShape\r\n          .parent()\r\n          .dx(dx)\r\n          .dy(dy);\r\n        debounceUpdateShape({\r\n          shapeID,\r\n          rbox: svgShape.rbox(this.canvas),\r\n          points: this.getPoints(svgShape),\r\n          featurePoints: this.getFeaturePointsFromSVG(shapeID)\r\n        });\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Mouse up event handling\r\n     * @param {Event} event - mouse up event\r\n     */\r\n    mouseUp(event) {\r\n      if (this.drawingShape) {\r\n        // Stops drawing for rectangle/circle; draws point for polygon\r\n        this.drawingShape.draw(event);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Emits \"mouse-move\" event to MouseCoordBus on mouse move\r\n     * @param {Event} event - mouse move event\r\n     */\r\n    onMouseMove(event) {\r\n      let workcanvas = this.$refs.workcanvas;\r\n      let coordinates = getCoordinates(event, workcanvas);\r\n      /**\r\n       * Emits mouse move event to MouseCoordBus\r\n       * @param {Number} x - x coordinate\r\n       * @param {Number} y - y coordinate\r\n       */\r\n      MouseCoordBus.$emit(\"mouse-move\", coordinates.x, coordinates.y);\r\n    },\r\n\r\n    /**\r\n     * Emits \"mouse-leave\" event to MouseCoordBus on mouse leave\r\n     */\r\n    onMouseLeave() {\r\n      /**\r\n       * Emits \"mouse-leave\" event to MouseCoordBus\r\n       */\r\n      MouseCoordBus.$emit(\"mouse-leave\");\r\n    },\r\n\r\n    /**\r\n     * Paste copied shapes to canvas\r\n     */\r\n    pasteShape() {\r\n      // Empty selected elements\r\n      this.setSelectedElements();\r\n\r\n      this.copiedElements.forEach(shape => {\r\n        // Get new shape id\r\n        let shapeID = generateShapeID({ type: shape.type });\r\n        // Scale shape to image\r\n        let scale = this.imageScale / shape.zoomScale;\r\n        let scaledShape = scaleShape({ ...shape, scale });\r\n        // Add shape to image\r\n        this.addShapeToImage({\r\n          ...scaledShape,\r\n          id: shapeID\r\n        });\r\n        // Add shape to selected shapes\r\n        this.addSelectedElement({ shapeID });\r\n        // Add feature points to shape\r\n        shape.featurePoints.forEach(point => {\r\n          let pointID = generateFeaturePointID({ shapeID });\r\n          // scale feature point to image\r\n          let scaledFP = scaleFeaturePoint({ point, scale });\r\n          this.addPointToShape({\r\n            shapeID,\r\n            pointID,\r\n            position: {\r\n              cx: scaledFP.cx,\r\n              cy: scaledFP.cy\r\n            }\r\n          });\r\n        });\r\n      });\r\n      // Redraw canvas\r\n      this.drawCanvas();\r\n    },\r\n\r\n    /**\r\n     * Remove selected shapes from canvas\r\n     */\r\n    removeSelectedShapes() {\r\n      // Del key. removes selected shapes and all feature points in shape\r\n      this.selectedShapes.forEach(shapeID => {\r\n        let svgShape = getSVG({\r\n          svg: this.$svg,\r\n          id: shapeID\r\n        });\r\n        // Deselect shape first\r\n        svgShape.selectize(false);\r\n        // Remove shape from store\r\n        this.detachShapeFromImage({ shapeID });\r\n        // Remove shape and feature points from canvas\r\n        svgShape.parent().clear();\r\n        svgShape.remove();\r\n      });\r\n      // Reset selected elements\r\n      this.setSelectedElements();\r\n    },\r\n\r\n    /**\r\n     * Select all shapes in the current image\r\n     */\r\n    selectAll() {\r\n      if (this.imageSelected) {\r\n        this.imageSelected.shapes.forEach(shapeID => {\r\n          let shape = getSVG({\r\n            svg: this.$svg,\r\n            id: shapeID\r\n          });\r\n          shape.selectize({\r\n            rotationPoint: false\r\n          });\r\n          this.addSelectedElement({\r\n            shapeID\r\n          });\r\n        });\r\n      }\r\n    },\r\n\r\n    /**\r\n     * List of shortcuts\r\n     */\r\n    shortcuts(event) {\r\n      if (event.key === \"Delete\") {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        // Remove selected shapes from canvas\r\n        this.removeSelectedShapes();\r\n      } else if (event.key === \"a\" && event.altKey) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        //Select all the labels\r\n        this.selectAll();\r\n      }\r\n\r\n      // Copy paste shortcuts\r\n      let mapCopyPaste = {\r\n        c: this.copyShape,\r\n        v: this.pasteShape\r\n      };\r\n\r\n      // Ctrl + c|v\r\n      if (mapCopyPaste[event.key] && event.ctrlKey) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n\r\n        mapCopyPaste[event.key]();\r\n        return;\r\n      }\r\n\r\n      // Move shape by 1 pixel shortcut\r\n      let mapMoveShape = {\r\n        ArrowLeft: { dx: -1 },\r\n        ArrowRight: { dx: 1 },\r\n        ArrowUp: { dy: -1 },\r\n        ArrowDown: { dy: 1 }\r\n      };\r\n\r\n      // Ctrl + Shift + Arrow(Left | Right | Up | Down)\r\n      if (mapMoveShape[event.key] && event.ctrlKey && event.shiftKey) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n\r\n        this.moveShape(mapMoveShape[event.key]);\r\n        return;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    // Set up a new canvas\r\n    this.canvas = SVG(\"work-canvas\");\r\n    this.drawCanvas();\r\n    _.on(document, \"keydown\", this.shortcuts);\r\n    _.on(document, \"keyup\", this.flushShortcuts);\r\n  },\r\n  destroyed() {\r\n    // Remove all children and the canvas itself\r\n    this.canvas.clear();\r\n    this.canvas.remove();\r\n    _.off(document, \"keydown\", this.shortcuts);\r\n    _.off(document, \"keyup\", this.flushShortcuts);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n  #canvas-container {\r\n    height: 100%;\r\n    display: block;\r\n    overflow: auto;\r\n    position: relative;\r\n  }\r\n\r\n  #work-canvas {\r\n    position: absolute;\r\n    z-index: 1;\r\n  }\r\n\r\n  #img {\r\n  \tposition: absolute;\r\n  \ttop: 0px;\r\n  \tleft: 0px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workarea.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workarea.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./workarea.vue?vue&type=template&id=1e1bbf6c&scoped=true&lang=html&\"\nimport script from \"./workarea.vue?vue&type=script&lang=js&\"\nexport * from \"./workarea.vue?vue&type=script&lang=js&\"\nimport style0 from \"./workarea.vue?vue&type=style&index=0&id=1e1bbf6c&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e1bbf6c\",\n  null\n  \n)\n\ncomponent.options.__file = \"workarea.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row align-items-center\"},[_c('div',{staticClass:\"col-1\"},[_c('div',{staticStyle:{\"width\":\"50px\",\"text-align\":\"center\",\"padding\":\"10px\"}},[_c('label',[_c('font-awesome-icon',{staticStyle:{\"font-size\":\"1.5em\"},attrs:{\"icon\":\"images\"}}),_c('input',{ref:\"uploadFile\",staticClass:\"filebutton\",attrs:{\"type\":\"file\",\"accept\":\"image/*\",\"multiple\":\"\"},on:{\"change\":_vm.readImageFiles}})],1),_c('label',[_c('font-awesome-icon',{staticStyle:{\"font-size\":\"1.5em\"},attrs:{\"icon\":['far', 'folder-open']}}),_c('input',{ref:\"uploadFolder\",attrs:{\"type\":\"file\",\"webkitdirectory\":\"\",\"mozdirectory\":\"\",\"msdirectory\":\"\",\"odirectory\":\"\",\"directory\":\"\"},on:{\"change\":_vm.readImageFiles}})],1)])]),_c('div',{staticClass:\"col-1\"},[_c('div',{staticStyle:{\"height\":\"100%\",\"text-align\":\"center\"},attrs:{\"id\":\"leftpaddle\"},on:{\"click\":_vm.slideleft}},[_c('span',{staticStyle:{\"width\":\"50px\",\"height\":\"90px\"}},[_c('font-awesome-icon',{staticStyle:{\"font-size\":\"1.5em\"},attrs:{\"icon\":\"chevron-left\"}})],1)])]),_c('div',{staticClass:\"col-9\"},[_c('div',{staticClass:\"photolist-wrapper\",staticStyle:{\"height\":\"90px\",\"width\":\"100%\",\"overflow\":\"hidden\"}},[_c('div',{ref:\"photolist\",staticClass:\"d-flex align-items-center photolist\",staticStyle:{\"height\":\"100%\"},attrs:{\"id\":\"photolist\"}},_vm._l((_vm.thumbnails),function(thumbnail,index){return _c('img',{key:thumbnail.name + index,staticClass:\"thumbnail\",attrs:{\"id\":'thumbnail_' + index,\"src\":thumbnail.src,\"label\":thumbnail.name,\"title\":thumbnail.name,\"width\":_vm.thumbnailWidth,\"data-index\":index},on:{\"click\":function($event){_vm.loadIntoWorkArea(index)}}})}))])]),_c('div',{staticClass:\"col-1\"},[_c('div',{staticStyle:{\"height\":\"100%\",\"text-align\":\"center\"},attrs:{\"id\":\"rightpaddle\"},on:{\"click\":_vm.slideright}},[_c('span',{staticStyle:{\"width\":\"50px\",\"height\":\"90px\"}},[_c('font-awesome-icon',{staticStyle:{\"font-size\":\"1.5em\"},attrs:{\"icon\":\"chevron-right\"}})],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row align-items-center\">\r\n      <div class=\"col-1\">\r\n        <div style=\"width: 50px; text-align: center; padding: 10px;\">\r\n          <label>\r\n            <font-awesome-icon icon=\"images\" style=\"font-size: 1.5em\"></font-awesome-icon>\r\n            <input\r\n              ref=\"uploadFile\"\r\n              type=\"file\"\r\n              class=\"filebutton\"\r\n              accept=\"image/*\"\r\n              @change=\"readImageFiles\"\r\n              multiple/>\r\n          </label>\r\n\r\n          <label>\r\n            <font-awesome-icon :icon=\"['far', 'folder-open']\" style=\"font-size: 1.5em\"></font-awesome-icon>\r\n            <input\r\n              type=\"file\"\r\n              ref=\"uploadFolder\"\r\n              webkitdirectory\r\n              mozdirectory\r\n              msdirectory\r\n              odirectory\r\n              directory\r\n              @change=\"readImageFiles\">\r\n          </label>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-1\">\r\n        <div id=\"leftpaddle\" style=\"height: 100%; text-align: center;\" @click=\"slideleft\">\r\n          <span style=\"width: 50px; height: 90px;\">\r\n            <font-awesome-icon icon=\"chevron-left\" style=\"font-size: 1.5em\"></font-awesome-icon>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-9\">\r\n        <div class=\"photolist-wrapper\" style=\"height:90px; width: 100%; overflow: hidden;\">\r\n          <div\r\n            id=\"photolist\"\r\n            class=\"d-flex align-items-center photolist\"\r\n            ref=\"photolist\"\r\n            style=\"height: 100%;\"\r\n          >\r\n              <img\r\n                v-for=\"(thumbnail, index) in thumbnails\"\r\n                class=\"thumbnail\"\r\n                :id=\"'thumbnail_' + index\"\r\n                :key=\"thumbnail.name + index\"\r\n                :src=\"thumbnail.src\"\r\n                :label=\"thumbnail.name\"\r\n                :title= \"thumbnail.name\"\r\n                :width=\"thumbnailWidth\"\r\n                :data-index=\"index\"\r\n                @click=\"loadIntoWorkArea(index)\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-1\">\r\n        <div id=\"rightpaddle\" style=\"height: 100%; text-align: center;\" @click=\"slideright\">\r\n          <span style=\"width: 50px; height: 90px;\">\r\n            <font-awesome-icon icon=\"chevron-right\" style=\"font-size: 1.5em\"></font-awesome-icon>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from \"vuex\";\r\nimport { Image as _Image } from \"../../models/Image\";\r\nimport { _ } from \"../../utils/app\";\r\n\r\n/**\r\n * Previews images in a carousel like fashion, click on an image to load image\r\n * to workarea and start annotating.\r\n */\r\nexport default {\r\n  props: {\r\n    /**\r\n     * Set thumbnail width\r\n     * @default \"80px\"\r\n     */\r\n    thumbnailWidth: {\r\n      type: String,\r\n      default: \"80px\"\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // Array of Images\r\n      thumbnails: []\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"image-store\", {\r\n      images: \"getImages\"\r\n    })\r\n  },\r\n  methods: {\r\n    /**\r\n     * Map mutations from image-store\r\n     */\r\n    ...mapMutations(\"image-store\", [\"setImageSelected\", \"addImageToStore\"]),\r\n\r\n    /**\r\n     * Loads the image dynamically and stores it in the image store\r\n     * @param {Image} imageData - an Image object from models/Image\r\n     */\r\n    loadImage(imageData) {\r\n      let self = this;\r\n      let image = new Image();\r\n\r\n      image.onload = function() {\r\n        /**\r\n         * we are generating the image dynamically, hence we have to set the\r\n         * onload property before the src.\r\n         */\r\n        let imageSize = {\r\n          width: this.width,\r\n          height: this.height,\r\n          scaledWidth: this.width,\r\n          scaledHeight: this.height,\r\n          imageScale: 1\r\n        };\r\n\r\n        self.addImageToStore({\r\n          src: imageData.src,\r\n          name: imageData.name,\r\n          size: imageSize\r\n        });\r\n      };\r\n\r\n      image.src = imageData.src;\r\n    },\r\n\r\n    /**\r\n     * Set the clicked thumbnail as the image selected\r\n     * @param {Number} index - index in the list of thumbnails\r\n     */\r\n    loadIntoWorkArea(index) {\r\n      let imageSelected = this.thumbnails[index];\r\n      this.setImageSelected(imageSelected);\r\n    },\r\n\r\n    /**\r\n     * Reads file data, loads the image, and stores the image detail in the\r\n     * list of thumbnails\r\n     * @param {File} file - native file interface\r\n     */\r\n    readImageFile(file) {\r\n      if (file.type.startsWith(\"image\")) {\r\n        let reader = new FileReader();\r\n        reader.onload = e => {\r\n          let image = new _Image({ name: file.name, src: e.target.result });\r\n          this.loadImage(image);\r\n          this.thumbnails.push(image);\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Reads a list of files\r\n     * @param {Event} e - native Event interface\r\n     */\r\n    readImageFiles(e) {\r\n      var input = e.srcElement || e.target;\r\n      // note: input.files is an object\r\n      if (input.files && input.files[0]) {\r\n        for (let i = 0; i < input.files.length; i++) {\r\n          this.readImageFile(input.files[i]);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Slides the thumbnail preview to the left\r\n     */\r\n    slideleft() {\r\n      if (!this.thumbnails || this.thumbnails.length === 0) return;\r\n      let firstThumbnail = this.thumbnails.shift();\r\n      this.thumbnails.push(firstThumbnail);\r\n    },\r\n\r\n    /**\r\n     * Slides the thumbnail preview to the right\r\n     */\r\n    slideright() {\r\n      if (!this.thumbnails || this.thumbnails.length === 0) return;\r\n      let lastThumbnail = this.thumbnails.pop();\r\n      this.thumbnails.unshift(lastThumbnail);\r\n    },\r\n\r\n    /**\r\n     * List of shortcuts\r\n     * @param {Event} event - keydown event\r\n     */\r\n    shortcuts(event) {\r\n      // Shortcuts for slide left / right\r\n      let sliderKeys = [\"n\", \"m\"];\r\n      let key = event.key;\r\n      if (sliderKeys.includes(key) && event.ctrlKey && event.altKey) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        key === \"n\" ? this.slideleft() : this.slideright();\r\n      }\r\n\r\n      // Shortcuts for importing image / folder\r\n      // if (key !== \"o\") return;\r\n      // event.preventDefault();\r\n      // event.stopPropagation();\r\n      // if (event.ctrlKey && event.altKey) {\r\n      //   this.$refs.uploadFile.click();\r\n      // } else if (event.altKey) {\r\n      //   this.$refs.uploadFolder.click();\r\n      // }\r\n    }\r\n  },\r\n  watch: {\r\n    /**\r\n     * Reassign thumbnails when images change in image-store\r\n     * @param {Image[]} val - array of Image objects\r\n     */\r\n    images(val) {\r\n      this.thumbnails = val;\r\n    }\r\n  },\r\n  mounted() {\r\n    /**\r\n     * Adds shortcuts to global kydown event handler\r\n     */\r\n    _.on(document, \"keydown\", this.shortcuts);\r\n  },\r\n  beforeDestroy() {\r\n    /**\r\n     * Remove shortcuts from global keydown event handler\r\n     */\r\n    _.off(document, \"keydown\", this.shortcuts);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n  input[type='file'] {\r\n    display: none;\r\n  }\r\n\r\n  .grey-border {\r\n    border: 1px solid grey;\r\n  }\r\n\r\n  .photolist-wrapper {\r\n    position: relative;\r\n    float: left;\r\n    padding: 10px;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .photolist-wrapper .photolist {\r\n    position: relative;\r\n  }\r\n\r\n  .photolist-wrapper .photolist img {\r\n    padding: 2px;\r\n    margin: 2px;\r\n    cursor: pointer;\r\n    background: #F6F6F6;\r\n    border: 1px solid #666;\r\n    opacity: 0.65;\r\n  }\r\n\r\n  .photolist-wrapper .photolist img:hover {\r\n    opacity: 1.0;\r\n    transition: .5s ease;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-slider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-slider.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./image-slider.vue?vue&type=template&id=79e1b87d&scoped=true&lang=html&\"\nimport script from \"./image-slider.vue?vue&type=script&lang=js&\"\nexport * from \"./image-slider.vue?vue&type=script&lang=js&\"\nimport style0 from \"./image-slider.vue?vue&type=style&index=0&id=79e1b87d&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79e1b87d\",\n  null\n  \n)\n\ncomponent.options.__file = \"image-slider.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.selectedShape)?_c('div',[_c('div',{staticClass:\"d-flex flex-column\"},[_c('div',{staticClass:\"mb-2 mt-2\"},[_vm._v(\"\\n      Category Name\\n      \"),_c('autocomplete-input',{staticClass:\"form-group\",attrs:{\"autocompleteClass\":['form-control'],\"value\":_vm.selectedShape.category,\"list\":_vm.appCategories},on:{\"added\":_vm.addCategory,\"selected\":_vm.addCategory}})],1),_c('div',{staticClass:\"mb-2 mt-2\"},[_vm._v(\"\\n      Label Name\\n      \"),_c('input',{staticClass:\"form-text w-100\",attrs:{\"type\":\"text\",\"placeholder\":\"Label the shape, Eg: face, clock ..\"},domProps:{\"value\":_vm.selectedShape.label},on:{\"change\":_vm.updateLabel}})]),_c('panel-attribute'),_c('panel-tag'),_c('panel-feature-point')],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.selectedShape)?_c('div',{on:{\"click\":function($event){$event.stopPropagation();return _vm.forceFocusOut($event)}}},[_c('p',{staticClass:\"mb-2\"},[_c('small',[_vm._v(\"\\n    Feature Points \"+_vm._s(_vm.featurePoints.length)+\"\\n    \")])]),_c('div',{attrs:{\"id\":\"feature-points-list\"}},[_c('ul',{attrs:{\"id\":\"fpoints-list\"}},[_c('li',{staticClass:\"li-fpoints grey-border\"},[_c('draggable',{model:{value:(_vm.featurePoints),callback:function ($$v) {_vm.featurePoints=$$v},expression:\"featurePoints\"}},_vm._l((_vm.featurePoints),function(featurePoint){return _c('div',{key:featurePoint.id,staticClass:\"d-flex align-items-center\"},[_c('input',{ref:featurePoint.id,refInFor:true,staticClass:\"form-control\",class:{ focusInput : _vm.selectedFeaturePoints.includes(featurePoint.id) },staticStyle:{\"width\":\"100px\"},attrs:{\"type\":\"text\",\"placeholder\":\"Label the feature point\"},domProps:{\"value\":featurePoint.label},on:{\"click\":function($event){$event.stopPropagation();_vm.onClick($event, featurePoint)},\"change\":function($event){_vm.setFeaturePointLabel($event, featurePoint)},\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.setFeaturePointLabel($event, featurePoint)}}}),_c('font-awesome-icon',{staticStyle:{\"font-size\":\"1.5em\"},attrs:{\"icon\":['far', 'trash-alt']},on:{\"click\":function($event){$event.stopPropagation();_vm.deleteFeaturePoint(featurePoint.id)}}})],1)}))],1)])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\r\n  <div\r\n    v-if=\"selectedShape\"\r\n    @click.stop=\"forceFocusOut\"\r\n  >\r\n    <p class=\"mb-2\">\r\n      <small>\r\n      Feature Points {{ featurePoints.length }}\r\n      </small>\r\n    </p>\r\n\r\n    <div\r\n      id=\"feature-points-list\"\r\n    >\r\n      <ul id=\"fpoints-list\">\r\n        <li\r\n          class=\"li-fpoints grey-border\">\r\n          <draggable v-model=\"featurePoints\">\r\n            <div\r\n              v-for=\"featurePoint in featurePoints\"\r\n              class=\"d-flex align-items-center\"\r\n              :key=\"featurePoint.id\"\r\n            >\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                placeholder=\"Label the feature point\"\r\n                style=\"width: 100px;\"\r\n                :class=\"{ focusInput : selectedFeaturePoints.includes(featurePoint.id) }\"\r\n                :ref=\"featurePoint.id\"\r\n                :value=\"featurePoint.label\"\r\n                @click.stop=\"onClick($event, featurePoint)\"\r\n                @change=\"setFeaturePointLabel($event, featurePoint)\"\r\n                @keyup.enter=\"setFeaturePointLabel($event, featurePoint)\"\r\n              >\r\n              <font-awesome-icon\r\n                :icon=\"['far', 'trash-alt']\"\r\n                style=\"font-size: 1.5em\"\r\n                @click.stop=\"deleteFeaturePoint(featurePoint.id)\"\r\n              >\r\n              </font-awesome-icon>\r\n            </div>\r\n          </draggable>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from \"vuex\";\r\nimport { getSVG } from \"../../../utils/app\";\r\n\r\n/**\r\n * Shows the list of shape feature points. Feature points can be reordered by\r\n * dragging the list item.\r\n */\r\nexport default {\r\n  computed: {\r\n    ...mapGetters(\"action-config\", {\r\n      selectedShape: \"getSelectedShape\",\r\n      selectedFeaturePoints: \"getSelectedFeaturePoints\"\r\n    }),\r\n\r\n    ...mapGetters(\"image-store\", {\r\n      getFeaturePointByID: \"getFeaturePointByID\",\r\n      getShapeFeaturePointIDs: \"getShapeFeaturePointIDs\",\r\n      getShapeFeaturePoints: \"getShapeFeaturePoints\"\r\n    }),\r\n\r\n    /**\r\n     * Computed getter and setter needed for draggable component\r\n     */\r\n    featurePoints: {\r\n      get() {\r\n        let shapeID = this.selectedShape;\r\n        return shapeID && this.getShapeFeaturePoints(shapeID);\r\n      },\r\n      set(val) {\r\n        let shapeID = this.selectedShape;\r\n        this.updateFeaturePoints({\r\n          shapeID,\r\n          featurePoints: val\r\n        });\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"image-store\", {\r\n      updateFeaturePoint: \"updateFeaturePoint\",\r\n      updateFeaturePoints: \"updateFeaturePoints\"\r\n    }),\r\n\r\n    ...mapMutations(\"action-config\", {\r\n      addSelectedElement: \"addSelectedElement\",\r\n      setSelectedElements: \"setSelectedElements\"\r\n    }),\r\n\r\n    /**\r\n     * Removes feature point from canvas and store\r\n     * @param {String} featurePointID - feature point id\r\n     */\r\n    deleteFeaturePoint(featurePointID) {\r\n      let shapeID = this.selectedShape;\r\n\r\n      // Deselect feature point and remove from canvas\r\n      let svgFP = getSVG({ svg: this.$svg, id: featurePointID });\r\n      svgFP.selectize(false);\r\n      svgFP.remove();\r\n\r\n      // Remove feature point from shape\r\n      this.$store.commit(\"image-store/detachFeaturePoint\", {\r\n        shapeID,\r\n        featurePointID\r\n      });\r\n\r\n      // Remove from list of selected feature points\r\n      this.$store.commit(\"action-config/removeSelectedElement\", {\r\n        featurePointID\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Deselect shape on canvas, does not remove shape from store\r\n     */\r\n    deselectShape() {\r\n      let svgShape = getSVG({ svg: this.$svg, id: this.selectedShape });\r\n      svgShape.selectize(false);\r\n    },\r\n\r\n    /**\r\n     * Deselect and remove all feature points in selected shape\r\n     */\r\n    deselectShapeFeaturePoints() {\r\n      this.selectedFeaturePoints.forEach(featurePointID => {\r\n        let svgFP = getSVG({ svg: this.$svg, id: featurePointID });\r\n        svgFP.selectize(false);\r\n      });\r\n\r\n      // Remove feature points from store\r\n      this.setSelectedElements({ shapes: this.selectedShape });\r\n    },\r\n\r\n    /**\r\n     * Handles behavior when list loses focus by clicking on the component\r\n     */\r\n    forceFocusOut() {\r\n      this.deselectShapeFeaturePoints();\r\n      let shape = getSVG({ svg: this.$svg, id: this.selectedShape });\r\n      shape.selectize({ rotationPoint: false });\r\n    },\r\n\r\n    /**\r\n     * Set selected elements (featurePoints) on click\r\n     * @param {Event} event - click event\r\n     * @param {FeaturePoint} featurePoint - featurePoint\r\n     */\r\n    onClick(event, featurePoint) {\r\n      if (!event.ctrlKey) this.deselectShapeFeaturePoints();\r\n      this.deselectShape();\r\n      this.addSelectedElement({ featurePointID: featurePoint.id });\r\n    },\r\n\r\n    /**\r\n     * Sets the feature point label\r\n     * @param {Event} event - change / keyup.enter event\r\n     * @param {FeaturePoint} featurePoint - FeaturePoint\r\n     */\r\n    setFeaturePointLabel(event, featurePoint) {\r\n      // Stop if feature point label hasn't changed\r\n      if (event.target.value === featurePoint.label) return;\r\n\r\n      this.updateFeaturePoint({\r\n        pointID: featurePoint.id,\r\n        newLabel: event.target.value\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n  .li-fpoints {\r\n    margin: 5px 0px;\r\n    border-radius: 6px;\r\n    width: 100%;\r\n    list-style: none;\r\n  }\r\n\r\n  #fpoints-list {\r\n    list-style-type: none;\r\n    margin: 0;\r\n    padding: 0;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  #feature-points-list {\r\n    margin-top: 10px;\r\n    overflow-x: auto;\r\n  }\r\n\r\n  .panel-wrapper {\r\n    height: 100%;\r\n  }\r\n\r\n  .focusInput {\r\n    box-shadow: 0 0 5px rgba(81, 203, 238, 1);\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel-feature-point.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel-feature-point.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./panel-feature-point.vue?vue&type=template&id=a63dc77e&scoped=true&lang=html&\"\nimport script from \"./panel-feature-point.vue?vue&type=script&lang=js&\"\nexport * from \"./panel-feature-point.vue?vue&type=script&lang=js&\"\nimport style0 from \"./panel-feature-point.vue?vue&type=style&index=0&id=a63dc77e&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a63dc77e\",\n  null\n  \n)\n\ncomponent.options.__file = \"panel-feature-point.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrapper\"},[_c('div',{staticClass:\"tags-header\"},[_vm._v(\"\\n    Tags\\n  \")]),_c('div',{staticClass:\"form-group\",on:{\"click\":_vm.focusInput}},[_c('draggable',{model:{value:(_vm.shapeTags),callback:function ($$v) {_vm.shapeTags=$$v},expression:\"shapeTags\"}},_vm._l((_vm.shapeTags),function(tag){return _c('div',{key:tag,staticClass:\"tags\",class:{ focused: tag === _vm.selectedTag }},[_vm._v(\"\\n        \"+_vm._s(tag)+\"\\n        \"),_c('font-awesome-icon',{staticStyle:{\"font-size\":\"1.5em\",\"padding\":\"5px\"},attrs:{\"icon\":['fas', 'times']},on:{\"click\":function($event){_vm.removeTagByCross(tag)}}})],1)})),_c('label',{attrs:{\"for\":\"tag-input\"}},[_c('input',{ref:\"taginput\",attrs:{\"id\":\"tag-input\",\"type\":\"text\",\"name\":\"tag-input\",\"placeholder\":\"Enter Tag\"},domProps:{\"value\":_vm.tagText},on:{\"input\":_vm.onInput,\"change\":_vm.addTag,\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"delete\",[8,46],$event.key,[\"Backspace\",\"Delete\"])){ return null; }return _vm.removeTagByBackspace($event)}}})])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\r\n  <div\r\n    ref=\"wrapper\"\r\n  >\r\n    <div class=\"tags-header\">\r\n      Tags\r\n    </div>\r\n    <div\r\n      class=\"form-group\"\r\n      @click=\"focusInput\"\r\n    >\r\n      <draggable\r\n        v-model=\"shapeTags\"\r\n      >\r\n        <div\r\n          v-for=\"tag in shapeTags\"\r\n          class=\"tags\"\r\n          :class=\"{ focused: tag === selectedTag }\"\r\n          :key=\"tag\"\r\n        >\r\n          {{ tag }}\r\n          <font-awesome-icon\r\n            :icon=\"['fas', 'times']\"\r\n            style=\"font-size: 1.5em; padding: 5px;\"\r\n            @click=\"removeTagByCross(tag)\"\r\n          >\r\n          </font-awesome-icon>\r\n        </div>\r\n      </draggable>\r\n\r\n      <label for=\"tag-input\">\r\n        <input\r\n          id=\"tag-input\"\r\n          ref=\"taginput\"\r\n          type=\"text\"\r\n          name=\"tag-input\"\r\n          placeholder=\"Enter Tag\"\r\n          :value=\"tagText\"\r\n          @input=\"onInput\"\r\n          @change=\"addTag\"\r\n          @keyup.delete=\"removeTagByBackspace\"\r\n        >\r\n      </label>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from \"vuex\";\r\n\r\n/**\r\n * List the shape tags. Duplicate tags are not allowed. Tags and be reordered by\r\n * dragging.\r\n */\r\nexport default {\r\n  data() {\r\n    return {\r\n      // Used to set focus to selected tag\r\n      selectedTag: null,\r\n      // Input tag text\r\n      tagText: \"\"\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"label-data\", {\r\n      appTags: \"getTags\"\r\n    }),\r\n\r\n    ...mapGetters(\"action-config\", {\r\n      selectedShapeID: \"getSelectedShape\"\r\n    }),\r\n\r\n    ...mapGetters(\"image-store\", {\r\n      getShapeByID: \"getShapeByID\"\r\n    }),\r\n\r\n    /**\r\n     * Computed getter and setter needed by draggable component\r\n     */\r\n    shapeTags: {\r\n      get() {\r\n        let shape = this.getShapeByID(this.selectedShapeID);\r\n        return shape && shape.tags;\r\n      },\r\n\r\n      set(val) {\r\n        this.updateShapeDetail({ shapeID: this.selectedShapeID, tags: val });\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"image-store\", {\r\n      addTagToShape: \"addTagToShape\",\r\n      removeTagFromShape: \"removeTagFromShape\",\r\n      updateShapeDetail: \"updateShapeDetail\"\r\n    }),\r\n\r\n    ...mapMutations(\"label-data\", {\r\n      addTagToApp: \"addTag\"\r\n    }),\r\n\r\n    /**\r\n     * Adds tag to shape and store\r\n     * @param {Event} event - change event\r\n     */\r\n    addTag(event) {\r\n      let tag = event.target.value;\r\n      let shapeID = this.selectedShapeID;\r\n      this.addTagToShape({ shapeID, tag });\r\n      this.addTagToApp({ tag });\r\n      // Clear input after adding tags\r\n      this.tagText = \"\";\r\n    },\r\n\r\n    /**\r\n     * Sets focus on input tag\r\n     */\r\n    focusInput() {\r\n      let inputNode = this.$refs.taginput;\r\n      inputNode.focus();\r\n    },\r\n\r\n    /**\r\n     * Set tag text to event value and set selected tag to null\r\n     * @param {Event} event - input event\r\n     */\r\n    onInput(event) {\r\n      this.tagText = event.target.value;\r\n      this.selectedTag = null;\r\n    },\r\n\r\n    /**\r\n     * Remove tag on click event on cross\r\n     * @param {String} tag - tag value\r\n     */\r\n    removeTagByCross(tag) {\r\n      let shapeID = this.selectedShapeID;\r\n      tag && this.removeTagFromShape({ shapeID, tag });\r\n    },\r\n\r\n    /**\r\n     * Remove tag when backspace is pressed on the active and empty input tag\r\n     */\r\n    removeTagByBackspace() {\r\n      // Stop if there's text in input tag\r\n      if (this.tagText.length !== 0) return;\r\n\r\n      // Stop and remove tag only if there's one selected\r\n      if (this.selectedTag !== null) {\r\n        let shapeID = this.selectedShapeID;\r\n        this.removeTagFromShape({ shapeID, tag: this.selectedTag });\r\n        // Reset flag to null\r\n        this.selectedTag = null;\r\n        // Focus input tag again\r\n        this.$refs.taginput.focus();\r\n        return;\r\n      }\r\n\r\n      // Focus and select on tag if one exists\r\n      let tags = this.shapeTags;\r\n      let lastTag = tags.slice(-1)[0];\r\n      if (lastTag) {\r\n        this.selectedTag = lastTag;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n  input {\r\n    border: none;\r\n  }\r\n\r\n  .tags {\r\n    background-color: #26a69a;\r\n    margin: 5px;\r\n    border-radius: 5%;\r\n    display: inline-block;\r\n  }\r\n\r\n  label {\r\n    display: inline-block;\r\n  }\r\n\r\n  ul {\r\n    list-style: none;\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n\r\n  .focused {\r\n    background-color: #00766c;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel-tag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel-tag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./panel-tag.vue?vue&type=template&id=18daf59c&scoped=true&lang=html&\"\nimport script from \"./panel-tag.vue?vue&type=script&lang=js&\"\nexport * from \"./panel-tag.vue?vue&type=script&lang=js&\"\nimport style0 from \"./panel-tag.vue?vue&type=style&index=0&id=18daf59c&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18daf59c\",\n  null\n  \n)\n\ncomponent.options.__file = \"panel-tag.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('div',{staticClass:\"clearfix\"},[_vm._v(\"\\n    Attributes\\n  \")]),(_vm.shapeAttributes.length)?_c('div',{staticClass:\"mb-2\",attrs:{\"id\":\"attributes-list\"}},_vm._l((_vm.shapeAttributes),function(attribute,index){return _c('div',{key:index,staticClass:\"d-flex align-items-start\",staticStyle:{\"margin-top\":\"3px\"}},[_c('autocomplete-input',{staticClass:\"form-text w-40\",attrs:{\"list\":_vm.suggestedProperties,\"value\":attribute.property,\"autocompleteClass\":['form-control', 'w-100']},on:{\"added\":function($event){_vm.updateAttributeProp(attribute, $event)},\"selected\":function($event){_vm.updateAttributeProp(attribute, $event)}}}),_c('autocomplete-input',{staticClass:\"form-text w-60\",attrs:{\"list\":_vm.suggestedValues(attribute.property),\"value\":attribute.value,\"autocompleteClass\":['form-control', 'w-100']},on:{\"added\":function($event){_vm.updateAttributeValue(attribute, $event)},\"selected\":function($event){_vm.updateAttributeValue(attribute, $event)}}}),_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"name\":\"button\"},on:{\"click\":function($event){_vm.removeAttribute(index)}}},[_c('font-awesome-icon',{staticStyle:{\"font-size\":\"1.5em\"},attrs:{\"icon\":['far', 'trash-alt']}})],1)],1)})):_vm._e(),_c('div',{staticClass:\"d-flex align-items-start\"},[_c('autocomplete-input',{staticClass:\"form-text w-40\",attrs:{\"value\":_vm.enterProperty,\"list\":_vm.suggestedProperties,\"autocompleteClass\":['form-control', 'w-100']},on:{\"added\":function($event){_vm.enterProperty = $event},\"selected\":function($event){_vm.enterProperty = $event}}}),_c('autocomplete-input',{staticClass:\"form-text w-60\",attrs:{\"value\":_vm.enterValue,\"list\":_vm.suggestedValues(_vm.enterProperty),\"autocompleteClass\":['form-control', 'w-100']},on:{\"added\":function($event){_vm.enterValue = $event},\"selected\":function($event){_vm.enterValue = $event}}}),_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\",\"name\":\"button\"},on:{\"click\":_vm.addAttribute}},[_c('font-awesome-icon',{staticStyle:{\"font-size\":\"1.5em\"},attrs:{\"icon\":['fas', 'plus']}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\r\n  <div class=\"\">\r\n    <div class=\"clearfix\">\r\n      Attributes\r\n    </div>\r\n    <!-- End of attribute heading -->\r\n    <div\r\n      v-if=\"shapeAttributes.length\"\r\n      class=\"mb-2\"\r\n      id=\"attributes-list\"\r\n    >\r\n      <div\r\n        class=\"d-flex align-items-start\"\r\n        style=\"margin-top:3px;\"\r\n        v-for=\"(attribute, index) in shapeAttributes\"\r\n        :key=\"index\"\r\n      >\r\n        <autocomplete-input\r\n          class=\"form-text w-40\"\r\n          :list=\"suggestedProperties\"\r\n          :value=\"attribute.property\"\r\n          :autocompleteClass=\"['form-control', 'w-100']\"\r\n          @added=\"updateAttributeProp(attribute, $event)\"\r\n          @selected=\"updateAttributeProp(attribute, $event)\"\r\n        >\r\n        </autocomplete-input>\r\n        <autocomplete-input\r\n          class=\"form-text w-60\"\r\n          :list=\"suggestedValues(attribute.property)\"\r\n          :value=\"attribute.value\"\r\n          :autocompleteClass=\"['form-control', 'w-100']\"\r\n          @added=\"updateAttributeValue(attribute, $event)\"\r\n          @selected=\"updateAttributeValue(attribute, $event)\"\r\n        >\r\n        </autocomplete-input>\r\n        <button\r\n          type=\"button\"\r\n          name=\"button\"\r\n          class=\"btn\"\r\n          @click=\"removeAttribute(index)\"\r\n        >\r\n          <font-awesome-icon\r\n            :icon=\"['far', 'trash-alt']\"\r\n            style=\"font-size: 1.5em;\"\r\n          ></font-awesome-icon>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <!-- End of attribute list -->\r\n    <div class=\"d-flex align-items-start\">\r\n      <autocomplete-input\r\n        class=\"form-text w-40\"\r\n        :value=\"enterProperty\"\r\n        :list=\"suggestedProperties\"\r\n        :autocompleteClass=\"['form-control', 'w-100']\"\r\n        @added=\"enterProperty = $event\"\r\n        @selected=\"enterProperty = $event\"\r\n      >\r\n      </autocomplete-input>\r\n      <autocomplete-input\r\n        class=\"form-text w-60\"\r\n        :value=\"enterValue\"\r\n        :list=\"suggestedValues(enterProperty)\"\r\n        :autocompleteClass=\"['form-control', 'w-100']\"\r\n        @added=\"enterValue = $event\"\r\n        @selected=\"enterValue = $event\"\r\n      >\r\n      </autocomplete-input>\r\n      <button\r\n        type=\"button\"\r\n        name=\"button\"\r\n        class=\"btn\"\r\n        @click=\"addAttribute\"\r\n      >\r\n        <font-awesome-icon\r\n          :icon=\"['fas', 'plus']\"\r\n          style=\"font-size: 1.5em;\"\r\n        ></font-awesome-icon>\r\n      </button>\r\n    </div>\r\n    <!-- End of add attribute -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from \"vuex\";\r\n\r\n/**\r\n * Panel that shows a list of shape attributes. Allows users to add or remove\r\n * existing attributes.\r\n */\r\nexport default {\r\n  data() {\r\n    return {\r\n      // Property to be added\r\n      enterProperty: \"\",\r\n      // Value to be added\r\n      enterValue: \"\"\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"label-data\", {\r\n      suggestedProperties: \"getProperties\",\r\n      getSuggestedValues: \"getValues\"\r\n    }),\r\n\r\n    ...mapGetters(\"action-config\", {\r\n      selectedShapeID: \"getSelectedShape\"\r\n    }),\r\n\r\n    ...mapGetters(\"image-store\", {\r\n      getShapeAttributes: \"getShapeAttributes\"\r\n    }),\r\n\r\n    /**\r\n     * Return shape attributes\r\n     */\r\n    shapeAttributes() {\r\n      let shapeID = this.selectedShapeID;\r\n      return shapeID && this.getShapeAttributes(shapeID);\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"label-data\", {\r\n      addAttributeToApp: \"addAttribute\",\r\n      addPropertyToApp: \"addProperty\",\r\n      addValueToApp: \"addValue\"\r\n    }),\r\n\r\n    ...mapMutations(\"image-store\", {\r\n      addAttributeToShape: \"addAttributeToShape\",\r\n      removeAttributeFromShape: \"removeAttributeFromShape\",\r\n      updateAttribute: \"updateAttribute\"\r\n    }),\r\n\r\n    /**\r\n     * Adds an attribute to both shape and store\r\n     */\r\n    addAttribute() {\r\n      this.$nextTick(function() {\r\n        let shapeID = this.selectedShapeID;\r\n        let property = this.enterProperty;\r\n        let value = this.enterValue;\r\n\r\n        if (!property || !value) return;\r\n\r\n        this.addAttributeToShape({ shapeID, property, value });\r\n        this.addAttributeToApp({ property, value });\r\n        this.enterProperty = \"\";\r\n        this.enterValue = \"\";\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Remove an attribute from shape based on index\r\n     * @param {Number} index - list item index\r\n     */\r\n    removeAttribute(index) {\r\n      let shapeID = this.selectedShapeID;\r\n      this.removeAttributeFromShape({ shapeID, index });\r\n    },\r\n\r\n    /**\r\n     * Returns a list of suggested values for autocompletion\r\n     * @param {String} property - property used for filtering\r\n     * @return {String[]} array of suggested values\r\n     */\r\n    suggestedValues(property) {\r\n      return this.getSuggestedValues(property);\r\n    },\r\n\r\n    /**\r\n     * Updates an attribute property when it's changed\r\n     * @param {Attribute} attribute - contains old property-value pair\r\n     * @param {String} newProp - new property\r\n     */\r\n    updateAttributeProp(attribute, newProp) {\r\n      let shapeID = this.selectedShapeID;\r\n      this.updateAttribute({\r\n        shapeID,\r\n        oldProp: attribute.property,\r\n        oldValue: attribute.value,\r\n        newProp,\r\n        newValue: attribute.value\r\n      });\r\n      this.addAttributeToApp({ property: newProp, value: attribute.value });\r\n    },\r\n\r\n    /**\r\n     * Update attribute value when it's changed\r\n     * @param {Attribute} attribute - contains old property and value\r\n     * @param {String} newValue - new value\r\n     */\r\n    updateAttributeValue(attribute, newValue) {\r\n      let shapeID = this.selectedShapeID;\r\n      this.updateAttribute({\r\n        shapeID,\r\n        oldProp: attribute.property,\r\n        oldValue: attribute.value,\r\n        newProp: attribute.property,\r\n        newValue: newValue\r\n      });\r\n      this.addAttributeToApp({ property: attribute.property, value: newValue });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n  .add-attr {\r\n    background-color: red;\r\n  }\r\n\r\n  .border {\r\n    border: 20px solid;\r\n  }\r\n\r\n  .w-40 {\r\n    width: 40%;\r\n  }\r\n\r\n  .w-60 {\r\n    width: 60%;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel-attribute.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel-attribute.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./panel-attribute.vue?vue&type=template&id=87ef713a&scoped=true&lang=html&\"\nimport script from \"./panel-attribute.vue?vue&type=script&lang=js&\"\nexport * from \"./panel-attribute.vue?vue&type=script&lang=js&\"\nimport style0 from \"./panel-attribute.vue?vue&type=style&index=0&id=87ef713a&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"87ef713a\",\n  null\n  \n)\n\ncomponent.options.__file = \"panel-attribute.vue\"\nexport default component.exports","<template lang=\"html\">\r\n  <div\r\n    v-if=\"selectedShape\"\r\n  >\r\n    <div\r\n      class=\"d-flex flex-column\"\r\n    >\r\n      <div class=\"mb-2 mt-2\">\r\n        Category Name\r\n        <autocomplete-input\r\n          class=\"form-group\"\r\n          :autocompleteClass=\"['form-control']\"\r\n          :value=\"selectedShape.category\"\r\n          :list=\"appCategories\"\r\n          @added=\"addCategory\"\r\n          @selected=\"addCategory\"\r\n        >\r\n        </autocomplete-input>\r\n      </div>\r\n      <div class=\"mb-2 mt-2\">\r\n        Label Name\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-text w-100\"\r\n          placeholder=\"Label the shape, Eg: face, clock ..\"\r\n          :value=\"selectedShape.label\"\r\n          @change=\"updateLabel\"\r\n        >\r\n      </div>\r\n      <panel-attribute></panel-attribute>\r\n      <panel-tag></panel-tag>\r\n      <panel-feature-point></panel-feature-point>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from \"vuex\";\r\nimport PanelFeaturePoint from \"./panel/panel-feature-point\";\r\nimport PanelTag from \"./panel/panel-tag\";\r\nimport PanelAttribute from \"./panel/panel-attribute\";\r\n\r\n/**\r\n * Side panel that displays the shape category, attributes, tags, and\r\n * feature points.\r\n */\r\nexport default {\r\n  components: {\r\n    \"panel-feature-point\": PanelFeaturePoint,\r\n    \"panel-tag\": PanelTag,\r\n    \"panel-attribute\": PanelAttribute\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"action-config\", {\r\n      selectedShapeID: \"getSelectedShape\"\r\n    }),\r\n\r\n    ...mapGetters(\"image-store\", {\r\n      getShapeByID: \"getShapeByID\"\r\n    }),\r\n\r\n    ...mapGetters(\"label-data\", {\r\n      appCategories: \"getCategory\"\r\n    }),\r\n\r\n    /**\r\n     * Returns the selected shape from image-store\r\n     */\r\n    selectedShape() {\r\n      return this.selectedShapeID && this.getShapeByID(this.selectedShapeID);\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"image-store\", {\r\n      setShapeCategory: \"setShapeCategory\",\r\n      updateShapeDetail: \"updateShapeDetail\"\r\n    }),\r\n\r\n    ...mapMutations(\"label-data\", {\r\n      addCategoryToApp: \"addCategory\"\r\n    }),\r\n\r\n    /**\r\n     * Adds a new category via `added` event\r\n     * @param {String} category - category\r\n     */\r\n    addCategory(category) {\r\n      this.setShapeCategory({\r\n        category,\r\n        shapeID: this.selectedShapeID\r\n      });\r\n      this.addCategoryToApp({ category });\r\n    },\r\n\r\n    /**\r\n     * Updates shape label\r\n     * @param {Event} event - change event\r\n     */\r\n    updateLabel(event) {\r\n      this.updateShapeDetail({\r\n        shapeID: this.selectedShapeID,\r\n        label: event.target.value\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n  .hidePanel {\r\n    display: none;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./label-panel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./label-panel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./label-panel.vue?vue&type=template&id=58a7cf7a&scoped=true&lang=html&\"\nimport script from \"./label-panel.vue?vue&type=script&lang=js&\"\nexport * from \"./label-panel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./label-panel.vue?vue&type=style&index=0&id=58a7cf7a&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58a7cf7a\",\n  null\n  \n)\n\ncomponent.options.__file = \"label-panel.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('div',{staticClass:\"dropdown\"},[_c('div',{staticClass:\"dropbtn\"},[_c('font-awesome-icon',{staticStyle:{\"font-size\":\"1.5em\",\"color\":\"green\"},attrs:{\"icon\":['fas', 'bars']}})],1),_c('div',{staticClass:\"dropdown-content\"},[_c('a',{attrs:{\"href\":\"#\"}},[_c('label',{staticClass:\"btn-bs-file\"},[_vm._v(\"Open\\n          \"),_c('input',{ref:\"open\",staticClass:\"filebutton\",attrs:{\"type\":\"file\",\"accept\":\".fpp,.nimn,.xml,.json\"},on:{\"change\":_vm.openFile}})]),_c('span',[_vm._v(\"Ctrl + i\")])]),_c('a',{ref:\"save\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.showModal = true}}},[_c('label',[_vm._v(\"Save\")]),_c('span',[_vm._v(\"Ctrl + e\")])]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":_vm.openSettings}},[_vm._v(\"\\n        Settings\\n      \")])])]),(_vm.showModal)?_c('modal-save',{on:{\"close\":function($event){_vm.showModal = false}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\r\n  name: \"image-store\",\r\n  type: \"map\",\r\n  detail: [\r\n    {\r\n      name: \"images\",\r\n      type: \"varmap\",\r\n      detail: {\r\n        type: \"map\",\r\n        detail: [\r\n          {\r\n            name: \"name\",\r\n            type: \"string\"\r\n          },\r\n          {\r\n            name: \"src\",\r\n            type: \"string\"\r\n          },\r\n          {\r\n            name: \"size\",\r\n            type: \"map\",\r\n            detail: [\r\n              {\r\n                name: \"width\",\r\n                type: \"number\"\r\n              },\r\n              {\r\n                name: \"height\",\r\n                type: \"number\"\r\n              },\r\n              {\r\n                name: \"scaledWidth\",\r\n                type: \"number\"\r\n              },\r\n              {\r\n                name: \"scaledHeight\",\r\n                type: \"number\"\r\n              },\r\n              {\r\n                name: \"imageScale\",\r\n                type: \"number\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            name: \"shapes\",\r\n            type: \"list\",\r\n            detail: {\r\n              type: \"string\"\r\n            }\r\n          },\r\n          {\r\n            name: \"shapeIndex\",\r\n            type: \"number\"\r\n          },\r\n          {\r\n            name: \"featurePointSize\",\r\n            type: \"number\"\r\n          },\r\n          {\r\n            name: \"opacity\",\r\n            type: \"number\"\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      name: \"shapes\",\r\n      type: \"varmap\",\r\n      detail: {\r\n        type: \"map\",\r\n        detail: [\r\n          {\r\n            name: \"id\",\r\n            type: \"string\"\r\n          },\r\n          {\r\n            name: \"label\",\r\n            type: \"string\"\r\n          },\r\n          {\r\n            name: \"type\",\r\n            type: \"string\"\r\n          },\r\n          {\r\n            name: \"category\",\r\n            type: \"string\"\r\n          },\r\n          {\r\n            name: \"points\",\r\n            type: \"list\",\r\n            detail: {\r\n              type: \"number\"\r\n            }\r\n          },\r\n          {\r\n            name: \"rbox\",\r\n            type: \"map\",\r\n            detail: [\r\n              {\r\n                type: \"number\",\r\n                name: \"w\"\r\n              },\r\n              {\r\n                type: \"number\",\r\n                name: \"h\"\r\n              },\r\n              {\r\n                type: \"number\",\r\n                name: \"x2\"\r\n              },\r\n              {\r\n                type: \"number\",\r\n                name: \"y2\"\r\n              },\r\n              {\r\n                type: \"number\",\r\n                name: \"cx\"\r\n              },\r\n              {\r\n                type: \"number\",\r\n                name: \"cy\"\r\n              },\r\n              {\r\n                type: \"number\",\r\n                name: \"x\"\r\n              },\r\n              {\r\n                type: \"number\",\r\n                name: \"width\"\r\n              },\r\n              {\r\n                type: \"number\",\r\n                name: \"y\"\r\n              },\r\n              {\r\n                type: \"number\",\r\n                name: \"height\"\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            name: \"attributes\",\r\n            type: \"list\",\r\n            detail: {\r\n              type: \"map\",\r\n              detail: [\r\n                {\r\n                  name: \"key\",\r\n                  type: \"string\"\r\n                },\r\n                {\r\n                  name: \"property\",\r\n                  type: \"string\"\r\n                },\r\n                {\r\n                  name: \"value\",\r\n                  type: \"string\"\r\n                }\r\n              ]\r\n            }\r\n          },\r\n          {\r\n            name: \"tags\",\r\n            type: \"list\",\r\n            detail: {\r\n              type: \"string\"\r\n            }\r\n          },\r\n          {\r\n            name: \"featurePoints\",\r\n            type: \"list\",\r\n            detail: {\r\n              type: \"string\"\r\n            }\r\n          },\r\n          {\r\n            name: \"featurePointIndex\",\r\n            type: \"number\"\r\n          },\r\n          {\r\n            name: \"zoomScale\",\r\n            type: \"number\"\r\n          },\r\n          {\r\n            name: \"defaultZoomScale\",\r\n            type: \"number\"\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      name: \"featurePoints\",\r\n      type: \"varmap\",\r\n      detail: {\r\n        type: \"map\",\r\n        detail: [\r\n          {\r\n            name: \"cx\",\r\n            type: \"number\"\r\n          },\r\n          {\r\n            name: \"cy\",\r\n            type: \"number\"\r\n          },\r\n          {\r\n            name: \"id\",\r\n            type: \"string\"\r\n          },\r\n          {\r\n            name: \"label\",\r\n            type: \"string\"\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      name: \"imageIndex\",\r\n      type: \"number\"\r\n    }\r\n  ]\r\n};\r\n","export default {\r\n  name: \"app-config\",\r\n  type: \"map\",\r\n  detail: [\r\n    {\r\n      name: \"autosave\",\r\n      type: \"map\",\r\n      detail: [\r\n        {\r\n          name: \"syncingInterval\",\r\n          type: \"number\"\r\n        },\r\n        {\r\n          name: \"enable\",\r\n          type: \"boolean\"\r\n        },\r\n        {\r\n          name: \"deleteIfExported\",\r\n          type: \"boolean\"\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      name: \"zoomStepSize\",\r\n      type: \"number\"\r\n    },\r\n    {\r\n      name: \"opacityStepSize\",\r\n      type: \"number\"\r\n    },\r\n    {\r\n      name: \"featurePointColor\",\r\n      type: \"string\"\r\n    }\r\n  ]\r\n};\r\n","export default {\r\n  name: \"label-data\",\r\n  type: \"map\",\r\n  detail: [\r\n    {\r\n      name: \"properties\",\r\n      type: \"list\",\r\n      detail: {\r\n        type: \"string\"\r\n      }\r\n    },\r\n    {\r\n      name: \"propValues\",\r\n      type: \"varmap\",\r\n      detail: {\r\n        type: \"list\",\r\n        detail: {\r\n          type: \"string\"\r\n        }\r\n      }\r\n    },\r\n    {\r\n      name: \"categories\",\r\n      type: \"list\",\r\n      detail: {\r\n        type: \"string\"\r\n      }\r\n    },\r\n    {\r\n      name: \"tags\",\r\n      type: \"list\",\r\n      detail: {\r\n        type: \"string\"\r\n      }\r\n    }\r\n  ]\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"modal\"}},[(_vm.showSaveDialog)?_c('modal-select-savetype',{on:{\"close\":function($event){_vm.$emit('close')},\"save\":function($event){_vm.setFileType($event)}}}):_c('modal-get-filename',{attrs:{\"value\":_vm.defaultvalues[_vm.filetype],\"ext\":_vm.filetype},on:{\"close\":function($event){_vm.showSaveDialog = true},\"input\":function($event){_vm.saveAs($event, _vm.filetype)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import nimnImageStore from \"./nimn-format-imagestore\";\r\nimport nimnAppConfig from \"./nimn-format-appconfig\";\r\nimport nimnLabelData from \"./nimn-format-labeldata\";\r\nimport { RECTANGLE, POLYGON, CIRCLE, POINT } from \"../../../utils/tool-names\";\r\nimport { Image } from \"../../../models/Image\";\r\nimport { Shape } from \"../../../models/Shape\";\r\nimport { FeaturePoint } from \"../../../models/FeaturePoint\";\r\n\r\nexport function getStoreData(store) {\r\n  let dataImageStore = store.getters[\"image-store/getStoreData\"];\r\n  let dataAppConfig = store.getters[\"app-config/getStoreData\"];\r\n  let dataLabelData = store.getters[\"label-data/getStoreData\"];\r\n\r\n  return {\r\n    \"image-store\": dataImageStore,\r\n    \"app-config\": dataAppConfig,\r\n    \"label-data\": dataLabelData\r\n  };\r\n}\r\n\r\n/**\r\n * Decode coco json to json\r\n */\r\nexport function decodeCocoJson(cocoData) {\r\n  let {\r\n    images: _images,\r\n    annotations: _annotations,\r\n    categories: _categories\r\n  } = cocoData;\r\n\r\n  // label-data store data\r\n  let categories = _categories.reduce((acc, val) => {\r\n    acc.push(val.name);\r\n    return acc;\r\n  }, []);\r\n  // image-store data\r\n  let images = {};\r\n  let shapes = {};\r\n\r\n  // Store images\r\n  _images.forEach((image, index) => {\r\n    images[image.file_name] = new Image({\r\n      id: index,\r\n      name: image.file_name,\r\n      size: {\r\n        width: image.width,\r\n        height: image.height,\r\n        scaledWidth: image.width,\r\n        scaledHeight: image.height,\r\n        imageScale: 1\r\n      }\r\n    });\r\n  });\r\n\r\n  // Store shape data\r\n  _annotations.forEach(annotation => {\r\n    let { id, image_id, category_id, segmentation, bbox } = annotation;\r\n    // Set type to either circle or polygon\r\n    let type = segmentation[0].length === 2 ? CIRCLE : POLYGON;\r\n    // Set points based on shape type\r\n    let points = null;\r\n    // set rbox based on shape type\r\n    let rbox = null;\r\n    let [x, y, width, height] = bbox;\r\n    if (type === CIRCLE) {\r\n      let [cx, cy] = segmentation[0];\r\n      points = [cx, cy, height / 2];\r\n      rbox = { cx, cy, width, height, w: width, h: height };\r\n    } else {\r\n      points = [...segmentation[0]];\r\n      rbox = { x, y, width, height, w: width, h: height };\r\n    }\r\n    // Create shape and store in map\r\n    let shape = new Shape({\r\n      id: `${type}#${image_id}-${id}`,\r\n      category: categories[category_id],\r\n      points,\r\n      type,\r\n      rbox\r\n    });\r\n    shapes[shape.id] = shape;\r\n    // Add shape to image\r\n    let imagename = _images[image_id].file_name;\r\n    let image = images[imagename];\r\n    image.shapes.push(shape.id);\r\n    // Increment image's shape index\r\n    ++image.shapeIndex;\r\n  });\r\n\r\n  let storeData = {\r\n    \"image-store\": {\r\n      images,\r\n      shapes\r\n    },\r\n    \"label-data\": {\r\n      categories\r\n    }\r\n  };\r\n\r\n  return storeData;\r\n}\r\n\r\nexport function decodeDlibXML(data) {\r\n  var convert = require(\"xml-js\");\r\n  var options = {\r\n    alwaysChildren: true,\r\n    compact: true,\r\n    ignoreComment: true\r\n  };\r\n\r\n  var result = convert.xml2js(data, options);\r\n\r\n  let dataset = result.dataset;\r\n  // Images should be stored under the dataset/images/image\r\n  let images = dataset.images.image;\r\n\r\n  if (images.constructor !== Array) images = [images];\r\n\r\n  // New store data\r\n  let _images = {};\r\n  let _shapes = {};\r\n  let _featurePoints = {};\r\n  let _imageIndex = 0;\r\n\r\n  images.forEach(({ _attributes: { file }, box = [] }) => {\r\n    let image = new Image({ name: file, id: _imageIndex++ });\r\n\r\n    let shapes = [];\r\n    // Keeps track of uid of shapes per image\r\n    let _shapeIndex = 0;\r\n\r\n    if (box.constructor !== Array) box = [box];\r\n\r\n    box.forEach(\r\n      ({\r\n        _attributes: { top: y, left: x, width: w, height: h },\r\n        label: { _text },\r\n        part = []\r\n      }) => {\r\n        let index = _shapeIndex++;\r\n        let shapeHash = image.id + \"-\" + index;\r\n        // Populate shape data\r\n        let shape = new Shape({\r\n          id: RECTANGLE + \"#\" + shapeHash,\r\n          label: _text || RECTANGLE + \"#\" + index,\r\n          type: RECTANGLE,\r\n          rbox: { x, y, w, h },\r\n          points: [x, y, w, h]\r\n        });\r\n\r\n        // Populate feature point data\r\n        let featurePoints = [];\r\n        // Keeps track of uid for featurepoint of shape\r\n        let _featurePointIndex = 0;\r\n\r\n        if (part.constructor !== Array) part = [part];\r\n\r\n        part.forEach(({ _attributes: { x: cx, y: cy } }) => {\r\n          let index = _featurePointIndex++;\r\n          let fpHash = shapeHash + \"-\" + index;\r\n          let featurePoint = new FeaturePoint({\r\n            cx,\r\n            cy,\r\n            id: POINT + \"#\" + fpHash,\r\n            label: POINT + \"#\" + index\r\n          });\r\n          // Add feature point to list\r\n          featurePoints.push(featurePoint.id);\r\n          // Add feature point data to map\r\n          _featurePoints[featurePoint.id] = featurePoint;\r\n        });\r\n\r\n        // Shape keeps track of feature point uids\r\n        shape.featurePointIndex = _featurePointIndex;\r\n        // Add feature points\r\n        shape.featurePoints = featurePoints;\r\n        // Add shape to list of shapes\r\n        shapes.push(shape.id);\r\n        // Add shape data to map\r\n        _shapes[shape.id] = shape;\r\n      }\r\n    );\r\n    // Image keeps track of shape uid\r\n    image.shapeIndex = _shapeIndex;\r\n    // Add list of shapes to image\r\n    image.shapes = shapes;\r\n    // Add image data to map\r\n    _images[image.name] = image;\r\n  });\r\n\r\n  let storeData = {\r\n    images: _images,\r\n    shapes: _shapes,\r\n    featurePoints: _featurePoints,\r\n    imageIndex: _imageIndex\r\n  };\r\n\r\n  return storeData;\r\n}\r\n\r\n/**\r\n * Encodes store data to .nimn format\r\n * @param {Vuex.Store} store - vuex store instance\r\n */\r\nexport function encodeAsNimn(store) {\r\n  var nimn = require(\"nimnjs\");\r\n\r\n  let storeData = getStoreData(store);\r\n\r\n  let nimnStore = {\r\n    type: \"map\",\r\n    detail: [nimnImageStore, nimnAppConfig, nimnLabelData]\r\n  };\r\n\r\n  let schemaStore = nimn.buildSchema(nimnStore);\r\n  let stringStore = nimn.stringify(schemaStore, storeData);\r\n\r\n  return stringStore;\r\n}\r\n\r\n/**\r\n * Encodes store data as dlib xml\r\n * @param {Vuex.Store} store - store instance\r\n */\r\nexport function encodeAsDlibXML(store) {\r\n  let dlib_header = `\r\n  <?xml version='1.0' encoding='ISO-8859-1'?>\r\n  <?xml-stylesheet type='text/xsl' href='image_metadata_stylesheet.xsl'?>\r\n  <dataset>\r\n    <name>dlib face detection dataset generated by ImgLab</name>\r\n\r\n    <comment>\r\n      This dataset is manually crafted or adjusted using ImgLab web annotation tool\r\n      For more details, please go to https://github.com/NaturalIntelligence/imglab\r\n    </comment>\r\n\r\n    <images>\r\n  `;\r\n\r\n  let storeData = getStoreData(store);\r\n\r\n  let xml = \"\";\r\n  let { images, shapes, featurePoints } = storeData[\"image-store\"];\r\n\r\n  Object.values(images).forEach(image => {\r\n    xml += `\r\n      <image file='${image.name}'>\r\n    `;\r\n\r\n    image.shapes.forEach(shapeID => {\r\n      let shape = shapes[shapeID];\r\n      let box = shape.rbox;\r\n      xml += `\r\n        <box top='${box.y}' left='${box.x}' width='${box.w}' height='${box.h}'>\r\n          <label>${shapes[shapeID].label || shapes[shapeID].type}</label>`;\r\n\r\n      shape.featurePoints.forEach(featurePointID => {\r\n        let fp = featurePoints[featurePointID];\r\n        xml += `\r\n          <part name='${fp.id}' x='${Math.floor(fp.cx)}' y='${Math.floor(\r\n          fp.cy\r\n        )}'/>`;\r\n      });\r\n      xml += `\r\n        </box>\r\n      `;\r\n    });\r\n\r\n    xml += `\r\n      </image>\r\n    `;\r\n  });\r\n\r\n  let dlib_footer = `\r\n    </images>\r\n  </dataset>`;\r\n\r\n  return dlib_header + xml + dlib_footer;\r\n}\r\n\r\n/**\r\n * Saves selected shape data as pts file\r\n * @param {Vuex.Store} store - store instance\r\n * @param {String} shapeID\r\n */\r\nexport function encodeAsDlibPts(store, shapeID) {\r\n  let storeData = getStoreData(store);\r\n  let shapes = storeData[\"image-store\"].shapes;\r\n  let shape = shapes[shapeID];\r\n  var data = `version: 1\r\nn_points: ${shape.featurePoints.length}\r\n{\r\n`;\r\n\r\n  let featurePoints = storeData[\"image-store\"].featurePoints;\r\n  shape.featurePoints.forEach(featurePointID => {\r\n    let featurePoint = featurePoints[featurePointID];\r\n    data += `${Math.floor(featurePoint.cx)} ${Math.floor(featurePoint.cy)}\\n`;\r\n  });\r\n\r\n  data += \"}\";\r\n\r\n  return data;\r\n}\r\n\r\n/**\r\n * Encode data as coco json format\r\n * @param {Vuex.Store} store - store instance\r\n */\r\nexport function encodeAsCocoJson(store) {\r\n  // Get image store and label store data\r\n  let { \"image-store\": imageStore, \"label-data\": labelStore } = getStoreData(\r\n    store\r\n  );\r\n  let { images: _images, shapes: _shapes } = imageStore;\r\n  let { categories: _categories } = labelStore;\r\n\r\n  // Add a uncategorized category for shapes with an empty category\r\n  _categories.push(\"uncategorized\");\r\n\r\n  let cocoData = {\r\n    images: [],\r\n    annotations: [],\r\n    categories: [],\r\n    type: \"instances\"\r\n  };\r\n\r\n  // Used to generate unique ids\r\n  let shapeIndex = 0;\r\n  Object.values(_images).forEach((image, imageIndex) => {\r\n    // Add image\r\n    let name = image.name;\r\n    cocoData.images.push({\r\n      file_name: name,\r\n      height: image.size.height,\r\n      width: image.size.width,\r\n      id: imageIndex\r\n    });\r\n\r\n    // Add annotations / shapes\r\n    image.shapes.forEach(shapeID => {\r\n      let shape = _shapes[shapeID];\r\n      let area = 0;\r\n      let points = [];\r\n      if (shape.type === POLYGON) {\r\n        points = [...shape.points];\r\n        area = calcArea(points);\r\n      } else if (shape.type === CIRCLE) {\r\n        points = [shape.points[0], shape.points[1]];\r\n        area = shape.points[2] * shape.points[2] * Math.PI;\r\n      } else if (shape.type === RECTANGLE) {\r\n        points = [\r\n          // top left corner\r\n          shape.points[0],\r\n          shape.points[1],\r\n          // top right corner\r\n          shape.points[0] + shape.points[2],\r\n          shape.points[1],\r\n          // bottom left corner\r\n          shape.points[0] + shape.points[2],\r\n          shape.points[1] + shape.points[3],\r\n          // bottom right corner\r\n          shape.points[0],\r\n          shape.points[1] + shape.points[3]\r\n        ];\r\n        area = calcArea(points);\r\n      } else {\r\n        console.error(\"Unknown type\");\r\n      }\r\n\r\n      // empty category defaults to uncategorized\r\n      let category_id = shape.category\r\n        ? _categories.indexOf(shape.category)\r\n        : _categories.length - 1;\r\n\r\n      // annotation bbox\r\n      let { x, y, width, height } = shape.rbox;\r\n      cocoData.annotations.push({\r\n        id: shapeIndex++,\r\n        image_id: imageIndex,\r\n        category_id,\r\n        segmentation: [points],\r\n        area,\r\n        bbox: [x, y, width, height],\r\n        iscrowd: 0,\r\n        ignore: 0\r\n      });\r\n    });\r\n  });\r\n\r\n  _categories.forEach((category, index) => {\r\n    cocoData.categories.push({\r\n      id: index,\r\n      name: category,\r\n      supercategory: \"none\"\r\n    });\r\n  });\r\n\r\n  return JSON.stringify(cocoData);\r\n}\r\n\r\n/**\r\n *  Encode data as yolov5 text format\r\n * @param {Vuex.Store} store - store instance\r\n */\r\n\r\nexport function encodeAsYoloV5(store) {\r\n  let storeData = getStoreData(store);\r\n\r\n  let { images: _images, shapes: _shapes } = storeData[\"image-store\"];\r\n  let yolo = {\r\n    category: 0,\r\n    x: 0,\r\n    y: 0,\r\n    w: 0,\r\n    h: 0\r\n  };\r\n  let classes = [\r\n    \"person\",\r\n    \"bicycle\",\r\n    \"car\",\r\n    \"motorcycle\",\r\n    \"airplane\",\r\n    \"bus\",\r\n    \"train\",\r\n    \"truck\",\r\n    \"boat\",\r\n    \"traffic light\",\r\n    \"fire hydrant\",\r\n    \"stop sign\",\r\n    \"parking meter\",\r\n    \"bench\",\r\n    \"bird\",\r\n    \"cat\",\r\n    \"dog\",\r\n    \"horse\",\r\n    \"sheep\",\r\n    \"cow\",\r\n    \"elephant\",\r\n    \"bear\",\r\n    \"zebra\",\r\n    \"giraffe\",\r\n    \"backpack\",\r\n    \"umbrella\",\r\n    \"handbag\",\r\n    \"tie\",\r\n    \"suitcase\",\r\n    \"frisbee\",\r\n    \"skis\",\r\n    \"snowboard\",\r\n    \"sports ball\",\r\n    \"kite\",\r\n    \"baseball bat\",\r\n    \"baseball glove\",\r\n    \"skateboard\",\r\n    \"surfboard\",\r\n    \"tennis racket\",\r\n    \"bottle\",\r\n    \"wine glass\",\r\n    \"cup\",\r\n    \"fork\",\r\n    \"knife\",\r\n    \"spoon\",\r\n    \"bowl\",\r\n    \"banana\",\r\n    \"apple\",\r\n    \"sandwich\",\r\n    \"orange\",\r\n    \"broccoli\",\r\n    \"carrot\",\r\n    \"hot dog\",\r\n    \"pizza\",\r\n    \"donut\",\r\n    \"cake\",\r\n    \"chair\",\r\n    \"couch\",\r\n    \"potted plant\",\r\n    \"bed\",\r\n    \"dining table\",\r\n    \"toilet\",\r\n    \"tv\",\r\n    \"laptop\",\r\n    \"mouse\",\r\n    \"remote\",\r\n    \"keyboard\",\r\n    \"cell phone\",\r\n    \"microwave\",\r\n    \"oven\",\r\n    \"toaster\",\r\n    \"sink\",\r\n    \"refrigerator\",\r\n    \"book\",\r\n    \"clock\",\r\n    \"vase\",\r\n    \"scissors\",\r\n    \"teddy bear\",\r\n    \"hair drier\",\r\n    \"toothbrush\",\r\n    \"Mc'Donalds\",\r\n    \"Mercedes\",\r\n    \"Apple (Brand)\",\r\n    \"KFC\",\r\n    \"Domino's Pizza\",\r\n    \"Pizza Hut\",\r\n    \"Hitachi\",\r\n    \"BMW\",\r\n    \"Fusionex\",\r\n    \"Toyota\",\r\n    \"Proton\",\r\n    \"Perodua\",\r\n    \"Honda\"\r\n  ];\r\n  let x1, y1, x2, y2, w, h, u, v, nw, nh;\r\n\r\n  Object.values(_images).forEach(image => {\r\n    w = image.size.width;\r\n    h = image.size.height;\r\n\r\n    image.shapes.forEach(shapeId => {\r\n      let shape = _shapes[shapeId];\r\n      if (shape.type == RECTANGLE) {\r\n        x1 = shape.points[0];\r\n        y1 = shape.points[1];\r\n        x2 = shape.points[0] + shape.points[2];\r\n        y2 = shape.points[1] + shape.points[3];\r\n        u = (x1 + x2) / 2 / w;\r\n        v = (y1 + y2) / 2 / h;\r\n        nw = (x2 - x1) / w;\r\n        nh = (y2 - y1) / h;\r\n\r\n        // classes.push(shape.label);\r\n        yolo = {\r\n          category: classes.length,\r\n          x: u,\r\n          y: v,\r\n          w: nw,\r\n          h: nh\r\n        };\r\n      }\r\n    });\r\n  });\r\n\r\n  console.log(Object.values(yolo).join(\" \"));\r\n\r\n  return {\r\n    results: Object.values(yolo).join(\" \"),\r\n    classes: classes\r\n  };\r\n}\r\n\r\n/**\r\n * Helper method to calculate area of shape\r\n * @param {Points[]} coords - array of points\r\n * @see getPoints for more details\r\n */\r\nfunction calcArea(coords) {\r\n  let area = 0;\r\n  let numCoords = coords.length;\r\n\r\n  for (var i = 0; i < numCoords; i += 2) {\r\n    // make last+1 wrap around to zero\r\n    let nexti = (i + 2) % numCoords;\r\n    area += coords[i] * coords[nexti + 1] - coords[i + 1] * coords[nexti];\r\n  }\r\n  return Math.abs(area / 2);\r\n}\r\n","export const Ext = {\r\n  NIMN: \".nimn\",\r\n  DLIB_XML: \".xml\",\r\n  DLIB_PTS: \".pts\",\r\n  COCO_JSON: \".json\",\r\n  YOLO_V5: \".txt\"\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-mask\"},[_c('div',{staticClass:\"modal-wrapper\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-container\"},[_c('div',{staticClass:\"modal-header\"},[_c('h3',{staticClass:\"modal-title\"},[_vm._v(\"File Name\")]),_c('button',{staticClass:\"btn float-right\",attrs:{\"type\":\"button\",\"name\":\"button\"},on:{\"click\":function($event){_vm.$emit('close')}}},[_vm._v(\"\\n          x\\n        \")])]),_c('div',{staticClass:\"modal-body\"},[_c('ul',{staticClass:\"list-empty-style\"},[_c('li',{staticClass:\"list-item-style\"},[_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.validate(_vm._ext.NIMN)}}},[_vm._v(\"\\n              Project file\\n            \")])]),_c('li',{staticClass:\"list-item-style\"},[_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.validate(_vm._ext.DLIB_XML)}}},[_vm._v(\"\\n              Dlib XML\\n            \")])]),_c('li',{staticClass:\"list-item-style\"},[_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.validate(_vm._ext.DLIB_PTS)}}},[_vm._v(\"\\n              Dlib pts\\n            \")])]),_c('li',{staticClass:\"list-item-style\"},[_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.validate(_vm._ext.COCO_JSON)}}},[_vm._v(\"\\n              COCO JSON\\n            \")])]),_vm._m(0),_c('li',{staticClass:\"list-item-style\"},[_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.validate(_vm._ext.YOLO_V5)}}},[_vm._v(\"\\n              Yolo v5\\n              \\n            \")])])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"list-item-style\"},[_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\"}},[_vm._v(\"\\n              Pascal VOC XML\\n            \")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-mask\"},[_c('div',{staticClass:\"modal-wrapper\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-container\"},[_vm._m(0),_c('div',{staticClass:\"modal-body\"},[_c('label',{attrs:{\"for\":\"file-name\"}},[_c('input',{staticClass:\"form-control\",class:{ error: _vm.showError },attrs:{\"type\":\"text\",\"name\":\"file-name\"},domProps:{\"value\":_vm.filename},on:{\"input\":_vm.onInput}})])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary float-right\",attrs:{\"type\":\"button\",\"name\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){_vm.$emit('close')}}},[_vm._v(\"\\n          Cancel\\n        \")]),_c('button',{staticClass:\"btn btn-primary float-right\",attrs:{\"type\":\"button\",\"name\":\"button\"},on:{\"click\":_vm.setFilename}},[_vm._v(\"\\n          Confirm\\n        \")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h3',{staticClass:\"modal-title\"},[_vm._v(\"File Name\")])])}]\n\nexport { render, staticRenderFns }","<template lang=\"html\">\r\n  <div\r\n    class=\"modal-mask\"\r\n  >\r\n    <div\r\n      class=\"modal-wrapper\"\r\n      role=\"document\"\r\n    >\r\n      <div class=\"modal-container\">\r\n        <div class=\"modal-header\">\r\n          <h3 class=\"modal-title\">File Name</h3>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <label for=\"file-name\">\r\n            <input\r\n              class=\"form-control\"\r\n              type=\"text\"\r\n              name=\"file-name\"\r\n              :class=\"{ error: showError }\"\r\n              :value=\"filename\"\r\n              @input=\"onInput\"\r\n            >\r\n          </label>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            name=\"button\"\r\n            class=\"btn btn-secondary float-right\"\r\n            data-dismiss=\"modal\"\r\n            @click=\"$emit('close')\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            name=\"button\"\r\n            class=\"btn btn-primary float-right\"\r\n            @click=\"setFilename\"\r\n          >\r\n            Confirm\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { _ } from \"../../../utils/app\";\r\n\r\n/**\r\n * Displays a modal to get the file name. There are 2 types of events emitted.\r\n *\r\n * Input event is emitted on providing a valid filename and on continue\r\n * Close event is emitted on cancel / exit\r\n */\r\nexport default {\r\n  props: {\r\n    // Initial input value\r\n    value: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    // Expected file format\r\n    ext: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // Filename that contains a file extension\r\n      filename: this.value + this.ext,\r\n      // Boolean toggle to display error styles if true\r\n      showError: false\r\n    };\r\n  },\r\n  methods: {\r\n    /**\r\n     * Toggles showError if input tag is empty. Assigns input value as filename\r\n     * otherwise\r\n     * @param {Event} event - input event\r\n     */\r\n    onInput(event) {\r\n      if (event.target.value.length) {\r\n        this.showError = false;\r\n      }\r\n      this.filename = event.target.value;\r\n    },\r\n\r\n    /**\r\n     * Emits `input` event if filename is valid, toggle showError to show\r\n     * display error styling otherwise\r\n     */\r\n    setFilename() {\r\n      if (this.validFilename() && this.filename.length) {\r\n        /**\r\n         * Emits an input event\r\n         * @param {String} filename - correctly formatted file name\r\n         */\r\n        this.$emit(\"input\", this.filename);\r\n      } else {\r\n        this.showError = true;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Shortcuts\r\n     * @param {Event} event - keyup event\r\n     */\r\n    shortcuts(event) {\r\n      if (event.key === \"Escape\") {\r\n        /**\r\n         * Emits a close event to toggle component display\r\n         */\r\n        this.$emit(\"close\");\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Checks that the filename is correct and has the correct extension\r\n     * @return {Boolean} true if valid; false otherwise\r\n     */\r\n    validFilename() {\r\n      return (\r\n        /^[a-z0-9_.@()-]/i.test(this.filename) &&\r\n        this.filename.endsWith(this.ext)\r\n      );\r\n    }\r\n  },\r\n  mounted() {\r\n    // Add shortcut to global keydown event\r\n    _.on(document, \"keyup\", this.shortcuts);\r\n  },\r\n  beforeDestroy() {\r\n    // Remove shortcut from global keydown event\r\n    _.off(document, \"keyup\", this.shortcuts);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n  .modal-mask {\r\n    position: fixed;\r\n    z-index: 9998;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, .5);\r\n    display: table;\r\n    transition: opacity .3s ease;\r\n  }\r\n\r\n  .modal-wrapper {\r\n    display: table-cell;\r\n    vertical-align: middle;\r\n  }\r\n\r\n  .modal-container {\r\n    width: 300px;\r\n    margin: 0px auto;\r\n    padding: 20px 30px;\r\n    background-color: #fff;\r\n    border-radius: 2px;\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, .33);\r\n    transition: all .3s ease;\r\n    font-family: Helvetica, Arial, sans-serif;\r\n  }\r\n\r\n  .modal-header h3 {\r\n    margin-top: 0;\r\n    color: #42b983;\r\n  }\r\n\r\n  .modal-body {\r\n    margin: 20px 0;\r\n  }\r\n\r\n  .error {\r\n    border: 2px solid red;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal-get-filename.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal-get-filename.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./modal-get-filename.vue?vue&type=template&id=15fb87f9&scoped=true&lang=html&\"\nimport script from \"./modal-get-filename.vue?vue&type=script&lang=js&\"\nexport * from \"./modal-get-filename.vue?vue&type=script&lang=js&\"\nimport style0 from \"./modal-get-filename.vue?vue&type=style&index=0&id=15fb87f9&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15fb87f9\",\n  null\n  \n)\n\ncomponent.options.__file = \"modal-get-filename.vue\"\nexport default component.exports","<template lang=\"html\">\r\n  <div\r\n    class=\"modal-mask\"\r\n  >\r\n    <div\r\n      class=\"modal-wrapper\"\r\n      role=\"document\"\r\n    >\r\n      <div class=\"modal-container\">\r\n        <div class=\"modal-header\">\r\n          <h3 class=\"modal-title\">File Name</h3>\r\n          <button\r\n            type=\"button\"\r\n            name=\"button\"\r\n            class=\"btn float-right\"\r\n            @click=\"$emit('close')\"\r\n          >\r\n            x\r\n          </button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <ul class=\"list-empty-style\">\r\n            <li class=\"list-item-style\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn\"\r\n                @click=\"validate(_ext.NIMN)\"\r\n              >\r\n                Project file\r\n              </button>\r\n            </li>\r\n            <li class=\"list-item-style\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn\"\r\n                @click=\"validate(_ext.DLIB_XML)\"\r\n              >\r\n                Dlib XML\r\n              </button>\r\n            </li>\r\n            <li class=\"list-item-style\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn\"\r\n                @click=\"validate(_ext.DLIB_PTS)\"\r\n              >\r\n                Dlib pts\r\n              </button>\r\n            </li>\r\n            <li class=\"list-item-style\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn\"\r\n                @click=\"validate(_ext.COCO_JSON)\"\r\n              >\r\n                COCO JSON\r\n              </button>\r\n            </li>\r\n            <li class=\"list-item-style\">\r\n              <button type=\"button\" class=\"btn\">\r\n                Pascal VOC XML\r\n              </button>\r\n            </li>\r\n            <li class=\"list-item-style\">\r\n              <button type=\"button\" class=\"btn\"\r\n              @click=\"validate(_ext.YOLO_V5)\">\r\n                Yolo v5\r\n                \r\n              </button>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ModalGetFilename from \"./modal-get-filename\";\r\nimport { mapGetters } from \"vuex\";\r\n\r\nimport { Ext } from \"../filetype\";\r\nimport { _ } from \"../../../utils/app\";\r\n\r\n/**\r\n * Displays a list of save file types. Returns to parent controller when an\r\n * item is selected via the save/close events.\r\n */\r\nexport default {\r\n  components: {\r\n    \"modal-get-filename\": ModalGetFilename\r\n  },\r\n  data() {\r\n    return {\r\n      // Snackbar message\r\n      snackbarMsg: \"\"\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"image-store\", {\r\n      dataImageStore: \"getStoreData\",\r\n      imageSelected: \"getImageSelected\"\r\n    }),\r\n\r\n    ...mapGetters(\"app-config\", {\r\n      dataAppConfig: \"getStoreData\"\r\n    }),\r\n\r\n    ...mapGetters(\"label-data\", {\r\n      dataLabelData: \"getStoreData\"\r\n    }),\r\n\r\n    ...mapGetters(\"action-config\", {\r\n      getSelectedShape: \"getSelectedShape\"\r\n    }),\r\n\r\n    /**\r\n     * Used on template to access the Ext const\r\n     */\r\n    _ext() {\r\n      return Ext;\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * Display a snackbar with a message\r\n     * @param {String} message - message to be displayed\r\n     */\r\n    displaySnackbar(message) {\r\n      // TODO: Implement a snackbar\r\n      this.snackbarMsg = message;\r\n    },\r\n\r\n    /**\r\n     * Defines possible shortcuts\r\n     * @param {Event} event - keydown event\r\n     */\r\n    shortcuts(event) {\r\n      if (event.key === \"Escape\") {\r\n        /**\r\n         * Emits close event\r\n         */\r\n        this.$emit(\"close\");\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Checks if action can be performed\r\n     * @param {String} fileext - file extension\r\n     */\r\n    validate(fileext) {\r\n      switch (fileext) {\r\n        case Ext.DLIB_PTS: {\r\n          let selectedShape = this.getSelectedShape;\r\n          if (!selectedShape) {\r\n            this.displaySnackbar(\r\n              \"Please create an image and select a shape to continue\"\r\n            );\r\n            return;\r\n          }\r\n          /**\r\n           * Emits save event\r\n           * @param {String} filesxt - file extension\r\n           */\r\n          this.$emit(\"save\", fileext);\r\n          return true;\r\n        }\r\n        case Ext.COCO_JSON:\r\n        case Ext.DLIB_XML:\r\n        case Ext.NIMN:\r\n        case Ext.YOLO_V5:\r\n          /**\r\n           * Emits save event\r\n           * @param {String} filesxt - file extension\r\n           */\r\n          this.$emit(\"save\", fileext);\r\n          return true;\r\n        default:\r\n          return false;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    // Add shortcuts to global keyup event handler\r\n    _.on(document, \"keyup\", this.shortcuts);\r\n  },\r\n  beforeDestroy() {\r\n    // Remove shortcuts to global keyup event handler\r\n    _.off(document, \"keyup\", this.shortcuts);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n  .modal-mask {\r\n    position: fixed;\r\n    z-index: 9998;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, .5);\r\n    display: table;\r\n    transition: opacity .3s ease;\r\n  }\r\n\r\n  .modal-wrapper {\r\n    display: table-cell;\r\n    vertical-align: middle;\r\n  }\r\n\r\n  .modal-container {\r\n    width: 300px;\r\n    margin: 0px auto;\r\n    padding: 20px 30px;\r\n    background-color: #fff;\r\n    border-radius: 2px;\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, .33);\r\n    transition: all .3s ease;\r\n    font-family: Helvetica, Arial, sans-serif;\r\n  }\r\n\r\n  .modal-header h3 {\r\n    margin-top: 0;\r\n    color: #42b983;\r\n  }\r\n\r\n  .modal-body {\r\n    margin: 20px 0;\r\n  }\r\n\r\n  .list-empty-style {\r\n    list-style: none;\r\n    padding: 0px 30px;\r\n    margin: 0;\r\n  }\r\n\r\n  .list-item-style {\r\n    margin: 12px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal-select-savetype.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal-select-savetype.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./modal-select-savetype.vue?vue&type=template&id=66647dde&scoped=true&lang=html&\"\nimport script from \"./modal-select-savetype.vue?vue&type=script&lang=js&\"\nexport * from \"./modal-select-savetype.vue?vue&type=script&lang=js&\"\nimport style0 from \"./modal-select-savetype.vue?vue&type=style&index=0&id=66647dde&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66647dde\",\n  null\n  \n)\n\ncomponent.options.__file = \"modal-select-savetype.vue\"\nexport default component.exports","<template lang=\"html\">\r\n  <transition name=\"modal\">\r\n    <modal-select-savetype\r\n      v-if=\"showSaveDialog\"\r\n      @close=\"$emit('close')\"\r\n      @save=\"setFileType($event)\"\r\n    >\r\n    </modal-select-savetype>\r\n    <modal-get-filename\r\n      v-else\r\n      :value=\"defaultvalues[filetype]\"\r\n      :ext=\"filetype\"\r\n      @close=\"showSaveDialog = true\"\r\n      @input=\"saveAs($event, filetype)\"\r\n    >\r\n    </modal-get-filename>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport {\r\n  getStoreData,\r\n  encodeAsNimn,\r\n  encodeAsDlibXML,\r\n  encodeAsDlibPts,\r\n  encodeAsCocoJson,\r\n  encodeAsYoloV5\r\n} from \"../action/file-handler\";\r\nimport { Ext } from \"../filetype\";\r\nimport ModalSaveType from \"./modal-select-savetype\";\r\nimport ModalGetFilename from \"./modal-get-filename\";\r\n\r\nconst FileSaver = require(\"file-saver\");\r\n\r\n/**\r\n * Toggles between showing the save file types and the get-filename modal.\r\n * Proceeds to encode store data and save it into the file if valid.\r\n */\r\nexport default {\r\n  components: {\r\n    \"modal-select-savetype\": ModalSaveType,\r\n    \"modal-get-filename\": ModalGetFilename\r\n  },\r\n  data() {\r\n    return {\r\n      // Contains a mapping of file extension to default names\r\n      defaultvalues: {\r\n        [Ext.NIMN]: \"Untitled_imgLab\",\r\n        [Ext.DLIB_XML]: \"_dlib-xml\",\r\n        [Ext.DLIB_PTS]: \"_dlib_pts\",\r\n        [Ext.COCO_JSON]: \"_coco\",\r\n        [Ext.YOLO_V5]: \"_yolov5\"\r\n      },\r\n      // Selected file type / exntension\r\n      filetype: null,\r\n      // Boolean toggle for displaying save options / get filename component\r\n      showSaveDialog: true\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"action-config\", {\r\n      selectedShapeID: \"getSelectedShape\"\r\n    })\r\n  },\r\n  methods: {\r\n    /**\r\n     * Google analytics: Report file metadata\r\n     * @param {String} filetype - file type\r\n     */\r\n    analyticsReport(filetype) {\r\n      this.analyticsFileType(filetype);\r\n      this.analyticsImageStore();\r\n      this.analyticsLabelData();\r\n    },\r\n\r\n    /**\r\n     * Sends metadata about the image store to google analytics\r\n     */\r\n    analyticsImageStore() {\r\n      let storeData = getStoreData(this.$store);\r\n      let imageStore = storeData[\"image-store\"];\r\n\r\n      this.$ga.event({\r\n        eventCategory: \"image - count\",\r\n        eventAction: \"save\",\r\n        eventLabel: `${Object.keys(imageStore.images).length} images`\r\n      });\r\n\r\n      this.$ga.event({\r\n        eventCategory: \"shape - count\",\r\n        eventAction: \"save\",\r\n        eventLabel: `${Object.keys(imageStore.shapes).length} shapes`\r\n      });\r\n\r\n      this.$ga.event({\r\n        eventCategory: \"points - count\",\r\n        eventAction: \"save\",\r\n        eventLabel: `${\r\n          Object.keys(imageStore.featurePoints).length\r\n        } feature points`\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Sends label metadata to google analytics\r\n     */\r\n    analyticsLabelData() {\r\n      let storeData = getStoreData(this.$store);\r\n      let labelData = storeData[\"label-data\"];\r\n\r\n      labelData.categories.forEach(category => {\r\n        this.$ga.event({\r\n          eventCategory: \"category\",\r\n          eventAction: \"save\",\r\n          eventLabel: category\r\n        });\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Sends file type to google analytics\r\n     */\r\n    analyticsFileType(filetype) {\r\n      this.$ga.event({\r\n        eventCategory: \"filetype\",\r\n        eventAction: \"save\",\r\n        eventLabel: filetype\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Save given data to a file\r\n     * @param {*} data - string data\r\n     * @param {String} filename - file name\r\n     * @param {String} type - Mime type\r\n     */\r\n    download(data, filename, type, encoding = \"utf-8\") {\r\n      let blobData = new Blob([data], {\r\n        type: type + \";charset=\" + encoding\r\n      });\r\n      FileSaver.saveAs(blobData, filename);\r\n    },\r\n\r\n    /**\r\n     * Checks if file type is supported\r\n     * @param {String} filetype - file type\r\n     * @returns {Boolean} true if exists; false otherwise\r\n     */\r\n    isSupported(filetype) {\r\n      return Object.values(Ext).includes(filetype);\r\n    },\r\n\r\n    /**\r\n     * Given file name and file type, save data to corresponding format\r\n     * @param {String} filename - filename that includes the file extension\r\n     * @param {String} filetype - used to determine which handler to call\r\n     */\r\n    saveAs(filename, filetype) {\r\n      this.filetype = null;\r\n      this.showSaveDialog = true;\r\n\r\n      // Prints an error on console and returns if filetype not supported\r\n      if (!this.isSupported(filetype)) {\r\n        console.error(`${filetype} not supported`);\r\n        return;\r\n      }\r\n\r\n      this.analyticsReport(filetype);\r\n      switch (filetype) {\r\n        case Ext.NIMN: {\r\n          this.saveAsNimn(filename);\r\n          break;\r\n        }\r\n        case Ext.DLIB_XML: {\r\n          this.saveAsDlibXml(filename);\r\n          break;\r\n        }\r\n        case Ext.DLIB_PTS: {\r\n          this.saveAsDlibPts(filename);\r\n          break;\r\n        }\r\n        case Ext.COCO_JSON: {\r\n          this.saveAsCocoJSON(filename);\r\n          break;\r\n        }\r\n        case Ext.YOLO_V5: {\r\n          this.saveAsYolo(filename);\r\n          break;\r\n        }\r\n        default: {\r\n          console.error(\"Unknown error, shouldn't reach here\");\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Saves whole project as coco json\r\n     * @param {String} filename - file name\r\n     */\r\n    saveAsCocoJSON(filename) {\r\n      let cocoData = encodeAsCocoJson(this.$store);\r\n      this.download(cocoData, filename, \"application/json\");\r\n    },\r\n\r\n    /**\r\n     * Save selected shape into a pts file\r\n     * @param {String} filename - file name\r\n     */\r\n    saveAsDlibPts(filename) {\r\n      let ptsData = encodeAsDlibPts(this.$store, this.selectedShapeID);\r\n      this.download(ptsData, filename, \"text/plain\");\r\n    },\r\n\r\n    /**\r\n     * Save project as dlib xml\r\n     * @param {String} filename - file name\r\n     */\r\n    saveAsDlibXml(filename) {\r\n      let dlibXML = encodeAsDlibXML(this.$store);\r\n      this.download(dlibXML, `Downloads/Honda/${filename}`, \"text/xml\");\r\n    },\r\n\r\n    /**\r\n     * Save store data to nimn format\r\n     * @param {String} filename - filename\r\n     */\r\n    saveAsNimn(filename) {\r\n      let nimnStore = encodeAsNimn(this.$store);\r\n      this.download(nimnStore, filename, \"application/nimn\");\r\n    },\r\n\r\n    /**\r\n     *\r\n     * Save store data to yolo format\r\n     * @param {String} filename - filename\r\n     */\r\n    saveAsYolo(filename) {\r\n      let { results } = encodeAsYoloV5(this.$store);\r\n\r\n      this.download(results, `${filename}`, \"text/plain\");\r\n      // this.download(classes, \"classes\", \"text/plain\");\r\n    },\r\n\r\n    /**\r\n     * Set file type and toggle prompt to display get-file-name component\r\n     * @param {String} filetype - file type\r\n     */\r\n    setFileType(filetype) {\r\n      this.filetype = filetype;\r\n      this.showSaveDialog = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n  .modal-enter {\r\n    opacity: 0;\r\n  }\r\n\r\n  .modal-leave-active {\r\n    opacity: 0;\r\n  }\r\n\r\n  .modal-enter .modal-container,\r\n  .modal-leave-active .modal-container {\r\n    -webkit-transform: scale(1.1);\r\n    transform: scale(1.1);\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal-save.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal-save.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./modal-save.vue?vue&type=template&id=bbe00512&scoped=true&lang=html&\"\nimport script from \"./modal-save.vue?vue&type=script&lang=js&\"\nexport * from \"./modal-save.vue?vue&type=script&lang=js&\"\nimport style0 from \"./modal-save.vue?vue&type=style&index=0&id=bbe00512&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bbe00512\",\n  null\n  \n)\n\ncomponent.options.__file = \"modal-save.vue\"\nexport default component.exports","<template lang=\"html\">\r\n  <div class=\"\">\r\n    <div class=\"dropdown\" >\r\n      <div class=\"dropbtn\">\r\n        <font-awesome-icon\r\n          :icon=\"['fas', 'bars']\"\r\n          style=\"font-size:1.5em; color: green\"\r\n        >\r\n        </font-awesome-icon>\r\n      </div>\r\n      <div class=\"dropdown-content\">\r\n        <a href=\"#\" >\r\n          <label class=\"btn-bs-file\">Open\r\n            <input\r\n              class=\"filebutton\"\r\n              ref=\"open\"\r\n              type=\"file\"\r\n              accept=\".fpp,.nimn,.xml,.json\"\r\n              @change=\"openFile\"\r\n            >\r\n          </label>\r\n          <span>Ctrl + i</span>\r\n        </a>\r\n        <a\r\n          href=\"#\"\r\n          ref=\"save\"\r\n          @click=\"showModal = true\"\r\n        >\r\n          <label>Save</label>\r\n          <span>Ctrl + e</span>\r\n        </a>\r\n        <a\r\n          href=\"#\"\r\n          @click=\"openSettings\"\r\n        >\r\n          Settings\r\n        </a>\r\n      </div>\r\n    </div>\r\n\r\n    <modal-save\r\n      v-if=\"showModal\"\r\n      @close=\"showModal = false\"\r\n    >\r\n    </modal-save>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport nimnImageStore from \"./action/nimn-format-imagestore\";\r\nimport nimnAppConfig from \"./action/nimn-format-appconfig\";\r\nimport nimnLabelData from \"./action/nimn-format-labeldata\";\r\nimport ModalSave from \"./model/modal-save\";\r\n\r\nimport { mapMutations } from \"vuex\";\r\nimport { Ext } from \"./filetype\";\r\nimport { decodeCocoJson, decodeDlibXML } from \"./action/file-handler\";\r\nimport { _ } from \"../../utils/app\";\r\n\r\n/**\r\n * Menu component. Valid actions are open/save file, or to open app settings.\r\n * This component also handles decoding files for the \"open\" action.\r\n */\r\nexport default {\r\n  components: {\r\n    \"modal-save\": ModalSave\r\n  },\r\n  data() {\r\n    return {\r\n      // Boolean toggle to display modal-save component\r\n      showModal: false\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"app-config\", {\r\n      initAppConfig: \"init\"\r\n    }),\r\n\r\n    ...mapMutations(\"image-store\", {\r\n      initImageStore: \"init\"\r\n    }),\r\n    ...mapMutations(\"label-data\", {\r\n      initLabelData: \"init\"\r\n    }),\r\n\r\n    /**\r\n     * Loads dlib xml file data to store\r\n     * @param {String} data - dlib xml data\r\n     */\r\n    loadDlibXml(data) {\r\n      let storeData = decodeDlibXML(data);\r\n      this.initImageStore(storeData);\r\n    },\r\n\r\n    /**\r\n     * Loads Coco json file data to store\r\n     * @param {String} data - coco json data\r\n     */\r\n    loadJSONFile(data) {\r\n      let storeData = decodeCocoJson(JSON.parse(data));\r\n      this.initImageStore(storeData[\"image-store\"]);\r\n      this.initLabelData(storeData[\"label-data\"]);\r\n    },\r\n\r\n    /**\r\n     * Loads .nimn file data to store\r\n     * @param {String} data - nimn file data\r\n     */\r\n    loadProjectFile(data) {\r\n      var nimn = require(\"nimnjs\");\r\n\r\n      let nimnStore = {\r\n        type: \"map\",\r\n        detail: [nimnImageStore, nimnAppConfig, nimnLabelData]\r\n      };\r\n\r\n      let schemaStore = nimn.buildSchema(nimnStore);\r\n      let nimnObj = nimn.parse(schemaStore, data);\r\n\r\n      this.initAppConfig(nimnObj[\"app-config\"]);\r\n      this.initImageStore(nimnObj[\"image-store\"]);\r\n      this.initLabelData(nimnObj[\"label-data\"]);\r\n    },\r\n\r\n    openSettings() {\r\n      console.log(\"openSettings\");\r\n    },\r\n\r\n    /**\r\n     * Opens file and initialize store\r\n     * @param {Event} event - click Event\r\n     */\r\n    openFile(event) {\r\n      var input = event.srcElement;\r\n      if (input.files && input.files[0]) {\r\n        var dataFile = input.files[0];\r\n\r\n        var reader = new FileReader();\r\n        reader.onload = e => {\r\n          if (dataFile.name.endsWith(\".json\")) {\r\n            this.loadJSONFile(e.target.result);\r\n          } else if (dataFile.name.endsWith(Ext.NIMN)) {\r\n            this.loadProjectFile(e.target.result);\r\n          } else if (dataFile.name.endsWith(\".fpp\")) {\r\n            this.loadFpp(e.target.result);\r\n          } else if (dataFile.name.endsWith(\".xml\")) {\r\n            this.loadDlibXml(e.target.result);\r\n          } else {\r\n            console.log(\"Not supported\");\r\n          }\r\n        };\r\n\r\n        reader.readAsText(input.files[0]);\r\n      }\r\n      input.value = null;\r\n    },\r\n\r\n    /**\r\n     * Shortcuts\r\n     * @param {Event} event - keydown event\r\n     */\r\n    shortcuts(event) {\r\n      if (\r\n        (event.key === \"I\" || event.key === \"i\") &&\r\n        !event.shiftKey &&\r\n        !event.altKey &&\r\n        event.ctrlKey\r\n      ) {\r\n        this.$refs.open.click();\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      } else if (\r\n        (event.key === \"E\" || event.key === \"e\") &&\r\n        !event.shiftKey &&\r\n        !event.altKey &&\r\n        event.ctrlKey\r\n      ) {\r\n        this.$refs.save.click();\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    // Adds shortcuts to global keydown event\r\n    _.on(document, \"keydown\", this.shortcuts);\r\n  },\r\n  beforeDestroy() {\r\n    // Remove shortcuts from global keydown event\r\n    _.off(document, \"keydown\", this.shortcuts);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n  .dropdown-content{\r\n    z-index: 4;\r\n  }\r\n\r\n  .dropdown-content > a {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .dropdown-content > a > span{\r\n    padding: .2em .4em .4em .4em;\r\n    font-size: 80%;\r\n  }\r\n\r\n  .dropbtn {\r\n    color: white;\r\n    font-size: 16px;\r\n    border: none;\r\n  }\r\n\r\n  .dropdown {\r\n    position: relative;\r\n    display: inline-block;\r\n  }\r\n\r\n  .dropdown-content {\r\n    display: none;\r\n    position: absolute;\r\n    background-color: #f1f1f1;\r\n    min-width: 160px;\r\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\r\n    z-index: 1;\r\n  }\r\n\r\n  .dropdown-content a {\r\n    color: black;\r\n    padding: 12px 16px;\r\n    text-decoration: none;\r\n    display: block;\r\n  }\r\n\r\n  .dropdown-content a:hover {\r\n    background-color: #ddd;\r\n  }\r\n\r\n  .dropdown:hover .dropdown-content {\r\n    display: block;\r\n  }\r\n\r\n  .dropdown:hover .dropbtn {\r\n    background-color: #17a2b8;\r\n  }\r\n\r\n  .btn-bs-file {\r\n    position:relative;\r\n  }\r\n\r\n  .btn-bs-file input[type=\"file\"] {\r\n    position: absolute;\r\n    top: -9999999;\r\n    filter: alpha(opacity=0);\r\n    opacity: 0;\r\n    width:0;\r\n    height:0;\r\n    outline: none;\r\n    cursor: inherit;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./menu.vue?vue&type=template&id=48320780&scoped=true&lang=html&\"\nimport script from \"./menu.vue?vue&type=script&lang=js&\"\nexport * from \"./menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./menu.vue?vue&type=style&index=0&id=48320780&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48320780\",\n  null\n  \n)\n\ncomponent.options.__file = \"menu.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('small',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}]},[_vm._v(\"\\n    \"+_vm._s(_vm.x)+\", \"+_vm._s(_vm.y)+\"\\n  \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\r\n  <div>\r\n    <small v-show=\"show\">\r\n      {{ x }}, {{ y }}\r\n    </small>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { MouseCoordBus } from \"../../utils/mouseCoordBus\";\r\n\r\n/**\r\n * Displays the mouse coordinates on the canvas\r\n */\r\nexport default {\r\n  data() {\r\n    return {\r\n      // Mouse x coord\r\n      x: 0,\r\n      // Mouse y coord\r\n      y: 0,\r\n      // Boolean toggle to show mouse coordinate\r\n      show: false\r\n    };\r\n  },\r\n  methods: {\r\n    /**\r\n     * Hides mouse position on mouse leave event\r\n     */\r\n    hideMousePosition() {\r\n      this.show = false;\r\n      this.x = 0;\r\n      this.y = 0;\r\n    },\r\n\r\n    /**\r\n     * Updates mouse position on mouse move event\r\n     */\r\n    updateMousePosition(x, y) {\r\n      this.show = true;\r\n      this.x = x;\r\n      this.y = y;\r\n    }\r\n  },\r\n  mounted() {\r\n    /**\r\n     * Listens to mouse-move and mouse-leave events on MOuseCoordBus event bus\r\n     */\r\n    MouseCoordBus.$on(\"mouse-move\", this.updateMousePosition);\r\n    MouseCoordBus.$on(\"mouse-leave\", this.hideMousePosition);\r\n  },\r\n  beforeDestroy() {\r\n    /**\r\n     * Stops listening to mouse-move and mouse-leave events on event bus\r\n     */\r\n    MouseCoordBus.$off(\"mouse-move\", this.updateMousePosition);\r\n    MouseCoordBus.$off(\"mouse-leave\", this.hideMousePosition);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\">\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mouse-coordinates.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mouse-coordinates.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mouse-coordinates.vue?vue&type=template&id=bef24bde&lang=html&\"\nimport script from \"./mouse-coordinates.vue?vue&type=script&lang=js&\"\nexport * from \"./mouse-coordinates.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mouse-coordinates.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"mouse-coordinates.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('transition',{attrs:{\"name\":\"modal\"}},[_c('div',{staticClass:\"modal-mask\"},[_c('div',{staticClass:\"modal-wrapper\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-container\"},[_c('div',{staticClass:\"modal-header\"},[_c('h3',{staticClass:\"modal-title\"},[_vm._v(\"Recovery\")])]),_c('div',{staticClass:\"modal-body\"},[_vm._v(\"\\n          You've previously saved data. Would you like to restore it?\\n        \")]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary float-right\",attrs:{\"type\":\"button\",\"name\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":_vm.clearCache}},[_vm._v(\"\\n            No\\n          \")]),_c('button',{staticClass:\"btn btn-primary float-right\",attrs:{\"type\":\"button\",\"name\":\"button\"},on:{\"click\":_vm.restoreData}},[_vm._v(\"\\n            Yes\\n          \")])])])])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\r\n  <transition\r\n    name=\"modal\"\r\n    v-if=\"show\"\r\n  >\r\n    <div\r\n      class=\"modal-mask\"\r\n    >\r\n      <div\r\n        class=\"modal-wrapper\"\r\n        role=\"document\"\r\n      >\r\n        <div class=\"modal-container\">\r\n          <div class=\"modal-header\">\r\n            <h3 class=\"modal-title\">Recovery</h3>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            You've previously saved data. Would you like to restore it?\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              name=\"button\"\r\n              class=\"btn btn-secondary float-right\"\r\n              data-dismiss=\"modal\"\r\n              @click=\"clearCache\"\r\n            >\r\n              No\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              name=\"button\"\r\n              class=\"btn btn-primary float-right\"\r\n              @click=\"restoreData\"\r\n            >\r\n              Yes\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\n\r\n/**\r\n * WIP: Switch implementation to indexeddb\r\n */\r\nexport default {\r\n  data() {\r\n    return {\r\n      // Toggle component\r\n      show: false,\r\n      storeData: null\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      localStoreData: \"getLocalStoreData\"\r\n    })\r\n  },\r\n  methods: {\r\n    // TODO: Switch whole implementation once indexeddb is used\r\n    /**\r\n     * Checks if there is browser cache\r\n     */\r\n    checkBrowserCache() {\r\n      let cache = this.localStoreData;\r\n      if (!cache) return;\r\n      this.show = true;\r\n      this.storeData = cache;\r\n    },\r\n\r\n    /**\r\n     * Clear local storage and emit close event\r\n     */\r\n    clearCache() {\r\n      this.show = false;\r\n      localStorage.clear();\r\n    },\r\n\r\n    /**\r\n     * Restores data and emits close event\r\n     */\r\n    restoreData() {\r\n      this.show = false;\r\n      this.$store.commit(\"initializeStore\", { storeData: this.storeData });\r\n    }\r\n  },\r\n  mounted() {\r\n    /**\r\n     * Check browser cache when component is mounted\r\n     */\r\n    this.checkBrowserCache();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n  .modal-mask {\r\n    position: fixed;\r\n    z-index: 9998;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, .5);\r\n    display: table;\r\n    transition: opacity .3s ease;\r\n  }\r\n\r\n  .modal-wrapper {\r\n    display: table-cell;\r\n    vertical-align: middle;\r\n  }\r\n\r\n  .modal-container {\r\n    width: 300px;\r\n    margin: 0px auto;\r\n    padding: 20px 30px;\r\n    background-color: #fff;\r\n    border-radius: 2px;\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, .33);\r\n    transition: all .3s ease;\r\n    font-family: Helvetica, Arial, sans-serif;\r\n  }\r\n\r\n  .modal-header h3 {\r\n    margin-top: 0;\r\n    color: #42b983;\r\n  }\r\n\r\n  .modal-body {\r\n    margin: 20px 0;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./restore-data.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./restore-data.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./restore-data.vue?vue&type=template&id=0d5de786&scoped=true&lang=html&\"\nimport script from \"./restore-data.vue?vue&type=script&lang=js&\"\nexport * from \"./restore-data.vue?vue&type=script&lang=js&\"\nimport style0 from \"./restore-data.vue?vue&type=style&index=0&id=0d5de786&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d5de786\",\n  null\n  \n)\n\ncomponent.options.__file = \"restore-data.vue\"\nexport default component.exports","<template>\r\n  <div class=\"imglab\">\r\n    <prompt-restore></prompt-restore>\r\n    <div class=\"container-fluid\">\r\n      <div id=\"menubar\" class=\"row overlay-color align-items-center\">\r\n        <div class=\"col-3 col-sm-2 col-md-1 col-xl-1 no-pl\">\r\n          <app-menu></app-menu>\r\n        </div>\r\n        <div class=\"col-6 col-sm-6 col-md-7 col-xl-7 text-center\">\r\n          <!-- form-inline input-group -->\r\n          <div class=\"row justify-content-center align-content-center\">\r\n            <a href=\"https://github.com/NaturalIntelligence/imglab\">\r\n\t\t\t        <img src=\"./assets/imglab_logo.png\" height=\"48px\" style=\"margin-top: 2px\">\r\n              <span style=\"font-size: 2em; margin-top:5px;\">Img Lab</span>\r\n  \t\t\t\t\t</a>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-3 col-sm-4 col-md-4 col-xl-4\">\r\n          <div class=\"form-inline flex-row-reverse float-right\">\r\n            <!-- <a class=\"btn btn-info\" onclick=\"javascript:displayDonationPrompt()\" style=\"margin: 0px 10px;\">Donate</a> -->\r\n            <!-- <shortcuts class=\"d-none d-md-block\"></shortcuts>\r\n            <plugins-menu class=\"d-none d-md-block\"></plugins-menu> -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- End of Menubar -->\r\n      <div class=\"row\" style=\"height: 95vh\">\r\n        <div id=\"toolbar\" class=\"col-1 overlay-color grey-border\">\r\n          <toolbox :toolType=\"LABEL_TAG\"></toolbox>\r\n          <toolbox :toolType=\"CANVAS_TAG\" class=\"toolbox-border-top\"></toolbox>\r\n          <mouse-coord></mouse-coord>\r\n        </div>\r\n        <div class=\"col-9 base-color\" style=\"height: 100%;\">\r\n          <div>\r\n            <actionbar style=\"height: 10%\"></actionbar>\r\n          </div>\r\n          <div style=\"height: 75%;\">\r\n            <workarea></workarea>\r\n          </div>\r\n          <div class=\"grey-border\" style=\"height: 15%; width: 100%; margin: 0px 2px;\">\r\n            <image-slider thumbnail-width=\"90px\"></image-slider>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-2 overlay-color grey-border\">\r\n          <label-panel style=\"flex: 1; overflow: auto;\"></label-panel>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ActionBar from \"./components/action-bar/action-bar\";\r\nimport ToolBox from \"./components/tools/toolbox\";\r\nimport WorkArea from \"./components/workarea/workarea\";\r\nimport ImageSlider from \"./components/image-slider/image-slider\";\r\nimport LabelPanel from \"./components/label-panel/label-panel\";\r\nimport Menu from \"./components/menu/menu\";\r\nimport MouseCoord from \"./components/mouse-coordinates/mouse-coordinates\";\r\nimport PromptRestoreData from \"./components/prompt-restore-data/restore-data\";\r\nimport { LABEL_TAG, CANVAS_TAG } from \"./utils/tool-names\";\r\n\r\nexport default {\r\n  components: {\r\n    workarea: WorkArea,\r\n    \"image-slider\": ImageSlider,\r\n    toolbox: ToolBox,\r\n    actionbar: ActionBar,\r\n    \"label-panel\": LabelPanel,\r\n    \"app-menu\": Menu,\r\n    \"prompt-restore\": PromptRestoreData,\r\n    \"mouse-coord\": MouseCoord\r\n  },\r\n  data() {\r\n    return {\r\n      LABEL_TAG,\r\n      CANVAS_TAG\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.imglab {\r\n  height: 100vh;\r\n}\r\n\r\n.labelpolygon,\r\n.labelcircle,\r\n.labelbox {\r\n  fill: yellow;\r\n  stroke: green;\r\n  stroke-width: 2px;\r\n  fill-opacity: 0.1;\r\n}\r\n\r\n.svg_select_points {\r\n  fill: black;\r\n  fill-opacity: 0.1;\r\n  stroke: grey;\r\n}\r\n\r\n.svg_select_points_point {\r\n  cursor: move;\r\n}\r\n\r\n.svg_select_boundingRect {\r\n  stroke-width: 1;\r\n  fill: gray;\r\n  stroke-dasharray: initial !important;\r\n  stroke: #000;\r\n  stroke-opacity: 0.8;\r\n  fill-opacity: 0.1;\r\n  pointer-events: none; /* This ons is needed if you want to deselect or drag the shape*/\r\n}\r\n\r\n#menubar {\r\n  height: 5vh;\r\n  min-height: 50px;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3b75a710&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","const SVG = require(\"svg.js\");\r\nrequire(\"svg.draw.js\");\r\nrequire(\"svg.select.js\");\r\nrequire(\"svg.draggable.js\");\r\nrequire(\"svg.resize.js\");\r\n\r\nexport default {\r\n  install: Vue => {\r\n    Vue.prototype.$svg = SVG;\r\n  }\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('input',{ref:\"input\",class:_vm.autocompleteClass,attrs:{\"type\":\"text\",\"placeholer\":_vm.placeholder},domProps:{\"value\":_vm.text},on:{\"blur\":_vm.onInputBlur,\"click\":function($event){_vm.showSuggestions = true},\"input\":_vm.onInput,\"keydown\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }$event.stopPropagation();_vm.moveSelection(-1)},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }$event.stopPropagation();_vm.moveSelection(1)},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.selectSuggestion($event)},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"esc\",27,$event.key,\"Escape\")){ return null; }return _vm.resetState($event)}]}}),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSuggestions && _vm.suggestions.length),expression:\"showSuggestions && suggestions.length\"}],ref:\"suggestions\",staticClass:\"list-style\",class:_vm.autocompleteClass,attrs:{\"tabindex\":\"-1\"},on:{\"mouseleave\":function($event){_vm.selected = -1}}},_vm._l((_vm.suggestions),function(suggestion,index){return _c('li',{key:index,staticClass:\"list-item-style\",class:{ focused: index === _vm.selected },on:{\"click\":_vm.selectSuggestion,\"mouseenter\":function($event){_vm.selected = index}}},[_c('div',[_vm._v(\"\\n        \"+_vm._s(suggestion)+\"\\n      \")])])}))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template  lang=\"html\">\r\n  <div>\r\n    <input\r\n      ref=\"input\"\r\n      type=\"text\"\r\n      :class=\"autocompleteClass\"\r\n      :placeholer=\"placeholder\"\r\n      :value=\"text\"\r\n      @blur=\"onInputBlur\"\r\n      @click=\"showSuggestions = true\"\r\n      @input=\"onInput\"\r\n      @keydown.up.stop=\"moveSelection(-1)\"\r\n      @keydown.down.stop=\"moveSelection(1)\"\r\n      @keydown.enter=\"selectSuggestion\"\r\n      @keydown.esc=\"resetState\"\r\n    >\r\n    <ul\r\n      v-show=\"showSuggestions && suggestions.length\"\r\n      class=\"list-style\"\r\n      ref=\"suggestions\"\r\n      tabindex=\"-1\"\r\n      :class=\"autocompleteClass\"\r\n      @mouseleave=\"selected = -1\"\r\n    >\r\n      <li\r\n        v-for=\"(suggestion, index) in suggestions\"\r\n        class=\"list-item-style\"\r\n        :key=\"index\"\r\n        :class=\"{ focused: index === selected }\"\r\n        @click=\"selectSuggestion\"\r\n        @mouseenter=\"selected = index\"\r\n      >\r\n        <div>\r\n          {{ suggestion }}\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst debounce = require(\"lodash.debounce\");\r\n\r\n/**\r\n * Custom autocomplete component. Allows a list of suggested values to be\r\n * passed into the component. Toggle \"filter\" flag to either filter the list or\r\n * to display the whole list of suggestions. Allows placeholder and value to be\r\n * passed in as the default placeholder and initial value of autocomplete\r\n * component.\r\n */\r\nexport default {\r\n  props: {\r\n    // Apply styles listed in the array of classes\r\n    autocompleteClass: Array,\r\n    /**\r\n     * Set filter to false to disable filtering list by input tag value\r\n     * @default true\r\n     */\r\n    filter: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    /**\r\n     * List of recommended values\r\n     * @default []\r\n     */\r\n    list: {\r\n      type: Array,\r\n      default: function() {\r\n        return [];\r\n      }\r\n    },\r\n    // Initial input tag placeholder\r\n    placeholder: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    // Initial input tag value\r\n    value: {\r\n      type: String,\r\n      default: \"\"\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // Input tag text\r\n      text: this.value,\r\n      // Selected item index from list\r\n      selected: -1,\r\n      // Toggle suggestion list\r\n      showSuggestions: false\r\n    };\r\n  },\r\n  computed: {\r\n    /**\r\n     * Returns a filtered list of suggestion\r\n     */\r\n    suggestions() {\r\n      if (!this.filter) return this.list;\r\n      return this.list.filter(item => item.includes(this.text));\r\n    },\r\n\r\n    /**\r\n     * Debounce emitAddEvent is added here to allow method to be flushed\r\n     */\r\n    debouncedEmitAddEvent() {\r\n      return debounce(this.emitAddEvent, 2000);\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * Emits add event. Should not be used by itself.\r\n     * @param {String} val - selected string value\r\n     */\r\n    emitAddEvent: function(val) {\r\n      /**\r\n       * Emits an added event with the current input value\r\n       * @param {String} val - current input value\r\n       */\r\n      this.$emit(\"added\", val);\r\n    },\r\n\r\n    /**\r\n     * Checks if index is valid\r\n     * @param {Number} index - list item index\r\n     * @return {Boolean} true if valid; false otherwise\r\n     */\r\n    isValid(index) {\r\n      return index >= -1 && index < this.suggestions.length;\r\n    },\r\n\r\n    /**\r\n     * Selects item based on index position\r\n     * @param {Number} step - increment from current position by #step\r\n     */\r\n    moveSelection(step) {\r\n      this.showSuggestions = true;\r\n\r\n      let nextPos = this.selected + step;\r\n\r\n      if (!this.isValid(nextPos)) return;\r\n\r\n      this.selected = nextPos;\r\n    },\r\n\r\n    /**\r\n     * Sets the text used to filter and show suggestions\r\n     * @param {Event} event - input event\r\n     */\r\n    onInput(event) {\r\n      let value = event.target.value;\r\n      if (event.target.value.length) {\r\n        this.showSuggestions = true;\r\n      } else {\r\n        this.showSuggestions = false;\r\n      }\r\n      this.text = value;\r\n      this.debouncedEmitAddEvent(value);\r\n    },\r\n\r\n    /**\r\n     * Blur event: When input loses focus, check if component also loses focus,\r\n     * flush previous `added` events and reset state if true; stop otherwise\r\n     * @param {Event} event - blur event\r\n     */\r\n    onInputBlur(event) {\r\n      // Input blur due to component being clicked, stop\r\n      if (this.$el.contains(event.relatedTarget)) {\r\n        return;\r\n      }\r\n      // Input blur due to outside component being clicked, reset state\r\n      this.resetState();\r\n      this.debouncedEmitAddEvent.flush();\r\n    },\r\n\r\n    /**\r\n     * Hide suggestion list and reset selected position to -1\r\n     */\r\n    resetState() {\r\n      this.selected = -1;\r\n      this.showSuggestions = false;\r\n    },\r\n\r\n    /**\r\n     * Sends clicked suggestion via `selected` event\r\n     * @param {Event} event - click event\r\n     */\r\n    selectSuggestion(event) {\r\n      // Necessary to maintain input focus\r\n      event.preventDefault();\r\n\r\n      let index = this.selected;\r\n      if (!this.isValid(index)) return;\r\n\r\n      // Pressed enter without a valid selection, flush and continue\r\n      if (index === -1) {\r\n        this.debouncedEmitAddEvent.flush();\r\n        this.resetState();\r\n        return;\r\n      }\r\n\r\n      // Cancel previous add event and emit selected event\r\n      this.debouncedEmitAddEvent.cancel();\r\n\r\n      let val = this.suggestions[index];\r\n      this.text = val;\r\n      /**\r\n       * Emits selected event if successful\r\n       * @param {String} val - selected text\r\n       */\r\n      this.$emit(\"selected\", val);\r\n\r\n      this.resetState();\r\n      this.$refs.input.focus();\r\n    }\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      // Set text value if there are any changes\r\n      this.text = val;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n  .inline-block {\r\n    display: inline-block;\r\n  }\r\n\r\n  .suggestion-box {\r\n    border: 2px solid;\r\n  }\r\n\r\n  .list-style {\r\n    list-style: none;\r\n    position: relative;\r\n    z-index: 999;\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n\r\n  .list-item-style {\r\n    padding: 4px 20px;\r\n    background-color: white;\r\n    border: 1px solid black;\r\n  }\r\n\r\n  .focused {\r\n    background-color: #03a9f4;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autocomplete-input.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autocomplete-input.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./autocomplete-input.vue?vue&type=template&id=7c291627&scoped=true&lang=html&\"\nimport script from \"./autocomplete-input.vue?vue&type=script&lang=js&\"\nexport * from \"./autocomplete-input.vue?vue&type=script&lang=js&\"\nimport style0 from \"./autocomplete-input.vue?vue&type=style&index=0&id=7c291627&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c291627\",\n  null\n  \n)\n\ncomponent.options.__file = \"autocomplete-input.vue\"\nexport default component.exports","import Vue from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport store from \"./store/store\";\r\nimport svgjs from \"./plugins/svg\";\r\nimport Draggable from \"vuedraggable\";\r\nimport AutocompleteInput from \"./components/autocomplete-input/autocomplete-input\";\r\nimport VueAnalytics from \"vue-analytics\";\r\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport {\r\n  faBars,\r\n  faChevronLeft,\r\n  faChevronRight,\r\n  faImages,\r\n  faPlus,\r\n  faSearchPlus,\r\n  faSearchMinus,\r\n  faTimes,\r\n  faUndo\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport {\r\n  faFolderOpen as farFolderOpen,\r\n  faHandRock as farHandRock,\r\n  faLightbulb as farLightbulb,\r\n  faTrashAlt as farTrashAlt\r\n} from \"@fortawesome/free-regular-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\r\n\r\nimport \"./../node_modules/bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nVue.use(VueAnalytics, {\r\n  id: \"UA-119603824-1\"\r\n});\r\nVue.use(svgjs);\r\n\r\nlibrary.add(\r\n  faBars,\r\n  faChevronLeft,\r\n  faChevronRight,\r\n  faImages,\r\n  faPlus,\r\n  faSearchPlus,\r\n  faSearchMinus,\r\n  faTimes,\r\n  faUndo,\r\n  farFolderOpen,\r\n  farHandRock,\r\n  farLightbulb,\r\n  farTrashAlt\r\n);\r\n\r\nVue.component(\"autocomplete-input\", AutocompleteInput);\r\nVue.component(\"draggable\", Draggable);\r\nVue.component(\"font-awesome-icon\", FontAwesomeIcon);\r\n\r\nVue.config.productionTip = false;\r\n\r\nnew Vue({\r\n  store,\r\n  render: h => h(App)\r\n}).$mount(\"#app\");\r\n","module.exports = __webpack_public_path__ + \"img/zoomin.5e450543.svg\";","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-zoom.vue?vue&type=style&index=0&id=b2b1bf94&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-zoom.vue?vue&type=style&index=0&id=b2b1bf94&lang=css&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/keyboard.522f06fa.svg\";","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel-attribute.vue?vue&type=style&index=0&id=87ef713a&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel-attribute.vue?vue&type=style&index=0&id=87ef713a&lang=css&scoped=true&\"","var map = {\n\t\"./circle.svg\": \"b289\",\n\t\"./clock.svg\": \"755b\",\n\t\"./files-white.png\": \"5313\",\n\t\"./keyboard.svg\": \"649e\",\n\t\"./menu.svg\": \"d17f\",\n\t\"./move.svg\": \"d8c1\",\n\t\"./open.png\": \"8aed\",\n\t\"./point.svg\": \"7c2f\",\n\t\"./polygon.svg\": \"baf3\",\n\t\"./rectangle.svg\": \"3bba\",\n\t\"./zoomin.svg\": \"617a\",\n\t\"./zoomout.svg\": \"bdd3\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"67f7\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workarea.vue?vue&type=style&index=0&id=1e1bbf6c&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./workarea.vue?vue&type=style&index=0&id=1e1bbf6c&lang=css&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/clock.a4b3e481.svg\";","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel-feature-point.vue?vue&type=style&index=0&id=a63dc77e&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel-feature-point.vue?vue&type=style&index=0&id=a63dc77e&lang=css&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/point.c6ccc5d8.svg\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=style&index=0&id=48320780&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=style&index=0&id=48320780&lang=css&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/open.de47886f.png\";","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel-tag.vue?vue&type=style&index=0&id=18daf59c&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel-tag.vue?vue&type=style&index=0&id=18daf59c&lang=css&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./label-panel.vue?vue&type=style&index=0&id=58a7cf7a&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./label-panel.vue?vue&type=style&index=0&id=58a7cf7a&lang=css&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/circle.81dee732.svg\";","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal-save.vue?vue&type=style&index=0&id=bbe00512&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal-save.vue?vue&type=style&index=0&id=bbe00512&lang=css&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/polygon.61a229aa.svg\";","module.exports = __webpack_public_path__ + \"img/zoomout.2e82184a.svg\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mouse-coordinates.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mouse-coordinates.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/menu.8263c531.svg\";","module.exports = __webpack_public_path__ + \"img/move.bf5d09d8.svg\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-bar.vue?vue&type=style&index=0&id=587e921c&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./action-bar.vue?vue&type=style&index=0&id=587e921c&lang=css&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-slider.vue?vue&type=style&index=0&id=79e1b87d&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-slider.vue?vue&type=style&index=0&id=79e1b87d&lang=css&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autocomplete-input.vue?vue&type=style&index=0&id=7c291627&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autocomplete-input.vue?vue&type=style&index=0&id=7c291627&lang=css&scoped=true&\""],"sourceRoot":""}